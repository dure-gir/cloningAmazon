function X2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ns(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var sR={exports:{}},Jp={},oR={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd=Symbol.for("react.element"),Z2=Symbol.for("react.portal"),eM=Symbol.for("react.fragment"),tM=Symbol.for("react.strict_mode"),nM=Symbol.for("react.profiler"),rM=Symbol.for("react.provider"),iM=Symbol.for("react.context"),sM=Symbol.for("react.forward_ref"),oM=Symbol.for("react.suspense"),aM=Symbol.for("react.memo"),lM=Symbol.for("react.lazy"),_T=Symbol.iterator;function uM(t){return t===null||typeof t!="object"?null:(t=_T&&t[_T]||t["@@iterator"],typeof t=="function"?t:null)}var aR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lR=Object.assign,uR={};function Rl(t,e,n){this.props=t,this.context=e,this.refs=uR,this.updater=n||aR}Rl.prototype.isReactComponent={};Rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cR(){}cR.prototype=Rl.prototype;function $w(t,e,n){this.props=t,this.context=e,this.refs=uR,this.updater=n||aR}var Uw=$w.prototype=new cR;Uw.constructor=$w;lR(Uw,Rl.prototype);Uw.isPureReactComponent=!0;var vT=Array.isArray,dR=Object.prototype.hasOwnProperty,Bw={current:null},hR={key:!0,ref:!0,__self:!0,__source:!0};function fR(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)dR.call(e,r)&&!hR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:hd,type:t,key:s,ref:o,props:i,_owner:Bw.current}}function cM(t,e){return{$$typeof:hd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zw(t){return typeof t=="object"&&t!==null&&t.$$typeof===hd}function dM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wT=/\/+/g;function ay(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dM(""+t.key):e.toString(36)}function Kh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hd:case Z2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ay(o,0):r,vT(i)?(n="",t!=null&&(n=t.replace(wT,"$&/")+"/"),Kh(i,e,n,"",function(u){return u})):i!=null&&(zw(i)&&(i=cM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",vT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ay(s,a);o+=Kh(s,e,n,l,i)}else if(l=uM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ay(s,a++),o+=Kh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function uh(t,e,n){if(t==null)return t;var r=[],i=0;return Kh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function hM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var an={current:null},Gh={transition:null},fM={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:Gh,ReactCurrentOwner:Bw};function pR(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:uh,forEach:function(t,e,n){uh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uh(t,function(){e++}),e},toArray:function(t){return uh(t,function(e){return e})||[]},only:function(t){if(!zw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Rl;se.Fragment=eM;se.Profiler=nM;se.PureComponent=$w;se.StrictMode=tM;se.Suspense=oM;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fM;se.act=pR;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lR({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)dR.call(e,l)&&!hR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:hd,type:t.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:iM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rM,_context:t},t.Consumer=t};se.createElement=fR;se.createFactory=function(t){var e=fR.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:sM,render:t}};se.isValidElement=zw;se.lazy=function(t){return{$$typeof:lM,_payload:{_status:-1,_result:t},_init:hM}};se.memo=function(t,e){return{$$typeof:aM,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Gh.transition;Gh.transition={};try{t()}finally{Gh.transition=e}};se.unstable_act=pR;se.useCallback=function(t,e){return an.current.useCallback(t,e)};se.useContext=function(t){return an.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return an.current.useDeferredValue(t)};se.useEffect=function(t,e){return an.current.useEffect(t,e)};se.useId=function(){return an.current.useId()};se.useImperativeHandle=function(t,e,n){return an.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return an.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return an.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return an.current.useMemo(t,e)};se.useReducer=function(t,e,n){return an.current.useReducer(t,e,n)};se.useRef=function(t){return an.current.useRef(t)};se.useState=function(t){return an.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return an.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return an.current.useTransition()};se.version="18.3.1";oR.exports=se;var P=oR.exports;const oe=jw(P),Of=X2({__proto__:null,default:oe},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pM=P,mM=Symbol.for("react.element"),gM=Symbol.for("react.fragment"),yM=Object.prototype.hasOwnProperty,_M=pM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vM={key:!0,ref:!0,__self:!0,__source:!0};function mR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yM.call(e,r)&&!vM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:mM,type:t,key:s,ref:o,props:i,_owner:_M.current}}Jp.Fragment=gM;Jp.jsx=mR;Jp.jsxs=mR;sR.exports=Jp;var f=sR.exports,__={},gR={exports:{}},Mn={},yR={exports:{}},_R={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,K){var Q=$.length;$.push(K);e:for(;0<Q;){var ue=Q-1>>>1,ze=$[ue];if(0<i(ze,K))$[ue]=K,$[Q]=ze,Q=ue;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var K=$[0],Q=$.pop();if(Q!==K){$[0]=Q;e:for(var ue=0,ze=$.length,Hs=ze>>>1;ue<Hs;){var ni=2*(ue+1)-1,nu=$[ni],ri=ni+1,Ks=$[ri];if(0>i(nu,Q))ri<ze&&0>i(Ks,nu)?($[ue]=Ks,$[ri]=Q,ue=ri):($[ue]=nu,$[ni]=Q,ue=ni);else if(ri<ze&&0>i(Ks,Q))$[ue]=Ks,$[ri]=Q,ue=ri;else break e}}return K}function i($,K){var Q=$.sortIndex-K.sortIndex;return Q!==0?Q:$.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,m=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=$)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function I($){if(g=!1,_($),!m)if(n(l)!==null)m=!0,un(E);else{var K=n(u);K!==null&&Yt(I,K.startTime-$)}}function E($,K){m=!1,g&&(g=!1,v(C),C=-1),p=!0;var Q=h;try{for(_(K),d=n(l);d!==null&&(!(d.expirationTime>K)||$&&!ee());){var ue=d.callback;if(typeof ue=="function"){d.callback=null,h=d.priorityLevel;var ze=ue(d.expirationTime<=K);K=t.unstable_now(),typeof ze=="function"?d.callback=ze:d===n(l)&&r(l),_(K)}else r(l);d=n(l)}if(d!==null)var Hs=!0;else{var ni=n(u);ni!==null&&Yt(I,ni.startTime-K),Hs=!1}return Hs}finally{d=null,h=Q,p=!1}}var T=!1,S=null,C=-1,F=5,D=-1;function ee(){return!(t.unstable_now()-D<F)}function Se(){if(S!==null){var $=t.unstable_now();D=$;var K=!0;try{K=S(!0,$)}finally{K?de():(T=!1,S=null)}}else T=!1}var de;if(typeof y=="function")de=function(){y(Se)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,xe=yt.port2;yt.port1.onmessage=Se,de=function(){xe.postMessage(null)}}else de=function(){w(Se,0)};function un($){S=$,T||(T=!0,de())}function Yt($,K){C=w(function(){$(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,un(E))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var Q=h;h=K;try{return $()}finally{h=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,K){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=h;h=$;try{return K()}finally{h=Q}},t.unstable_scheduleCallback=function($,K,Q){var ue=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ue+Q:ue):Q=ue,$){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=Q+ze,$={id:c++,callback:K,priorityLevel:$,startTime:Q,expirationTime:ze,sortIndex:-1},Q>ue?($.sortIndex=Q,e(u,$),n(l)===null&&$===n(u)&&(g?(v(C),C=-1):g=!0,Yt(I,Q-ue))):($.sortIndex=ze,e(l,$),m||p||(m=!0,un(E))),$},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function($){var K=h;return function(){var Q=h;h=K;try{return $.apply(this,arguments)}finally{h=Q}}}})(_R);yR.exports=_R;var wM=yR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EM=P,Nn=wM;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vR=new Set,hc={};function zo(t,e){Za(t,e),Za(t+"Capture",e)}function Za(t,e){for(hc[t]=e,t=0;t<e.length;t++)vR.add(e[t])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v_=Object.prototype.hasOwnProperty,IM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ET={},IT={};function TM(t){return v_.call(IT,t)?!0:v_.call(ET,t)?!1:IM.test(t)?IT[t]=!0:(ET[t]=!0,!1)}function SM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AM(t,e,n,r){if(e===null||typeof e>"u"||SM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vt[t]=new ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vt[e]=new ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vt[t]=new ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vt[t]=new ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vt[t]=new ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vt[t]=new ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vt[t]=new ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vt[t]=new ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vt[t]=new ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var qw=/[\-:]([a-z])/g;function Ww(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qw,Ww);Vt[e]=new ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qw,Ww);Vt[e]=new ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qw,Ww);Vt[e]=new ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vt[t]=new ln(t,1,!1,t.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vt[t]=new ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hw(t,e,n,r){var i=Vt.hasOwnProperty(e)?Vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AM(e,n,i,r)&&(n=null),r||i===null?TM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Oi=EM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ch=Symbol.for("react.element"),Ta=Symbol.for("react.portal"),Sa=Symbol.for("react.fragment"),Kw=Symbol.for("react.strict_mode"),w_=Symbol.for("react.profiler"),wR=Symbol.for("react.provider"),ER=Symbol.for("react.context"),Gw=Symbol.for("react.forward_ref"),E_=Symbol.for("react.suspense"),I_=Symbol.for("react.suspense_list"),Qw=Symbol.for("react.memo"),Ji=Symbol.for("react.lazy"),IR=Symbol.for("react.offscreen"),TT=Symbol.iterator;function iu(t){return t===null||typeof t!="object"?null:(t=TT&&t[TT]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,ly;function bu(t){if(ly===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ly=e&&e[1]||""}return`
`+ly+t}var uy=!1;function cy(t,e){if(!t||uy)return"";uy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{uy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bu(t):""}function PM(t){switch(t.tag){case 5:return bu(t.type);case 16:return bu("Lazy");case 13:return bu("Suspense");case 19:return bu("SuspenseList");case 0:case 2:case 15:return t=cy(t.type,!1),t;case 11:return t=cy(t.type.render,!1),t;case 1:return t=cy(t.type,!0),t;default:return""}}function T_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sa:return"Fragment";case Ta:return"Portal";case w_:return"Profiler";case Kw:return"StrictMode";case E_:return"Suspense";case I_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ER:return(t.displayName||"Context")+".Consumer";case wR:return(t._context.displayName||"Context")+".Provider";case Gw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qw:return e=t.displayName||null,e!==null?e:T_(t.type)||"Memo";case Ji:e=t._payload,t=t._init;try{return T_(t(e))}catch{}}return null}function RM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T_(e);case 8:return e===Kw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Es(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function TR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bM(t){var e=TR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dh(t){t._valueTracker||(t._valueTracker=bM(t))}function SR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=TR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function S_(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ST(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Es(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function AR(t,e){e=e.checked,e!=null&&Hw(t,"checked",e,!1)}function A_(t,e){AR(t,e);var n=Es(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?P_(t,e.type,n):e.hasOwnProperty("defaultValue")&&P_(t,e.type,Es(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function AT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function P_(t,e,n){(e!=="number"||Nf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cu=Array.isArray;function Ma(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Es(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function R_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function PT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Cu(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Es(n)}}function PR(t,e){var n=Es(e.value),r=Es(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function RT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function b_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hh,bR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hh=hh||document.createElement("div"),hh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CM=["Webkit","ms","Moz","O"];Object.keys(Uu).forEach(function(t){CM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uu[e]=Uu[t]})});function CR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uu.hasOwnProperty(t)&&Uu[t]?(""+e).trim():e+"px"}function kR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=CR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var kM=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function C_(t,e){if(e){if(kM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function k_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x_=null;function Yw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var O_=null,Va=null,Fa=null;function bT(t){if(t=md(t)){if(typeof O_!="function")throw Error(O(280));var e=t.stateNode;e&&(e=nm(e),O_(t.stateNode,t.type,e))}}function xR(t){Va?Fa?Fa.push(t):Fa=[t]:Va=t}function OR(){if(Va){var t=Va,e=Fa;if(Fa=Va=null,bT(t),e)for(t=0;t<e.length;t++)bT(e[t])}}function NR(t,e){return t(e)}function DR(){}var dy=!1;function LR(t,e,n){if(dy)return t(e,n);dy=!0;try{return NR(t,e,n)}finally{dy=!1,(Va!==null||Fa!==null)&&(DR(),OR())}}function pc(t,e){var n=t.stateNode;if(n===null)return null;var r=nm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var N_=!1;if(Ei)try{var su={};Object.defineProperty(su,"passive",{get:function(){N_=!0}}),window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{N_=!1}function xM(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Bu=!1,Df=null,Lf=!1,D_=null,OM={onError:function(t){Bu=!0,Df=t}};function NM(t,e,n,r,i,s,o,a,l){Bu=!1,Df=null,xM.apply(OM,arguments)}function DM(t,e,n,r,i,s,o,a,l){if(NM.apply(this,arguments),Bu){if(Bu){var u=Df;Bu=!1,Df=null}else throw Error(O(198));Lf||(Lf=!0,D_=u)}}function qo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function MR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function CT(t){if(qo(t)!==t)throw Error(O(188))}function LM(t){var e=t.alternate;if(!e){if(e=qo(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return CT(i),t;if(s===r)return CT(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function VR(t){return t=LM(t),t!==null?FR(t):null}function FR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FR(t);if(e!==null)return e;t=t.sibling}return null}var jR=Nn.unstable_scheduleCallback,kT=Nn.unstable_cancelCallback,MM=Nn.unstable_shouldYield,VM=Nn.unstable_requestPaint,et=Nn.unstable_now,FM=Nn.unstable_getCurrentPriorityLevel,Jw=Nn.unstable_ImmediatePriority,$R=Nn.unstable_UserBlockingPriority,Mf=Nn.unstable_NormalPriority,jM=Nn.unstable_LowPriority,UR=Nn.unstable_IdlePriority,Xp=null,Ur=null;function $M(t){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(Xp,t,void 0,(t.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:zM,UM=Math.log,BM=Math.LN2;function zM(t){return t>>>=0,t===0?32:31-(UM(t)/BM|0)|0}var fh=64,ph=4194304;function ku(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ku(a):(s&=o,s!==0&&(r=ku(s)))}else o=n&~i,o!==0?r=ku(o):s!==0&&(r=ku(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fr(e),i=1<<n,r|=t[n],e&=~i;return r}function qM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WM(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-fr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=qM(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function L_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function BR(){var t=fh;return fh<<=1,!(fh&4194240)&&(fh=64),t}function hy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fr(e),t[e]=n}function HM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Xw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ve=0;function zR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qR,Zw,WR,HR,KR,M_=!1,mh=[],cs=null,ds=null,hs=null,mc=new Map,gc=new Map,es=[],KM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xT(t,e){switch(t){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":mc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gc.delete(e.pointerId)}}function ou(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=md(e),e!==null&&Zw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GM(t,e,n,r,i){switch(e){case"focusin":return cs=ou(cs,t,e,n,r,i),!0;case"dragenter":return ds=ou(ds,t,e,n,r,i),!0;case"mouseover":return hs=ou(hs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return mc.set(s,ou(mc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gc.set(s,ou(gc.get(s)||null,t,e,n,r,i)),!0}return!1}function GR(t){var e=lo(t.target);if(e!==null){var n=qo(e);if(n!==null){if(e=n.tag,e===13){if(e=MR(n),e!==null){t.blockedOn=e,KR(t.priority,function(){WR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=V_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);x_=r,n.target.dispatchEvent(r),x_=null}else return e=md(n),e!==null&&Zw(e),t.blockedOn=n,!1;e.shift()}return!0}function OT(t,e,n){Qh(t)&&n.delete(e)}function QM(){M_=!1,cs!==null&&Qh(cs)&&(cs=null),ds!==null&&Qh(ds)&&(ds=null),hs!==null&&Qh(hs)&&(hs=null),mc.forEach(OT),gc.forEach(OT)}function au(t,e){t.blockedOn===e&&(t.blockedOn=null,M_||(M_=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,QM)))}function yc(t){function e(i){return au(i,t)}if(0<mh.length){au(mh[0],t);for(var n=1;n<mh.length;n++){var r=mh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(cs!==null&&au(cs,t),ds!==null&&au(ds,t),hs!==null&&au(hs,t),mc.forEach(e),gc.forEach(e),n=0;n<es.length;n++)r=es[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<es.length&&(n=es[0],n.blockedOn===null);)GR(n),n.blockedOn===null&&es.shift()}var ja=Oi.ReactCurrentBatchConfig,Ff=!0;function YM(t,e,n,r){var i=ve,s=ja.transition;ja.transition=null;try{ve=1,e0(t,e,n,r)}finally{ve=i,ja.transition=s}}function JM(t,e,n,r){var i=ve,s=ja.transition;ja.transition=null;try{ve=4,e0(t,e,n,r)}finally{ve=i,ja.transition=s}}function e0(t,e,n,r){if(Ff){var i=V_(t,e,n,r);if(i===null)Iy(t,e,r,jf,n),xT(t,r);else if(GM(i,t,e,n,r))r.stopPropagation();else if(xT(t,r),e&4&&-1<KM.indexOf(t)){for(;i!==null;){var s=md(i);if(s!==null&&qR(s),s=V_(t,e,n,r),s===null&&Iy(t,e,r,jf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Iy(t,e,r,null,n)}}var jf=null;function V_(t,e,n,r){if(jf=null,t=Yw(r),t=lo(t),t!==null)if(e=qo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=MR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jf=t,null}function QR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FM()){case Jw:return 1;case $R:return 4;case Mf:case jM:return 16;case UR:return 536870912;default:return 16}default:return 16}}var ss=null,t0=null,Yh=null;function YR(){if(Yh)return Yh;var t,e=t0,n=e.length,r,i="value"in ss?ss.value:ss.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Yh=i.slice(t,1<r?1-r:void 0)}function Jh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gh(){return!0}function NT(){return!1}function Vn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gh:NT,this.isPropagationStopped=NT,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gh)},persist:function(){},isPersistent:gh}),e}var bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n0=Vn(bl),pd=Ue({},bl,{view:0,detail:0}),XM=Vn(pd),fy,py,lu,Zp=Ue({},pd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lu&&(lu&&t.type==="mousemove"?(fy=t.screenX-lu.screenX,py=t.screenY-lu.screenY):py=fy=0,lu=t),fy)},movementY:function(t){return"movementY"in t?t.movementY:py}}),DT=Vn(Zp),ZM=Ue({},Zp,{dataTransfer:0}),eV=Vn(ZM),tV=Ue({},pd,{relatedTarget:0}),my=Vn(tV),nV=Ue({},bl,{animationName:0,elapsedTime:0,pseudoElement:0}),rV=Vn(nV),iV=Ue({},bl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sV=Vn(iV),oV=Ue({},bl,{data:0}),LT=Vn(oV),aV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uV[t])?!!e[t]:!1}function r0(){return cV}var dV=Ue({},pd,{key:function(t){if(t.key){var e=aV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r0,charCode:function(t){return t.type==="keypress"?Jh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hV=Vn(dV),fV=Ue({},Zp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MT=Vn(fV),pV=Ue({},pd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r0}),mV=Vn(pV),gV=Ue({},bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),yV=Vn(gV),_V=Ue({},Zp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vV=Vn(_V),wV=[9,13,27,32],i0=Ei&&"CompositionEvent"in window,zu=null;Ei&&"documentMode"in document&&(zu=document.documentMode);var EV=Ei&&"TextEvent"in window&&!zu,JR=Ei&&(!i0||zu&&8<zu&&11>=zu),VT=" ",FT=!1;function XR(t,e){switch(t){case"keyup":return wV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function IV(t,e){switch(t){case"compositionend":return ZR(e);case"keypress":return e.which!==32?null:(FT=!0,VT);case"textInput":return t=e.data,t===VT&&FT?null:t;default:return null}}function TV(t,e){if(Aa)return t==="compositionend"||!i0&&XR(t,e)?(t=YR(),Yh=t0=ss=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JR&&e.locale!=="ko"?null:e.data;default:return null}}var SV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SV[t.type]:e==="textarea"}function eb(t,e,n,r){xR(r),e=$f(e,"onChange"),0<e.length&&(n=new n0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qu=null,_c=null;function AV(t){db(t,0)}function em(t){var e=ba(t);if(SR(e))return t}function PV(t,e){if(t==="change")return e}var tb=!1;if(Ei){var gy;if(Ei){var yy="oninput"in document;if(!yy){var $T=document.createElement("div");$T.setAttribute("oninput","return;"),yy=typeof $T.oninput=="function"}gy=yy}else gy=!1;tb=gy&&(!document.documentMode||9<document.documentMode)}function UT(){qu&&(qu.detachEvent("onpropertychange",nb),_c=qu=null)}function nb(t){if(t.propertyName==="value"&&em(_c)){var e=[];eb(e,_c,t,Yw(t)),LR(AV,e)}}function RV(t,e,n){t==="focusin"?(UT(),qu=e,_c=n,qu.attachEvent("onpropertychange",nb)):t==="focusout"&&UT()}function bV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return em(_c)}function CV(t,e){if(t==="click")return em(e)}function kV(t,e){if(t==="input"||t==="change")return em(e)}function xV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gr=typeof Object.is=="function"?Object.is:xV;function vc(t,e){if(gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!v_.call(e,i)||!gr(t[i],e[i]))return!1}return!0}function BT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zT(t,e){var n=BT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=BT(n)}}function rb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ib(){for(var t=window,e=Nf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nf(t.document)}return e}function s0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OV(t){var e=ib(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rb(n.ownerDocument.documentElement,n)){if(r!==null&&s0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=zT(n,s);var o=zT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NV=Ei&&"documentMode"in document&&11>=document.documentMode,Pa=null,F_=null,Wu=null,j_=!1;function qT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;j_||Pa==null||Pa!==Nf(r)||(r=Pa,"selectionStart"in r&&s0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wu&&vc(Wu,r)||(Wu=r,r=$f(F_,"onSelect"),0<r.length&&(e=new n0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Pa)))}function yh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ra={animationend:yh("Animation","AnimationEnd"),animationiteration:yh("Animation","AnimationIteration"),animationstart:yh("Animation","AnimationStart"),transitionend:yh("Transition","TransitionEnd")},_y={},sb={};Ei&&(sb=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function tm(t){if(_y[t])return _y[t];if(!Ra[t])return t;var e=Ra[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sb)return _y[t]=e[n];return t}var ob=tm("animationend"),ab=tm("animationiteration"),lb=tm("animationstart"),ub=tm("transitionend"),cb=new Map,WT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(t,e){cb.set(t,e),zo(e,[t])}for(var vy=0;vy<WT.length;vy++){var wy=WT[vy],DV=wy.toLowerCase(),LV=wy[0].toUpperCase()+wy.slice(1);Ds(DV,"on"+LV)}Ds(ob,"onAnimationEnd");Ds(ab,"onAnimationIteration");Ds(lb,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(ub,"onTransitionEnd");Za("onMouseEnter",["mouseout","mouseover"]);Za("onMouseLeave",["mouseout","mouseover"]);Za("onPointerEnter",["pointerout","pointerover"]);Za("onPointerLeave",["pointerout","pointerover"]);zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MV=new Set("cancel close invalid load scroll toggle".split(" ").concat(xu));function HT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DM(r,e,void 0,t),t.currentTarget=null}function db(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;HT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;HT(i,a,u),s=l}}}if(Lf)throw t=D_,Lf=!1,D_=null,t}function Re(t,e){var n=e[q_];n===void 0&&(n=e[q_]=new Set);var r=t+"__bubble";n.has(r)||(hb(e,t,2,!1),n.add(r))}function Ey(t,e,n){var r=0;e&&(r|=4),hb(n,t,r,e)}var _h="_reactListening"+Math.random().toString(36).slice(2);function wc(t){if(!t[_h]){t[_h]=!0,vR.forEach(function(n){n!=="selectionchange"&&(MV.has(n)||Ey(n,!1,t),Ey(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_h]||(e[_h]=!0,Ey("selectionchange",!1,e))}}function hb(t,e,n,r){switch(QR(e)){case 1:var i=YM;break;case 4:i=JM;break;default:i=e0}n=i.bind(null,e,n,t),i=void 0,!N_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Iy(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=lo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}LR(function(){var u=s,c=Yw(n),d=[];e:{var h=cb.get(t);if(h!==void 0){var p=n0,m=t;switch(t){case"keypress":if(Jh(n)===0)break e;case"keydown":case"keyup":p=hV;break;case"focusin":m="focus",p=my;break;case"focusout":m="blur",p=my;break;case"beforeblur":case"afterblur":p=my;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=DT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=eV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mV;break;case ob:case ab:case lb:p=rV;break;case ub:p=yV;break;case"scroll":p=XM;break;case"wheel":p=vV;break;case"copy":case"cut":case"paste":p=sV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=MT}var g=(e&4)!==0,w=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,_;y!==null;){_=y;var I=_.stateNode;if(_.tag===5&&I!==null&&(_=I,v!==null&&(I=pc(y,v),I!=null&&g.push(Ec(y,I,_)))),w)break;y=y.return}0<g.length&&(h=new p(h,m,null,n,c),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==x_&&(m=n.relatedTarget||n.fromElement)&&(lo(m)||m[Ii]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?lo(m):null,m!==null&&(w=qo(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=DT,I="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=MT,I="onPointerLeave",v="onPointerEnter",y="pointer"),w=p==null?h:ba(p),_=m==null?h:ba(m),h=new g(I,y+"leave",p,n,c),h.target=w,h.relatedTarget=_,I=null,lo(c)===u&&(g=new g(v,y+"enter",m,n,c),g.target=_,g.relatedTarget=w,I=g),w=I,p&&m)t:{for(g=p,v=m,y=0,_=g;_;_=ta(_))y++;for(_=0,I=v;I;I=ta(I))_++;for(;0<y-_;)g=ta(g),y--;for(;0<_-y;)v=ta(v),_--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=ta(g),v=ta(v)}g=null}else g=null;p!==null&&KT(d,h,p,g,!1),m!==null&&w!==null&&KT(d,w,m,g,!0)}}e:{if(h=u?ba(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=PV;else if(jT(h))if(tb)E=kV;else{E=bV;var T=RV}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=CV);if(E&&(E=E(t,u))){eb(d,E,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&P_(h,"number",h.value)}switch(T=u?ba(u):window,t){case"focusin":(jT(T)||T.contentEditable==="true")&&(Pa=T,F_=u,Wu=null);break;case"focusout":Wu=F_=Pa=null;break;case"mousedown":j_=!0;break;case"contextmenu":case"mouseup":case"dragend":j_=!1,qT(d,n,c);break;case"selectionchange":if(NV)break;case"keydown":case"keyup":qT(d,n,c)}var S;if(i0)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Aa?XR(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(JR&&n.locale!=="ko"&&(Aa||C!=="onCompositionStart"?C==="onCompositionEnd"&&Aa&&(S=YR()):(ss=c,t0="value"in ss?ss.value:ss.textContent,Aa=!0)),T=$f(u,C),0<T.length&&(C=new LT(C,t,null,n,c),d.push({event:C,listeners:T}),S?C.data=S:(S=ZR(n),S!==null&&(C.data=S)))),(S=EV?IV(t,n):TV(t,n))&&(u=$f(u,"onBeforeInput"),0<u.length&&(c=new LT("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}db(d,e)})}function Ec(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $f(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=pc(t,n),s!=null&&r.unshift(Ec(t,s,i)),s=pc(t,e),s!=null&&r.push(Ec(t,s,i))),t=t.return}return r}function ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function KT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=pc(n,s),l!=null&&o.unshift(Ec(n,l,a))):i||(l=pc(n,s),l!=null&&o.push(Ec(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VV=/\r\n?/g,FV=/\u0000|\uFFFD/g;function GT(t){return(typeof t=="string"?t:""+t).replace(VV,`
`).replace(FV,"")}function vh(t,e,n){if(e=GT(e),GT(t)!==e&&n)throw Error(O(425))}function Uf(){}var $_=null,U_=null;function B_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var z_=typeof setTimeout=="function"?setTimeout:void 0,jV=typeof clearTimeout=="function"?clearTimeout:void 0,QT=typeof Promise=="function"?Promise:void 0,$V=typeof queueMicrotask=="function"?queueMicrotask:typeof QT<"u"?function(t){return QT.resolve(null).then(t).catch(UV)}:z_;function UV(t){setTimeout(function(){throw t})}function Ty(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yc(e)}function fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function YT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cl=Math.random().toString(36).slice(2),Rr="__reactFiber$"+Cl,Ic="__reactProps$"+Cl,Ii="__reactContainer$"+Cl,q_="__reactEvents$"+Cl,BV="__reactListeners$"+Cl,zV="__reactHandles$"+Cl;function lo(t){var e=t[Rr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ii]||n[Rr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=YT(t);t!==null;){if(n=t[Rr])return n;t=YT(t)}return e}t=n,n=t.parentNode}return null}function md(t){return t=t[Rr]||t[Ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ba(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function nm(t){return t[Ic]||null}var W_=[],Ca=-1;function Ls(t){return{current:t}}function ke(t){0>Ca||(t.current=W_[Ca],W_[Ca]=null,Ca--)}function Ae(t,e){Ca++,W_[Ca]=t.current,t.current=e}var Is={},Qt=Ls(Is),yn=Ls(!1),So=Is;function el(t,e){var n=t.type.contextTypes;if(!n)return Is;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _n(t){return t=t.childContextTypes,t!=null}function Bf(){ke(yn),ke(Qt)}function JT(t,e,n){if(Qt.current!==Is)throw Error(O(168));Ae(Qt,e),Ae(yn,n)}function fb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,RM(t)||"Unknown",i));return Ue({},n,r)}function zf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Is,So=Qt.current,Ae(Qt,t),Ae(yn,yn.current),!0}function XT(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=fb(t,e,So),r.__reactInternalMemoizedMergedChildContext=t,ke(yn),ke(Qt),Ae(Qt,t)):ke(yn),Ae(yn,n)}var ai=null,rm=!1,Sy=!1;function pb(t){ai===null?ai=[t]:ai.push(t)}function qV(t){rm=!0,pb(t)}function Ms(){if(!Sy&&ai!==null){Sy=!0;var t=0,e=ve;try{var n=ai;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ai=null,rm=!1}catch(i){throw ai!==null&&(ai=ai.slice(t+1)),jR(Jw,Ms),i}finally{ve=e,Sy=!1}}return null}var ka=[],xa=0,qf=null,Wf=0,zn=[],qn=0,Ao=null,ui=1,ci="";function Xs(t,e){ka[xa++]=Wf,ka[xa++]=qf,qf=t,Wf=e}function mb(t,e,n){zn[qn++]=ui,zn[qn++]=ci,zn[qn++]=Ao,Ao=t;var r=ui;t=ci;var i=32-fr(r)-1;r&=~(1<<i),n+=1;var s=32-fr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ui=1<<32-fr(e)+i|n<<i|r,ci=s+t}else ui=1<<s|n<<i|r,ci=t}function o0(t){t.return!==null&&(Xs(t,1),mb(t,1,0))}function a0(t){for(;t===qf;)qf=ka[--xa],ka[xa]=null,Wf=ka[--xa],ka[xa]=null;for(;t===Ao;)Ao=zn[--qn],zn[qn]=null,ci=zn[--qn],zn[qn]=null,ui=zn[--qn],zn[qn]=null}var Cn=null,Rn=null,Ne=!1,dr=null;function gb(t,e){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ZT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cn=t,Rn=fs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cn=t,Rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ao!==null?{id:ui,overflow:ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Cn=t,Rn=null,!0):!1;default:return!1}}function H_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function K_(t){if(Ne){var e=Rn;if(e){var n=e;if(!ZT(t,e)){if(H_(t))throw Error(O(418));e=fs(n.nextSibling);var r=Cn;e&&ZT(t,e)?gb(r,n):(t.flags=t.flags&-4097|2,Ne=!1,Cn=t)}}else{if(H_(t))throw Error(O(418));t.flags=t.flags&-4097|2,Ne=!1,Cn=t}}}function e1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function wh(t){if(t!==Cn)return!1;if(!Ne)return e1(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!B_(t.type,t.memoizedProps)),e&&(e=Rn)){if(H_(t))throw yb(),Error(O(418));for(;e;)gb(t,e),e=fs(e.nextSibling)}if(e1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rn=fs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rn=null}}else Rn=Cn?fs(t.stateNode.nextSibling):null;return!0}function yb(){for(var t=Rn;t;)t=fs(t.nextSibling)}function tl(){Rn=Cn=null,Ne=!1}function l0(t){dr===null?dr=[t]:dr.push(t)}var WV=Oi.ReactCurrentBatchConfig;function uu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Eh(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function t1(t){var e=t._init;return e(t._payload)}function _b(t){function e(v,y){if(t){var _=v.deletions;_===null?(v.deletions=[y],v.flags|=16):_.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=ys(v,y),v.index=0,v.sibling=null,v}function s(v,y,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<y?(v.flags|=2,y):_):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,_,I){return y===null||y.tag!==6?(y=xy(_,v.mode,I),y.return=v,y):(y=i(y,_),y.return=v,y)}function l(v,y,_,I){var E=_.type;return E===Sa?c(v,y,_.props.children,I,_.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ji&&t1(E)===y.type)?(I=i(y,_.props),I.ref=uu(v,y,_),I.return=v,I):(I=sf(_.type,_.key,_.props,null,v.mode,I),I.ref=uu(v,y,_),I.return=v,I)}function u(v,y,_,I){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Oy(_,v.mode,I),y.return=v,y):(y=i(y,_.children||[]),y.return=v,y)}function c(v,y,_,I,E){return y===null||y.tag!==7?(y=vo(_,v.mode,I,E),y.return=v,y):(y=i(y,_),y.return=v,y)}function d(v,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=xy(""+y,v.mode,_),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ch:return _=sf(y.type,y.key,y.props,null,v.mode,_),_.ref=uu(v,null,y),_.return=v,_;case Ta:return y=Oy(y,v.mode,_),y.return=v,y;case Ji:var I=y._init;return d(v,I(y._payload),_)}if(Cu(y)||iu(y))return y=vo(y,v.mode,_,null),y.return=v,y;Eh(v,y)}return null}function h(v,y,_,I){var E=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:a(v,y,""+_,I);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ch:return _.key===E?l(v,y,_,I):null;case Ta:return _.key===E?u(v,y,_,I):null;case Ji:return E=_._init,h(v,y,E(_._payload),I)}if(Cu(_)||iu(_))return E!==null?null:c(v,y,_,I,null);Eh(v,_)}return null}function p(v,y,_,I,E){if(typeof I=="string"&&I!==""||typeof I=="number")return v=v.get(_)||null,a(y,v,""+I,E);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ch:return v=v.get(I.key===null?_:I.key)||null,l(y,v,I,E);case Ta:return v=v.get(I.key===null?_:I.key)||null,u(y,v,I,E);case Ji:var T=I._init;return p(v,y,_,T(I._payload),E)}if(Cu(I)||iu(I))return v=v.get(_)||null,c(y,v,I,E,null);Eh(y,I)}return null}function m(v,y,_,I){for(var E=null,T=null,S=y,C=y=0,F=null;S!==null&&C<_.length;C++){S.index>C?(F=S,S=null):F=S.sibling;var D=h(v,S,_[C],I);if(D===null){S===null&&(S=F);break}t&&S&&D.alternate===null&&e(v,S),y=s(D,y,C),T===null?E=D:T.sibling=D,T=D,S=F}if(C===_.length)return n(v,S),Ne&&Xs(v,C),E;if(S===null){for(;C<_.length;C++)S=d(v,_[C],I),S!==null&&(y=s(S,y,C),T===null?E=S:T.sibling=S,T=S);return Ne&&Xs(v,C),E}for(S=r(v,S);C<_.length;C++)F=p(S,v,C,_[C],I),F!==null&&(t&&F.alternate!==null&&S.delete(F.key===null?C:F.key),y=s(F,y,C),T===null?E=F:T.sibling=F,T=F);return t&&S.forEach(function(ee){return e(v,ee)}),Ne&&Xs(v,C),E}function g(v,y,_,I){var E=iu(_);if(typeof E!="function")throw Error(O(150));if(_=E.call(_),_==null)throw Error(O(151));for(var T=E=null,S=y,C=y=0,F=null,D=_.next();S!==null&&!D.done;C++,D=_.next()){S.index>C?(F=S,S=null):F=S.sibling;var ee=h(v,S,D.value,I);if(ee===null){S===null&&(S=F);break}t&&S&&ee.alternate===null&&e(v,S),y=s(ee,y,C),T===null?E=ee:T.sibling=ee,T=ee,S=F}if(D.done)return n(v,S),Ne&&Xs(v,C),E;if(S===null){for(;!D.done;C++,D=_.next())D=d(v,D.value,I),D!==null&&(y=s(D,y,C),T===null?E=D:T.sibling=D,T=D);return Ne&&Xs(v,C),E}for(S=r(v,S);!D.done;C++,D=_.next())D=p(S,v,C,D.value,I),D!==null&&(t&&D.alternate!==null&&S.delete(D.key===null?C:D.key),y=s(D,y,C),T===null?E=D:T.sibling=D,T=D);return t&&S.forEach(function(Se){return e(v,Se)}),Ne&&Xs(v,C),E}function w(v,y,_,I){if(typeof _=="object"&&_!==null&&_.type===Sa&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case ch:e:{for(var E=_.key,T=y;T!==null;){if(T.key===E){if(E=_.type,E===Sa){if(T.tag===7){n(v,T.sibling),y=i(T,_.props.children),y.return=v,v=y;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ji&&t1(E)===T.type){n(v,T.sibling),y=i(T,_.props),y.ref=uu(v,T,_),y.return=v,v=y;break e}n(v,T);break}else e(v,T);T=T.sibling}_.type===Sa?(y=vo(_.props.children,v.mode,I,_.key),y.return=v,v=y):(I=sf(_.type,_.key,_.props,null,v.mode,I),I.ref=uu(v,y,_),I.return=v,v=I)}return o(v);case Ta:e:{for(T=_.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(v,y.sibling),y=i(y,_.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Oy(_,v.mode,I),y.return=v,v=y}return o(v);case Ji:return T=_._init,w(v,y,T(_._payload),I)}if(Cu(_))return m(v,y,_,I);if(iu(_))return g(v,y,_,I);Eh(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,_),y.return=v,v=y):(n(v,y),y=xy(_,v.mode,I),y.return=v,v=y),o(v)):n(v,y)}return w}var nl=_b(!0),vb=_b(!1),Hf=Ls(null),Kf=null,Oa=null,u0=null;function c0(){u0=Oa=Kf=null}function d0(t){var e=Hf.current;ke(Hf),t._currentValue=e}function G_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $a(t,e){Kf=t,u0=Oa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(u0!==t)if(t={context:t,memoizedValue:e,next:null},Oa===null){if(Kf===null)throw Error(O(308));Oa=t,Kf.dependencies={lanes:0,firstContext:t}}else Oa=Oa.next=t;return e}var uo=null;function h0(t){uo===null?uo=[t]:uo.push(t)}function wb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,h0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ti(t,r)}function Ti(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xi=!1;function f0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ti(t,n)}return i=r.interleaved,i===null?(e.next=e,h0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ti(t,n)}function Xh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xw(t,n)}}function n1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gf(t,e,n,r){var i=t.updateQueue;Xi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(h=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=Ue({},d,h);break e;case 2:Xi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ro|=o,t.lanes=o,t.memoizedState=d}}function r1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var gd={},Br=Ls(gd),Tc=Ls(gd),Sc=Ls(gd);function co(t){if(t===gd)throw Error(O(174));return t}function p0(t,e){switch(Ae(Sc,e),Ae(Tc,t),Ae(Br,gd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:b_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=b_(e,t)}ke(Br),Ae(Br,e)}function rl(){ke(Br),ke(Tc),ke(Sc)}function Ib(t){co(Sc.current);var e=co(Br.current),n=b_(e,t.type);e!==n&&(Ae(Tc,t),Ae(Br,n))}function m0(t){Tc.current===t&&(ke(Br),ke(Tc))}var Fe=Ls(0);function Qf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ay=[];function g0(){for(var t=0;t<Ay.length;t++)Ay[t]._workInProgressVersionPrimary=null;Ay.length=0}var Zh=Oi.ReactCurrentDispatcher,Py=Oi.ReactCurrentBatchConfig,Po=0,je=null,dt=null,vt=null,Yf=!1,Hu=!1,Ac=0,HV=0;function $t(){throw Error(O(321))}function y0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gr(t[n],e[n]))return!1;return!0}function _0(t,e,n,r,i,s){if(Po=s,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zh.current=t===null||t.memoizedState===null?YV:JV,t=n(r,i),Hu){s=0;do{if(Hu=!1,Ac=0,25<=s)throw Error(O(301));s+=1,vt=dt=null,e.updateQueue=null,Zh.current=XV,t=n(r,i)}while(Hu)}if(Zh.current=Jf,e=dt!==null&&dt.next!==null,Po=0,vt=dt=je=null,Yf=!1,e)throw Error(O(300));return t}function v0(){var t=Ac!==0;return Ac=0,t}function Sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?je.memoizedState=vt=t:vt=vt.next=t,vt}function Zn(){if(dt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=vt===null?je.memoizedState:vt.next;if(e!==null)vt=e,dt=t;else{if(t===null)throw Error(O(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},vt===null?je.memoizedState=vt=t:vt=vt.next=t}return vt}function Pc(t,e){return typeof e=="function"?e(t):e}function Ry(t){var e=Zn(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Po&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,je.lanes|=c,Ro|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,gr(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,je.lanes|=s,Ro|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function by(t){var e=Zn(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);gr(s,e.memoizedState)||(fn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Tb(){}function Sb(t,e){var n=je,r=Zn(),i=e(),s=!gr(r.memoizedState,i);if(s&&(r.memoizedState=i,fn=!0),r=r.queue,w0(Rb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,Rc(9,Pb.bind(null,n,r,i,e),void 0,null),Et===null)throw Error(O(349));Po&30||Ab(n,e,i)}return i}function Ab(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Pb(t,e,n,r){e.value=n,e.getSnapshot=r,bb(e)&&Cb(t)}function Rb(t,e,n){return n(function(){bb(e)&&Cb(t)})}function bb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gr(t,n)}catch{return!0}}function Cb(t){var e=Ti(t,1);e!==null&&pr(e,t,1,-1)}function i1(t){var e=Sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pc,lastRenderedState:t},e.queue=t,t=t.dispatch=QV.bind(null,je,t),[e.memoizedState,t]}function Rc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kb(){return Zn().memoizedState}function ef(t,e,n,r){var i=Sr();je.flags|=t,i.memoizedState=Rc(1|e,n,void 0,r===void 0?null:r)}function im(t,e,n,r){var i=Zn();r=r===void 0?null:r;var s=void 0;if(dt!==null){var o=dt.memoizedState;if(s=o.destroy,r!==null&&y0(r,o.deps)){i.memoizedState=Rc(e,n,s,r);return}}je.flags|=t,i.memoizedState=Rc(1|e,n,s,r)}function s1(t,e){return ef(8390656,8,t,e)}function w0(t,e){return im(2048,8,t,e)}function xb(t,e){return im(4,2,t,e)}function Ob(t,e){return im(4,4,t,e)}function Nb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Db(t,e,n){return n=n!=null?n.concat([t]):null,im(4,4,Nb.bind(null,e,t),n)}function E0(){}function Lb(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&y0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Mb(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&y0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Vb(t,e,n){return Po&21?(gr(n,e)||(n=BR(),je.lanes|=n,Ro|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function KV(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=Py.transition;Py.transition={};try{t(!1),e()}finally{ve=n,Py.transition=r}}function Fb(){return Zn().memoizedState}function GV(t,e,n){var r=gs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jb(t))$b(e,n);else if(n=wb(t,e,n,r),n!==null){var i=nn();pr(n,t,r,i),Ub(n,e,r)}}function QV(t,e,n){var r=gs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jb(t))$b(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,gr(a,o)){var l=e.interleaved;l===null?(i.next=i,h0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=wb(t,e,i,r),n!==null&&(i=nn(),pr(n,t,r,i),Ub(n,e,r))}}function jb(t){var e=t.alternate;return t===je||e!==null&&e===je}function $b(t,e){Hu=Yf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ub(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xw(t,n)}}var Jf={readContext:Xn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},YV={readContext:Xn,useCallback:function(t,e){return Sr().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:s1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ef(4194308,4,Nb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ef(4194308,4,t,e)},useInsertionEffect:function(t,e){return ef(4,2,t,e)},useMemo:function(t,e){var n=Sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=GV.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=Sr();return t={current:t},e.memoizedState=t},useState:i1,useDebugValue:E0,useDeferredValue:function(t){return Sr().memoizedState=t},useTransition:function(){var t=i1(!1),e=t[0];return t=KV.bind(null,t[1]),Sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,i=Sr();if(Ne){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Et===null)throw Error(O(349));Po&30||Ab(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,s1(Rb.bind(null,r,s,t),[t]),r.flags|=2048,Rc(9,Pb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Sr(),e=Et.identifierPrefix;if(Ne){var n=ci,r=ui;n=(r&~(1<<32-fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ac++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JV={readContext:Xn,useCallback:Lb,useContext:Xn,useEffect:w0,useImperativeHandle:Db,useInsertionEffect:xb,useLayoutEffect:Ob,useMemo:Mb,useReducer:Ry,useRef:kb,useState:function(){return Ry(Pc)},useDebugValue:E0,useDeferredValue:function(t){var e=Zn();return Vb(e,dt.memoizedState,t)},useTransition:function(){var t=Ry(Pc)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:Tb,useSyncExternalStore:Sb,useId:Fb,unstable_isNewReconciler:!1},XV={readContext:Xn,useCallback:Lb,useContext:Xn,useEffect:w0,useImperativeHandle:Db,useInsertionEffect:xb,useLayoutEffect:Ob,useMemo:Mb,useReducer:by,useRef:kb,useState:function(){return by(Pc)},useDebugValue:E0,useDeferredValue:function(t){var e=Zn();return dt===null?e.memoizedState=t:Vb(e,dt.memoizedState,t)},useTransition:function(){var t=by(Pc)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:Tb,useSyncExternalStore:Sb,useId:Fb,unstable_isNewReconciler:!1};function ur(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Q_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sm={isMounted:function(t){return(t=t._reactInternals)?qo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),i=gs(t),s=_i(r,i);s.payload=e,n!=null&&(s.callback=n),e=ps(t,s,i),e!==null&&(pr(e,t,i,r),Xh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),i=gs(t),s=_i(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ps(t,s,i),e!==null&&(pr(e,t,i,r),Xh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=gs(t),i=_i(n,r);i.tag=2,e!=null&&(i.callback=e),e=ps(t,i,r),e!==null&&(pr(e,t,r,n),Xh(e,t,r))}};function o1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!vc(n,r)||!vc(i,s):!0}function Bb(t,e,n){var r=!1,i=Is,s=e.contextType;return typeof s=="object"&&s!==null?s=Xn(s):(i=_n(e)?So:Qt.current,r=e.contextTypes,s=(r=r!=null)?el(t,i):Is),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function a1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sm.enqueueReplaceState(e,e.state,null)}function Y_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},f0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Xn(s):(s=_n(e)?So:Qt.current,i.context=el(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Q_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sm.enqueueReplaceState(i,i.state,null),Gf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function il(t,e){try{var n="",r=e;do n+=PM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function J_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZV=typeof WeakMap=="function"?WeakMap:Map;function zb(t,e,n){n=_i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zf||(Zf=!0,av=r),J_(t,e)},n}function qb(t,e,n){n=_i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){J_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){J_(t,e),typeof r!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function l1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ZV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=fF.bind(null,t,e,n),e.then(t,t))}function u1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function c1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_i(-1,1),e.tag=2,ps(n,e,1))),n.lanes|=1),t)}var eF=Oi.ReactCurrentOwner,fn=!1;function Xt(t,e,n,r){e.child=t===null?vb(e,null,n,r):nl(e,t.child,n,r)}function d1(t,e,n,r,i){n=n.render;var s=e.ref;return $a(e,i),r=_0(t,e,n,r,s,i),n=v0(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(Ne&&n&&o0(e),e.flags|=1,Xt(t,e,r,i),e.child)}function h1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!C0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Wb(t,e,s,r,i)):(t=sf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:vc,n(o,r)&&t.ref===e.ref)return Si(t,e,i)}return e.flags|=1,t=ys(s,r),t.ref=e.ref,t.return=e,e.child=t}function Wb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(vc(s,r)&&t.ref===e.ref)if(fn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,Si(t,e,i)}return X_(t,e,n,r,i)}function Hb(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Da,Tn),Tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(Da,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ae(Da,Tn),Tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ae(Da,Tn),Tn|=r;return Xt(t,e,i,n),e.child}function Kb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function X_(t,e,n,r,i){var s=_n(n)?So:Qt.current;return s=el(e,s),$a(e,i),n=_0(t,e,n,r,s,i),r=v0(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(Ne&&r&&o0(e),e.flags|=1,Xt(t,e,n,i),e.child)}function f1(t,e,n,r,i){if(_n(n)){var s=!0;zf(e)}else s=!1;if($a(e,i),e.stateNode===null)tf(t,e),Bb(e,n,r),Y_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xn(u):(u=_n(n)?So:Qt.current,u=el(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&a1(e,o,r,u),Xi=!1;var h=e.memoizedState;o.state=h,Gf(e,r,o,i),l=e.memoizedState,a!==r||h!==l||yn.current||Xi?(typeof c=="function"&&(Q_(e,n,c,r),l=e.memoizedState),(a=Xi||o1(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Eb(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ur(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=_n(n)?So:Qt.current,l=el(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&a1(e,o,r,l),Xi=!1,h=e.memoizedState,o.state=h,Gf(e,r,o,i);var m=e.memoizedState;a!==d||h!==m||yn.current||Xi?(typeof p=="function"&&(Q_(e,n,p,r),m=e.memoizedState),(u=Xi||o1(e,n,u,r,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Z_(t,e,n,r,s,i)}function Z_(t,e,n,r,i,s){Kb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&XT(e,n,!1),Si(t,e,s);r=e.stateNode,eF.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=nl(e,t.child,null,s),e.child=nl(e,null,a,s)):Xt(t,e,a,s),e.memoizedState=r.state,i&&XT(e,n,!0),e.child}function Gb(t){var e=t.stateNode;e.pendingContext?JT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&JT(t,e.context,!1),p0(t,e.containerInfo)}function p1(t,e,n,r,i){return tl(),l0(i),e.flags|=256,Xt(t,e,n,r),e.child}var ev={dehydrated:null,treeContext:null,retryLane:0};function tv(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qb(t,e,n){var r=e.pendingProps,i=Fe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ae(Fe,i&1),t===null)return K_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=lm(o,r,0,null),t=vo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tv(n),e.memoizedState=ev,t):I0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tF(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ys(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ys(a,s):(s=vo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?tv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ev,r}return s=t.child,t=s.sibling,r=ys(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function I0(t,e){return e=lm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ih(t,e,n,r){return r!==null&&l0(r),nl(e,t.child,null,n),t=I0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tF(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Cy(Error(O(422))),Ih(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=lm({mode:"visible",children:r.children},i,0,null),s=vo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&nl(e,t.child,null,o),e.child.memoizedState=tv(o),e.memoizedState=ev,s);if(!(e.mode&1))return Ih(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=Cy(s,r,void 0),Ih(t,e,o,r)}if(a=(o&t.childLanes)!==0,fn||a){if(r=Et,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ti(t,i),pr(r,t,i,-1))}return b0(),r=Cy(Error(O(421))),Ih(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pF.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Rn=fs(i.nextSibling),Cn=e,Ne=!0,dr=null,t!==null&&(zn[qn++]=ui,zn[qn++]=ci,zn[qn++]=Ao,ui=t.id,ci=t.overflow,Ao=e),e=I0(e,r.children),e.flags|=4096,e)}function m1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),G_(t.return,e,n)}function ky(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Yb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xt(t,e,r.children,n),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&m1(t,n,e);else if(t.tag===19)m1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ae(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Qf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ky(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Qf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ky(e,!0,n,null,s);break;case"together":ky(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ro|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=ys(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ys(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nF(t,e,n){switch(e.tag){case 3:Gb(e),tl();break;case 5:Ib(e);break;case 1:_n(e.type)&&zf(e);break;case 4:p0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ae(Hf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ae(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?Qb(t,e,n):(Ae(Fe,Fe.current&1),t=Si(t,e,n),t!==null?t.sibling:null);Ae(Fe,Fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Yb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ae(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,Hb(t,e,n)}return Si(t,e,n)}var Jb,nv,Xb,Zb;Jb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nv=function(){};Xb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,co(Br.current);var s=null;switch(n){case"input":i=S_(t,i),r=S_(t,r),s=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),s=[];break;case"textarea":i=R_(t,i),r=R_(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uf)}C_(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Re("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Zb=function(t,e,n,r){n!==r&&(e.flags|=4)};function cu(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rF(t,e,n){var r=e.pendingProps;switch(a0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return _n(e.type)&&Bf(),Ut(e),null;case 3:return r=e.stateNode,rl(),ke(yn),ke(Qt),g0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dr!==null&&(cv(dr),dr=null))),nv(t,e),Ut(e),null;case 5:m0(e);var i=co(Sc.current);if(n=e.type,t!==null&&e.stateNode!=null)Xb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Ut(e),null}if(t=co(Br.current),wh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Rr]=e,r[Ic]=s,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(i=0;i<xu.length;i++)Re(xu[i],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":ST(r,s),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Re("invalid",r);break;case"textarea":PT(r,s),Re("invalid",r)}C_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&vh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&vh(r.textContent,a,t),i=["children",""+a]):hc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":dh(r),AT(r,s,!0);break;case"textarea":dh(r),RT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Uf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Rr]=e,t[Ic]=r,Jb(t,e,!1,!1),e.stateNode=t;e:{switch(o=k_(n,r),n){case"dialog":Re("cancel",t),Re("close",t),i=r;break;case"iframe":case"object":case"embed":Re("load",t),i=r;break;case"video":case"audio":for(i=0;i<xu.length;i++)Re(xu[i],t);i=r;break;case"source":Re("error",t),i=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),i=r;break;case"details":Re("toggle",t),i=r;break;case"input":ST(t,r),i=S_(t,r),Re("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),Re("invalid",t);break;case"textarea":PT(t,r),i=R_(t,r),Re("invalid",t);break;default:i=r}C_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?kR(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bR(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fc(t,l):typeof l=="number"&&fc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Re("scroll",t):l!=null&&Hw(t,s,l,o))}switch(n){case"input":dh(t),AT(t,r,!1);break;case"textarea":dh(t),RT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Es(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ma(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ma(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Uf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)Zb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=co(Sc.current),co(Br.current),wh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rr]=e,(s=r.nodeValue!==n)&&(t=Cn,t!==null))switch(t.tag){case 3:vh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rr]=e,e.stateNode=r}return Ut(e),null;case 13:if(ke(Fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&Rn!==null&&e.mode&1&&!(e.flags&128))yb(),tl(),e.flags|=98560,s=!1;else if(s=wh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[Rr]=e}else tl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),s=!1}else dr!==null&&(cv(dr),dr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?ht===0&&(ht=3):b0())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return rl(),nv(t,e),t===null&&wc(e.stateNode.containerInfo),Ut(e),null;case 10:return d0(e.type._context),Ut(e),null;case 17:return _n(e.type)&&Bf(),Ut(e),null;case 19:if(ke(Fe),s=e.memoizedState,s===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)cu(s,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Qf(t),o!==null){for(e.flags|=128,cu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(Fe,Fe.current&1|2),e.child}t=t.sibling}s.tail!==null&&et()>sl&&(e.flags|=128,r=!0,cu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Qf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ne)return Ut(e),null}else 2*et()-s.renderingStartTime>sl&&n!==1073741824&&(e.flags|=128,r=!0,cu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=et(),e.sibling=null,n=Fe.current,Ae(Fe,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return R0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function iF(t,e){switch(a0(e),e.tag){case 1:return _n(e.type)&&Bf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rl(),ke(yn),ke(Qt),g0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return m0(e),null;case 13:if(ke(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));tl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ke(Fe),null;case 4:return rl(),null;case 10:return d0(e.type._context),null;case 22:case 23:return R0(),null;case 24:return null;default:return null}}var Th=!1,Ht=!1,sF=typeof WeakSet=="function"?WeakSet:Set,B=null;function Na(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function rv(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var g1=!1;function oF(t,e){if($_=Ff,t=ib(),s0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(U_={focusedElem:t,selectionRange:n},Ff=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,w=m.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:ur(e.type,g),w);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(I){Ke(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return m=g1,g1=!1,m}function Ku(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&rv(e,n,s)}i=i.next}while(i!==r)}}function om(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function iv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function eC(t){var e=t.alternate;e!==null&&(t.alternate=null,eC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rr],delete e[Ic],delete e[q_],delete e[BV],delete e[zV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tC(t){return t.tag===5||t.tag===3||t.tag===4}function y1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uf));else if(r!==4&&(t=t.child,t!==null))for(sv(t,e,n),t=t.sibling;t!==null;)sv(t,e,n),t=t.sibling}function ov(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ov(t,e,n),t=t.sibling;t!==null;)ov(t,e,n),t=t.sibling}var kt=null,cr=!1;function Bi(t,e,n){for(n=n.child;n!==null;)nC(t,e,n),n=n.sibling}function nC(t,e,n){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(Xp,n)}catch{}switch(n.tag){case 5:Ht||Na(n,e);case 6:var r=kt,i=cr;kt=null,Bi(t,e,n),kt=r,cr=i,kt!==null&&(cr?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(cr?(t=kt,n=n.stateNode,t.nodeType===8?Ty(t.parentNode,n):t.nodeType===1&&Ty(t,n),yc(t)):Ty(kt,n.stateNode));break;case 4:r=kt,i=cr,kt=n.stateNode.containerInfo,cr=!0,Bi(t,e,n),kt=r,cr=i;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rv(n,e,o),i=i.next}while(i!==r)}Bi(t,e,n);break;case 1:if(!Ht&&(Na(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}Bi(t,e,n);break;case 21:Bi(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,Bi(t,e,n),Ht=r):Bi(t,e,n);break;default:Bi(t,e,n)}}function _1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sF),e.forEach(function(r){var i=mF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:kt=a.stateNode,cr=!1;break e;case 3:kt=a.stateNode.containerInfo,cr=!0;break e;case 4:kt=a.stateNode.containerInfo,cr=!0;break e}a=a.return}if(kt===null)throw Error(O(160));nC(s,o,i),kt=null,cr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rC(e,t),e=e.sibling}function rC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),Tr(t),r&4){try{Ku(3,t,t.return),om(3,t)}catch(g){Ke(t,t.return,g)}try{Ku(5,t,t.return)}catch(g){Ke(t,t.return,g)}}break;case 1:or(e,t),Tr(t),r&512&&n!==null&&Na(n,n.return);break;case 5:if(or(e,t),Tr(t),r&512&&n!==null&&Na(n,n.return),t.flags&32){var i=t.stateNode;try{fc(i,"")}catch(g){Ke(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&AR(i,s),k_(a,o);var u=k_(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?kR(i,d):c==="dangerouslySetInnerHTML"?bR(i,d):c==="children"?fc(i,d):Hw(i,c,d,u)}switch(a){case"input":A_(i,s);break;case"textarea":PR(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ma(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ma(i,!!s.multiple,s.defaultValue,!0):Ma(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ic]=s}catch(g){Ke(t,t.return,g)}}break;case 6:if(or(e,t),Tr(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Ke(t,t.return,g)}}break;case 3:if(or(e,t),Tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yc(e.containerInfo)}catch(g){Ke(t,t.return,g)}break;case 4:or(e,t),Tr(t);break;case 13:or(e,t),Tr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(A0=et())),r&4&&_1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(u=Ht)||c,or(e,t),Ht=u):or(e,t),Tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(B=t,c=t.child;c!==null;){for(d=B=c;B!==null;){switch(h=B,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ku(4,h,h.return);break;case 1:Na(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Ke(r,n,g)}}break;case 5:Na(h,h.return);break;case 22:if(h.memoizedState!==null){w1(d);continue}}p!==null?(p.return=h,B=p):w1(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=CR("display",o))}catch(g){Ke(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ke(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:or(e,t),Tr(t),r&4&&_1(t);break;case 21:break;default:or(e,t),Tr(t)}}function Tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tC(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fc(i,""),r.flags&=-33);var s=y1(t);ov(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=y1(t);sv(t,a,o);break;default:throw Error(O(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aF(t,e,n){B=t,iC(t)}function iC(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Th;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ht;a=Th;var u=Ht;if(Th=o,(Ht=l)&&!u)for(B=i;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?E1(i):l!==null?(l.return=o,B=l):E1(i);for(;s!==null;)B=s,iC(s),s=s.sibling;B=i,Th=a,Ht=u}v1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,B=s):v1(t)}}function v1(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||om(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ur(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&r1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}r1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&yc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ht||e.flags&512&&iv(e)}catch(h){Ke(e,e.return,h)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function w1(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function E1(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{om(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ke(e,i,l)}}var s=e.return;try{iv(e)}catch(l){Ke(e,s,l)}break;case 5:var o=e.return;try{iv(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var lF=Math.ceil,Xf=Oi.ReactCurrentDispatcher,T0=Oi.ReactCurrentOwner,Yn=Oi.ReactCurrentBatchConfig,he=0,Et=null,lt=null,Lt=0,Tn=0,Da=Ls(0),ht=0,bc=null,Ro=0,am=0,S0=0,Gu=null,hn=null,A0=0,sl=1/0,oi=null,Zf=!1,av=null,ms=null,Sh=!1,os=null,ep=0,Qu=0,lv=null,nf=-1,rf=0;function nn(){return he&6?et():nf!==-1?nf:nf=et()}function gs(t){return t.mode&1?he&2&&Lt!==0?Lt&-Lt:WV.transition!==null?(rf===0&&(rf=BR()),rf):(t=ve,t!==0||(t=window.event,t=t===void 0?16:QR(t.type)),t):1}function pr(t,e,n,r){if(50<Qu)throw Qu=0,lv=null,Error(O(185));fd(t,n,r),(!(he&2)||t!==Et)&&(t===Et&&(!(he&2)&&(am|=n),ht===4&&ts(t,Lt)),vn(t,r),n===1&&he===0&&!(e.mode&1)&&(sl=et()+500,rm&&Ms()))}function vn(t,e){var n=t.callbackNode;WM(t,e);var r=Vf(t,t===Et?Lt:0);if(r===0)n!==null&&kT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kT(n),e===1)t.tag===0?qV(I1.bind(null,t)):pb(I1.bind(null,t)),$V(function(){!(he&6)&&Ms()}),n=null;else{switch(zR(r)){case 1:n=Jw;break;case 4:n=$R;break;case 16:n=Mf;break;case 536870912:n=UR;break;default:n=Mf}n=hC(n,sC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sC(t,e){if(nf=-1,rf=0,he&6)throw Error(O(327));var n=t.callbackNode;if(Ua()&&t.callbackNode!==n)return null;var r=Vf(t,t===Et?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tp(t,r);else{e=r;var i=he;he|=2;var s=aC();(Et!==t||Lt!==e)&&(oi=null,sl=et()+500,_o(t,e));do try{dF();break}catch(a){oC(t,a)}while(!0);c0(),Xf.current=s,he=i,lt!==null?e=0:(Et=null,Lt=0,e=ht)}if(e!==0){if(e===2&&(i=L_(t),i!==0&&(r=i,e=uv(t,i))),e===1)throw n=bc,_o(t,0),ts(t,r),vn(t,et()),n;if(e===6)ts(t,r);else{if(i=t.current.alternate,!(r&30)&&!uF(i)&&(e=tp(t,r),e===2&&(s=L_(t),s!==0&&(r=s,e=uv(t,s))),e===1))throw n=bc,_o(t,0),ts(t,r),vn(t,et()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:Zs(t,hn,oi);break;case 3:if(ts(t,r),(r&130023424)===r&&(e=A0+500-et(),10<e)){if(Vf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=z_(Zs.bind(null,t,hn,oi),e);break}Zs(t,hn,oi);break;case 4:if(ts(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-fr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lF(r/1960))-r,10<r){t.timeoutHandle=z_(Zs.bind(null,t,hn,oi),r);break}Zs(t,hn,oi);break;case 5:Zs(t,hn,oi);break;default:throw Error(O(329))}}}return vn(t,et()),t.callbackNode===n?sC.bind(null,t):null}function uv(t,e){var n=Gu;return t.current.memoizedState.isDehydrated&&(_o(t,e).flags|=256),t=tp(t,e),t!==2&&(e=hn,hn=n,e!==null&&cv(e)),t}function cv(t){hn===null?hn=t:hn.push.apply(hn,t)}function uF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ts(t,e){for(e&=~S0,e&=~am,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fr(e),r=1<<n;t[n]=-1,e&=~r}}function I1(t){if(he&6)throw Error(O(327));Ua();var e=Vf(t,0);if(!(e&1))return vn(t,et()),null;var n=tp(t,e);if(t.tag!==0&&n===2){var r=L_(t);r!==0&&(e=r,n=uv(t,r))}if(n===1)throw n=bc,_o(t,0),ts(t,e),vn(t,et()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zs(t,hn,oi),vn(t,et()),null}function P0(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(sl=et()+500,rm&&Ms())}}function bo(t){os!==null&&os.tag===0&&!(he&6)&&Ua();var e=he;he|=1;var n=Yn.transition,r=ve;try{if(Yn.transition=null,ve=1,t)return t()}finally{ve=r,Yn.transition=n,he=e,!(he&6)&&Ms()}}function R0(){Tn=Da.current,ke(Da)}function _o(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jV(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(a0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bf();break;case 3:rl(),ke(yn),ke(Qt),g0();break;case 5:m0(r);break;case 4:rl();break;case 13:ke(Fe);break;case 19:ke(Fe);break;case 10:d0(r.type._context);break;case 22:case 23:R0()}n=n.return}if(Et=t,lt=t=ys(t.current,null),Lt=Tn=e,ht=0,bc=null,S0=am=Ro=0,hn=Gu=null,uo!==null){for(e=0;e<uo.length;e++)if(n=uo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}uo=null}return t}function oC(t,e){do{var n=lt;try{if(c0(),Zh.current=Jf,Yf){for(var r=je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yf=!1}if(Po=0,vt=dt=je=null,Hu=!1,Ac=0,T0.current=null,n===null||n.return===null){ht=1,bc=e,lt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=u1(o);if(p!==null){p.flags&=-257,c1(p,o,a,s,e),p.mode&1&&l1(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){l1(s,u,e),b0();break e}l=Error(O(426))}}else if(Ne&&a.mode&1){var w=u1(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),c1(w,o,a,s,e),l0(il(l,a));break e}}s=l=il(l,a),ht!==4&&(ht=2),Gu===null?Gu=[s]:Gu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=zb(s,l,e);n1(s,v);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ms===null||!ms.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=qb(s,a,e);n1(s,I);break e}}s=s.return}while(s!==null)}uC(n)}catch(E){e=E,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function aC(){var t=Xf.current;return Xf.current=Jf,t===null?Jf:t}function b0(){(ht===0||ht===3||ht===2)&&(ht=4),Et===null||!(Ro&268435455)&&!(am&268435455)||ts(Et,Lt)}function tp(t,e){var n=he;he|=2;var r=aC();(Et!==t||Lt!==e)&&(oi=null,_o(t,e));do try{cF();break}catch(i){oC(t,i)}while(!0);if(c0(),he=n,Xf.current=r,lt!==null)throw Error(O(261));return Et=null,Lt=0,ht}function cF(){for(;lt!==null;)lC(lt)}function dF(){for(;lt!==null&&!MM();)lC(lt)}function lC(t){var e=dC(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?uC(t):lt=e,T0.current=null}function uC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iF(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,lt=null;return}}else if(n=rF(n,e,Tn),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);ht===0&&(ht=5)}function Zs(t,e,n){var r=ve,i=Yn.transition;try{Yn.transition=null,ve=1,hF(t,e,n,r)}finally{Yn.transition=i,ve=r}return null}function hF(t,e,n,r){do Ua();while(os!==null);if(he&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(HM(t,s),t===Et&&(lt=Et=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sh||(Sh=!0,hC(Mf,function(){return Ua(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Yn.transition,Yn.transition=null;var o=ve;ve=1;var a=he;he|=4,T0.current=null,oF(t,n),rC(n,t),OV(U_),Ff=!!$_,U_=$_=null,t.current=n,aF(n),VM(),he=a,ve=o,Yn.transition=s}else t.current=n;if(Sh&&(Sh=!1,os=t,ep=i),s=t.pendingLanes,s===0&&(ms=null),$M(n.stateNode),vn(t,et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zf)throw Zf=!1,t=av,av=null,t;return ep&1&&t.tag!==0&&Ua(),s=t.pendingLanes,s&1?t===lv?Qu++:(Qu=0,lv=t):Qu=0,Ms(),null}function Ua(){if(os!==null){var t=zR(ep),e=Yn.transition,n=ve;try{if(Yn.transition=null,ve=16>t?16:t,os===null)var r=!1;else{if(t=os,os=null,ep=0,he&6)throw Error(O(331));var i=he;for(he|=4,B=t.current;B!==null;){var s=B,o=s.child;if(B.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(B=u;B!==null;){var c=B;switch(c.tag){case 0:case 11:case 15:Ku(8,c,s)}var d=c.child;if(d!==null)d.return=c,B=d;else for(;B!==null;){c=B;var h=c.sibling,p=c.return;if(eC(c),c===u){B=null;break}if(h!==null){h.return=p,B=h;break}B=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}B=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ku(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,B=v;break e}B=s.return}}var y=t.current;for(B=y;B!==null;){o=B;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,B=_;else e:for(o=y;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:om(9,a)}}catch(E){Ke(a,a.return,E)}if(a===o){B=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,B=I;break e}B=a.return}}if(he=i,Ms(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(Xp,t)}catch{}r=!0}return r}finally{ve=n,Yn.transition=e}}return!1}function T1(t,e,n){e=il(n,e),e=zb(t,e,1),t=ps(t,e,1),e=nn(),t!==null&&(fd(t,1,e),vn(t,e))}function Ke(t,e,n){if(t.tag===3)T1(t,t,n);else for(;e!==null;){if(e.tag===3){T1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ms===null||!ms.has(r))){t=il(n,t),t=qb(e,t,1),e=ps(e,t,1),t=nn(),e!==null&&(fd(e,1,t),vn(e,t));break}}e=e.return}}function fF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(Lt&n)===n&&(ht===4||ht===3&&(Lt&130023424)===Lt&&500>et()-A0?_o(t,0):S0|=n),vn(t,e)}function cC(t,e){e===0&&(t.mode&1?(e=ph,ph<<=1,!(ph&130023424)&&(ph=4194304)):e=1);var n=nn();t=Ti(t,e),t!==null&&(fd(t,e,n),vn(t,n))}function pF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cC(t,n)}function mF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),cC(t,n)}var dC;dC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,nF(t,e,n);fn=!!(t.flags&131072)}else fn=!1,Ne&&e.flags&1048576&&mb(e,Wf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tf(t,e),t=e.pendingProps;var i=el(e,Qt.current);$a(e,n),i=_0(null,e,r,t,i,n);var s=v0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_n(r)?(s=!0,zf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,f0(e),i.updater=sm,e.stateNode=i,i._reactInternals=e,Y_(e,r,t,n),e=Z_(null,e,r,!0,s,n)):(e.tag=0,Ne&&s&&o0(e),Xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yF(r),t=ur(r,t),i){case 0:e=X_(null,e,r,t,n);break e;case 1:e=f1(null,e,r,t,n);break e;case 11:e=d1(null,e,r,t,n);break e;case 14:e=h1(null,e,r,ur(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),X_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),f1(t,e,r,i,n);case 3:e:{if(Gb(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Eb(t,e),Gf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=il(Error(O(423)),e),e=p1(t,e,r,n,i);break e}else if(r!==i){i=il(Error(O(424)),e),e=p1(t,e,r,n,i);break e}else for(Rn=fs(e.stateNode.containerInfo.firstChild),Cn=e,Ne=!0,dr=null,n=vb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tl(),r===i){e=Si(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return Ib(e),t===null&&K_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,B_(r,i)?o=null:s!==null&&B_(r,s)&&(e.flags|=32),Kb(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&K_(e),null;case 13:return Qb(t,e,n);case 4:return p0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nl(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),d1(t,e,r,i,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ae(Hf,r._currentValue),r._currentValue=o,s!==null)if(gr(s.value,o)){if(s.children===i.children&&!yn.current){e=Si(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=_i(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),G_(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),G_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$a(e,n),i=Xn(i),r=r(i),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,i=ur(r,e.pendingProps),i=ur(r.type,i),h1(t,e,r,i,n);case 15:return Wb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),tf(t,e),e.tag=1,_n(r)?(t=!0,zf(e)):t=!1,$a(e,n),Bb(e,r,i),Y_(e,r,i,n),Z_(null,e,r,!0,t,n);case 19:return Yb(t,e,n);case 22:return Hb(t,e,n)}throw Error(O(156,e.tag))};function hC(t,e){return jR(t,e)}function gF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,n,r){return new gF(t,e,n,r)}function C0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yF(t){if(typeof t=="function")return C0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gw)return 11;if(t===Qw)return 14}return 2}function ys(t,e){var n=t.alternate;return n===null?(n=Kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")C0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Sa:return vo(n.children,i,s,e);case Kw:o=8,i|=8;break;case w_:return t=Kn(12,n,e,i|2),t.elementType=w_,t.lanes=s,t;case E_:return t=Kn(13,n,e,i),t.elementType=E_,t.lanes=s,t;case I_:return t=Kn(19,n,e,i),t.elementType=I_,t.lanes=s,t;case IR:return lm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wR:o=10;break e;case ER:o=9;break e;case Gw:o=11;break e;case Qw:o=14;break e;case Ji:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Kn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function vo(t,e,n,r){return t=Kn(7,t,r,e),t.lanes=n,t}function lm(t,e,n,r){return t=Kn(22,t,r,e),t.elementType=IR,t.lanes=n,t.stateNode={isHidden:!1},t}function xy(t,e,n){return t=Kn(6,t,null,e),t.lanes=n,t}function Oy(t,e,n){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _F(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hy(0),this.expirationTimes=hy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function k0(t,e,n,r,i,s,o,a,l){return t=new _F(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},f0(s),t}function vF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ta,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fC(t){if(!t)return Is;t=t._reactInternals;e:{if(qo(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(_n(n))return fb(t,n,e)}return e}function pC(t,e,n,r,i,s,o,a,l){return t=k0(n,r,!0,t,i,s,o,a,l),t.context=fC(null),n=t.current,r=nn(),i=gs(n),s=_i(r,i),s.callback=e??null,ps(n,s,i),t.current.lanes=i,fd(t,i,r),vn(t,r),t}function um(t,e,n,r){var i=e.current,s=nn(),o=gs(i);return n=fC(n),e.context===null?e.context=n:e.pendingContext=n,e=_i(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ps(i,e,o),t!==null&&(pr(t,i,o,s),Xh(t,i,o)),o}function np(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function S1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function x0(t,e){S1(t,e),(t=t.alternate)&&S1(t,e)}function wF(){return null}var mC=typeof reportError=="function"?reportError:function(t){console.error(t)};function O0(t){this._internalRoot=t}cm.prototype.render=O0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));um(t,e,null,null)};cm.prototype.unmount=O0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bo(function(){um(null,t,null,null)}),e[Ii]=null}};function cm(t){this._internalRoot=t}cm.prototype.unstable_scheduleHydration=function(t){if(t){var e=HR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<es.length&&e!==0&&e<es[n].priority;n++);es.splice(n,0,t),n===0&&GR(t)}};function N0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function A1(){}function EF(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=np(o);s.call(u)}}var o=pC(e,r,t,0,null,!1,!1,"",A1);return t._reactRootContainer=o,t[Ii]=o.current,wc(t.nodeType===8?t.parentNode:t),bo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=np(l);a.call(u)}}var l=k0(t,0,!1,null,null,!1,!1,"",A1);return t._reactRootContainer=l,t[Ii]=l.current,wc(t.nodeType===8?t.parentNode:t),bo(function(){um(e,l,n,r)}),l}function hm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=np(o);a.call(l)}}um(e,o,t,i)}else o=EF(n,e,t,i,r);return np(o)}qR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ku(e.pendingLanes);n!==0&&(Xw(e,n|1),vn(e,et()),!(he&6)&&(sl=et()+500,Ms()))}break;case 13:bo(function(){var r=Ti(t,1);if(r!==null){var i=nn();pr(r,t,1,i)}}),x0(t,1)}};Zw=function(t){if(t.tag===13){var e=Ti(t,134217728);if(e!==null){var n=nn();pr(e,t,134217728,n)}x0(t,134217728)}};WR=function(t){if(t.tag===13){var e=gs(t),n=Ti(t,e);if(n!==null){var r=nn();pr(n,t,e,r)}x0(t,e)}};HR=function(){return ve};KR=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};O_=function(t,e,n){switch(e){case"input":if(A_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=nm(r);if(!i)throw Error(O(90));SR(r),A_(r,i)}}}break;case"textarea":PR(t,n);break;case"select":e=n.value,e!=null&&Ma(t,!!n.multiple,e,!1)}};NR=P0;DR=bo;var IF={usingClientEntryPoint:!1,Events:[md,ba,nm,xR,OR,P0]},du={findFiberByHostInstance:lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TF={bundleType:du.bundleType,version:du.version,rendererPackageName:du.rendererPackageName,rendererConfig:du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=VR(t),t===null?null:t.stateNode},findFiberByHostInstance:du.findFiberByHostInstance||wF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{Xp=Ah.inject(TF),Ur=Ah}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IF;Mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N0(e))throw Error(O(200));return vF(t,e,null,n)};Mn.createRoot=function(t,e){if(!N0(t))throw Error(O(299));var n=!1,r="",i=mC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=k0(t,1,!1,null,null,n,!1,r,i),t[Ii]=e.current,wc(t.nodeType===8?t.parentNode:t),new O0(e)};Mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=VR(e),t=t===null?null:t.stateNode,t};Mn.flushSync=function(t){return bo(t)};Mn.hydrate=function(t,e,n){if(!dm(e))throw Error(O(200));return hm(null,t,e,!0,n)};Mn.hydrateRoot=function(t,e,n){if(!N0(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=mC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=pC(e,null,t,1,n??null,i,!1,s,o),t[Ii]=e.current,wc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new cm(e)};Mn.render=function(t,e,n){if(!dm(e))throw Error(O(200));return hm(null,t,e,!1,n)};Mn.unmountComponentAtNode=function(t){if(!dm(t))throw Error(O(40));return t._reactRootContainer?(bo(function(){hm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ii]=null})}),!0):!1};Mn.unstable_batchedUpdates=P0;Mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dm(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return hm(t,e,n,!1,r)};Mn.version="18.3.1-next-f1338f8080-20240426";function gC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gC)}catch(t){console.error(t)}}gC(),gR.exports=Mn;var SF=gR.exports,P1=SF;__.createRoot=P1.createRoot,__.hydrateRoot=P1.hydrateRoot;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cc.apply(this,arguments)}var as;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(as||(as={}));const R1="popstate";function AF(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return dv("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:rp(i)}return RF(e,n,null,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PF(){return Math.random().toString(36).substr(2,8)}function b1(t,e){return{usr:t.state,key:t.key,idx:e}}function dv(t,e,n,r){return n===void 0&&(n=null),Cc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?kl(e):e,{state:n,key:e&&e.key||r||PF()})}function rp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function kl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RF(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=as.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Cc({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=as.Pop;let w=c(),v=w==null?null:w-u;u=w,l&&l({action:a,location:g.location,delta:v})}function h(w,v){a=as.Push;let y=dv(g.location,w,v);u=c()+1;let _=b1(y,u),I=g.createHref(y);try{o.pushState(_,"",I)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(I)}s&&l&&l({action:a,location:g.location,delta:1})}function p(w,v){a=as.Replace;let y=dv(g.location,w,v);u=c();let _=b1(y,u),I=g.createHref(y);o.replaceState(_,"",I),s&&l&&l({action:a,location:g.location,delta:0})}function m(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof w=="string"?w:rp(w);return y=y.replace(/ $/,"%20"),ut(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let g={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(R1,d),l=w,()=>{i.removeEventListener(R1,d),l=null}},createHref(w){return e(i,w)},createURL:m,encodeLocation(w){let v=m(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(w){return o.go(w)}};return g}var C1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(C1||(C1={}));function bF(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?kl(e):e,i=D0(r.pathname||"/",n);if(i==null)return null;let s=_C(t);CF(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=UF(i);o=FF(s[a],l)}return o}function _C(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=_s([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(ut(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_C(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:MF(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of vC(s.path))i(s,o,l)}),e}function vC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=vC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function CF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const kF=/^:[\w-]+$/,xF=3,OF=2,NF=1,DF=10,LF=-2,k1=t=>t==="*";function MF(t,e){let n=t.split("/"),r=n.length;return n.some(k1)&&(r+=LF),e&&(r+=OF),n.filter(i=>!k1(i)).reduce((i,s)=>i+(kF.test(s)?xF:s===""?NF:DF),r)}function VF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function FF(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=jF({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:_s([i,c.pathname]),pathnameBase:WF(_s([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=_s([i,c.pathnameBase]))}return s}function jF(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$F(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function $F(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function UF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function D0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function BF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?kl(t):t;return{pathname:n?n.startsWith("/")?n:zF(n,e):e,search:HF(r),hash:KF(i)}}function zF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ny(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wC(t,e){let n=qF(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function EC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=kl(t):(i=Cc({},t),ut(!i.pathname||!i.pathname.includes("?"),Ny("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),Ny("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),Ny("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=BF(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const _s=t=>t.join("/").replace(/\/\/+/g,"/"),WF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),HF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const IC=["post","put","patch","delete"];new Set(IC);const QF=["get",...IC];new Set(QF);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kc.apply(this,arguments)}const L0=P.createContext(null),YF=P.createContext(null),Wo=P.createContext(null),fm=P.createContext(null),Vs=P.createContext({outlet:null,matches:[],isDataRoute:!1}),TC=P.createContext(null);function JF(t,e){let{relative:n}=e===void 0?{}:e;yd()||ut(!1);let{basename:r,navigator:i}=P.useContext(Wo),{hash:s,pathname:o,search:a}=PC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:_s([r,o])),i.createHref({pathname:l,search:a,hash:s})}function yd(){return P.useContext(fm)!=null}function _d(){return yd()||ut(!1),P.useContext(fm).location}function SC(t){P.useContext(Wo).static||P.useLayoutEffect(t)}function xl(){let{isDataRoute:t}=P.useContext(Vs);return t?cj():XF()}function XF(){yd()||ut(!1);let t=P.useContext(L0),{basename:e,future:n,navigator:r}=P.useContext(Wo),{matches:i}=P.useContext(Vs),{pathname:s}=_d(),o=JSON.stringify(wC(i,n.v7_relativeSplatPath)),a=P.useRef(!1);return SC(()=>{a.current=!0}),P.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=EC(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:_s([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function AC(){let{matches:t}=P.useContext(Vs),e=t[t.length-1];return e?e.params:{}}function PC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=P.useContext(Wo),{matches:i}=P.useContext(Vs),{pathname:s}=_d(),o=JSON.stringify(wC(i,r.v7_relativeSplatPath));return P.useMemo(()=>EC(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function ZF(t,e){return ej(t,e)}function ej(t,e,n,r){yd()||ut(!1);let{navigator:i}=P.useContext(Wo),{matches:s}=P.useContext(Vs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=_d(),c;if(e){var d;let w=typeof e=="string"?kl(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||ut(!1),c=w}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let m=bF(t,{pathname:p}),g=sj(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:_s([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:_s([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&g?P.createElement(fm.Provider,{value:{location:kc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:as.Pop}},g):g}function tj(){let t=uj(),e=GF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,null)}const nj=P.createElement(tj,null);class rj extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(Vs.Provider,{value:this.props.routeContext},P.createElement(TC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ij(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(L0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Vs.Provider,{value:e},r)}function sj(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||ut(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let p,m=!1,g=null,w=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||nj,l&&(u<0&&h===0?(m=!0,w=null):u===h&&(m=!0,w=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),y=()=>{let _;return p?_=g:m?_=w:d.route.Component?_=P.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=c,P.createElement(ij,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?P.createElement(rj,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var RC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(RC||{}),ip=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ip||{});function oj(t){let e=P.useContext(L0);return e||ut(!1),e}function aj(t){let e=P.useContext(YF);return e||ut(!1),e}function lj(t){let e=P.useContext(Vs);return e||ut(!1),e}function bC(t){let e=lj(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function uj(){var t;let e=P.useContext(TC),n=aj(ip.UseRouteError),r=bC(ip.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function cj(){let{router:t}=oj(RC.UseNavigateStable),e=bC(ip.UseNavigateStable),n=P.useRef(!1);return SC(()=>{n.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,kc({fromRouteId:e},s)))},[t,e])}function Yi(t){ut(!1)}function dj(t){let{basename:e="/",children:n=null,location:r,navigationType:i=as.Pop,navigator:s,static:o=!1,future:a}=t;yd()&&ut(!1);let l=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:l,navigator:s,static:o,future:kc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=kl(r));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,g=P.useMemo(()=>{let w=D0(c,l);return w==null?null:{location:{pathname:w,search:d,hash:h,state:p,key:m},navigationType:i}},[l,c,d,h,p,m,i]);return g==null?null:P.createElement(Wo.Provider,{value:u},P.createElement(fm.Provider,{children:n,value:g}))}function hj(t){let{children:e,location:n}=t;return ZF(hv(e),n)}new Promise(()=>{});function hv(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let s=[...e,i];if(r.type===P.Fragment){n.push.apply(n,hv(r.props.children,s));return}r.type!==Yi&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=hv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(this,arguments)}function fj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mj(t,e){return t.button===0&&(!e||e==="_self")&&!pj(t)}const gj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],yj="6";try{window.__reactRouterVersion=yj}catch{}const _j="startTransition",x1=Of[_j];function vj(t){let{basename:e,children:n,future:r,window:i}=t,s=P.useRef();s.current==null&&(s.current=AF({window:i,v5Compat:!0}));let o=s.current,[a,l]=P.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=P.useCallback(d=>{u&&x1?x1(()=>l(d)):l(d)},[l,u]);return P.useLayoutEffect(()=>o.listen(c),[o,c]),P.createElement(dj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const wj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ej=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j=P.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=fj(e,gj),{basename:p}=P.useContext(Wo),m,g=!1;if(typeof u=="string"&&Ej.test(u)&&(m=u,wj))try{let _=new URL(window.location.href),I=u.startsWith("//")?new URL(_.protocol+u):new URL(u),E=D0(I.pathname,p);I.origin===_.origin&&E!=null?u=E+I.search+I.hash:g=!0}catch{}let w=JF(u,{relative:i}),v=Ij(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function y(_){r&&r(_),_.defaultPrevented||v(_)}return P.createElement("a",fv({},h,{href:m||w,onClick:g||s?r:y,ref:n,target:l}))});var O1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(O1||(O1={}));var N1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(N1||(N1={}));function Ij(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=xl(),u=_d(),c=PC(t,{relative:o});return P.useCallback(d=>{if(mj(d,n)){d.preventDefault();let h=r!==void 0?r:rp(u)===rp(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}const Tj="_header_outer_container_1tu0g_1",Sj="_sticky_1tu0g_17",Aj="_header_inner_container_1tu0g_29",Pj="_header_left_1tu0g_45",Rj="_location_1tu0g_125",bj="_header_middle_1tu0g_151",Cj="_header_right_1tu0g_249",kj="_userLink_1tu0g_301",xj="_returns_1tu0g_305",Oj="_orders_1tu0g_323",Nj="_accAndLists_1tu0g_345",Dj="_header_signIn_btn_1tu0g_375",Lj="_sign_here_1tu0g_399",Mj="_text_center_1tu0g_417",Vj="_signAcc_lists_1tu0g_431",Fj="_vertical_1tu0g_489",jj="_language_detail_container_1tu0g_523",$j="_first_link_1tu0g_549",Uj="_language_list_1tu0g_561",Bj="_language_change_1tu0g_613",zj="_language_link_1tu0g_629",qj="_gap_1tu0g_647",Wj="_gap1_1tu0g_653",Hj="_english_1tu0g_671",Kj="_change_country_1tu0g_683",Gj="_amzonshopping_1tu0g_693",Qj="_cart_1tu0g_711",ct={header_outer_container:Tj,sticky:Sj,header_inner_container:Aj,header_left:Pj,location:Rj,header_middle:bj,header_right:Cj,userLink:kj,returns:xj,orders:Oj,accAndLists:Nj,header_signIn_btn:Dj,sign_here:Lj,text_center:Mj,signAcc_lists:Vj,vertical:Fj,language_detail_container:jj,first_link:$j,language_list:Uj,language_change:Bj,language_link:zj,gap:qj,gap1:Wj,english:Hj,change_country:Kj,amzonshopping:Gj,cart:Qj};var CC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},D1=oe.createContext&&oe.createContext(CC),Yj=["attr","size","title"];function Jj(t,e){if(t==null)return{};var n=Xj(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xj(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sp(){return sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sp.apply(this,arguments)}function L1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L1(Object(n),!0).forEach(function(r){Zj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zj(t,e,n){return e=e$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e$(t){var e=t$(t,"string");return typeof e=="symbol"?e:e+""}function t$(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kC(t){return t&&t.map((e,n)=>oe.createElement(e.tag,op({key:n},e.attr),kC(e.child)))}function Ni(t){return e=>oe.createElement(n$,sp({attr:op({},t.attr)},e),kC(t.child))}function n$(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=Jj(t,Yj),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),oe.createElement("svg",sp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:op(op({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&oe.createElement("title",null,s),t.children)};return D1!==void 0?oe.createElement(D1.Consumer,null,n=>e(n)):e(CC)}function r$(t){return Ni({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M12,22 C12,22 4,16 4,10 C4,5 8,2 12,2 C16,2 20,5 20,10 C20,16 12,22 12,22 Z M12,13 C13.657,13 15,11.657 15,10 C15,8.343 13.657,7 12,7 C10.343,7 9,8.343 9,10 C9,11.657 10.343,13 12,13 L12,13 Z"},child:[]}]})(t)}function i$(t){return Ni({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(t)}function s$(t){return Ni({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(t)}var M1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},o$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},OC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new a$;const h=s<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class a$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l$=function(t){const e=xC(t);return OC.encodeByteArray(e,!0)},ap=function(t){return l$(t).replace(/\./g,"")},M0=function(t){try{return OC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!u$(n)||(t[n]=lp(t[n],e[n]));return t}function u$(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d$=()=>c$().__FIREBASE_DEFAULTS__,h$=()=>{if(typeof process>"u"||typeof M1>"u")return;const t=M1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},f$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M0(t[1]);return e&&JSON.parse(e)},pm=()=>{try{return d$()||h$()||f$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},p$=t=>{var e,n;return(n=(e=pm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},NC=()=>{var t;return(t=pm())===null||t===void 0?void 0:t.config},V0=t=>{var e;return(e=pm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ap(JSON.stringify(n)),ap(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())}function F0(){var t;const e=(t=pm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LC(){return typeof self=="object"&&self.self===self}function j0(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mm(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $0(){const t=ie();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MC(){return!F0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xc(){try{return typeof indexedDB=="object"}catch{return!1}}function y$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$="FirebaseError";class It extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_$,Object.setPrototypeOf(this,It.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zr.prototype.create)}}class Zr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?v$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new It(i,a,r)}}function v$(t,e){return t.replace(w$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const w$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function VC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ol(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(F1(s)&&F1(o)){if(!ol(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function F1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hr(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Nr(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function U0(t,e){const n=new E$(t,e);return n.subscribe.bind(n)}class E${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");I$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dy),i.error===void 0&&(i.error=Dy),i.complete===void 0&&(i.complete=Dy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t){return t&&t._delegate?t._delegate:t}class er{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new m$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(A$(e))try{this.getOrInitializeService({instanceIdentifier:eo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=eo){return this.instances.has(e)}getOptions(e=eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:S$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=eo){return this.component?this.component.multipleInstances?e:eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S$(t){return t===eo?void 0:t}function A$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new T$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=[];var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const jC={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},P$=ne.INFO,R$={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},b$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=R$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vd{constructor(e){this.name=e,this._logLevel=P$,this._logHandler=b$,this._userLogHandler=null,B0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}function C$(t){B0.forEach(e=>{e.setLogLevel(t)})}function k$(t,e){for(const n of B0){let r=null;e&&e.level&&(r=jC[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:ne[s].toLowerCase(),message:a,args:o,type:i.name})}}}const x$=(t,e)=>e.some(n=>t instanceof n);let j1,$1;function O$(){return j1||(j1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N$(){return $1||($1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $C=new WeakMap,pv=new WeakMap,UC=new WeakMap,Ly=new WeakMap,z0=new WeakMap;function D$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$C.set(n,t)}).catch(()=>{}),z0.set(e,t),e}function L$(t){if(pv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pv.set(t,e)}let mv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function M$(t){mv=t(mv)}function V$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(My(this),e,...n);return UC.set(r,e.sort?e.sort():[e]),vs(r)}:N$().includes(t)?function(...e){return t.apply(My(this),e),vs($C.get(this))}:function(...e){return vs(t.apply(My(this),e))}}function F$(t){return typeof t=="function"?V$(t):(t instanceof IDBTransaction&&L$(t),x$(t,O$())?new Proxy(t,mv):t)}function vs(t){if(t instanceof IDBRequest)return D$(t);if(Ly.has(t))return Ly.get(t);const e=F$(t);return e!==t&&(Ly.set(t,e),z0.set(e,t)),e}const My=t=>z0.get(t);function j$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=vs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(vs(o.result),l.oldVersion,l.newVersion,vs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const $$=["get","getKey","getAll","getAllKeys","count"],U$=["put","add","delete","clear"],Vy=new Map;function U1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vy.get(e))return Vy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=U$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$$.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Vy.set(e,s),s}M$(t=>({...t,get:(e,n,r)=>U1(e,n)||t.get(e,n,r),has:(e,n)=>!!U1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(z$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function z$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const up="@firebase/app",gv="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new vd("@firebase/app"),q$="@firebase/app-compat",W$="@firebase/analytics-compat",H$="@firebase/analytics",K$="@firebase/app-check-compat",G$="@firebase/app-check",Q$="@firebase/auth",Y$="@firebase/auth-compat",J$="@firebase/database",X$="@firebase/database-compat",Z$="@firebase/functions",eU="@firebase/functions-compat",tU="@firebase/installations",nU="@firebase/installations-compat",rU="@firebase/messaging",iU="@firebase/messaging-compat",sU="@firebase/performance",oU="@firebase/performance-compat",aU="@firebase/remote-config",lU="@firebase/remote-config-compat",uU="@firebase/storage",cU="@firebase/storage-compat",dU="@firebase/firestore",hU="@firebase/firestore-compat",fU="firebase",pU="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]",mU={[up]:"fire-core",[q$]:"fire-core-compat",[H$]:"fire-analytics",[W$]:"fire-analytics-compat",[G$]:"fire-app-check",[K$]:"fire-app-check-compat",[Q$]:"fire-auth",[Y$]:"fire-auth-compat",[J$]:"fire-rtdb",[X$]:"fire-rtdb-compat",[Z$]:"fire-fn",[eU]:"fire-fn-compat",[tU]:"fire-iid",[nU]:"fire-iid-compat",[rU]:"fire-fcm",[iU]:"fire-fcm-compat",[sU]:"fire-perf",[oU]:"fire-perf-compat",[aU]:"fire-rc",[lU]:"fire-rc-compat",[uU]:"fire-gcs",[cU]:"fire-gcs-compat",[dU]:"fire-fst",[hU]:"fire-fst-compat","fire-js":"fire-js",[fU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new Map,al=new Map,ll=new Map;function Oc(t,e){try{t.container.addComponent(e)}catch(n){Co.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function BC(t,e){t.container.addOrOverwriteComponent(e)}function Qr(t){const e=t.name;if(ll.has(e))return Co.debug(`There were multiple attempts to register component ${e}.`),!1;ll.set(e,t);for(const n of Ss.values())Oc(n,t);for(const n of al.values())Oc(n,t);return!0}function gm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gU(t,e,n=Ts){gm(t,e).clearInstance(n)}function zC(t){return t.options!==void 0}function pe(t){return t.settings!==void 0}function yU(){ll.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jn=new Zr("app","Firebase",_U);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qC=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU extends qC{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,kn(up,gv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){W0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Jn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=pU;function q0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ts,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Jn.create("bad-app-name",{appName:String(i)});if(n||(n=NC()),!n)throw Jn.create("no-options");const s=Ss.get(i);if(s){if(ol(n,s.options)&&ol(r,s.config))return s;throw Jn.create("duplicate-app",{appName:i})}const o=new FC(i);for(const l of ll.values())o.addComponent(l);const a=new qC(n,r,o);return Ss.set(i,a),a}function wU(t,e){if(LC())throw Jn.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;zC(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=u=>[...u].reduce((c,d)=>Math.imul(31,c)+d.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Jn.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=al.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new FC(s);for(const u of ll.values())a.addComponent(u);const l=new vU(n,e,s,a);return al.set(s,l),l}function WC(t=Ts){const e=Ss.get(t);if(!e&&t===Ts&&NC())return q0();if(!e)throw Jn.create("no-app",{appName:t});return e}function EU(){return Array.from(Ss.values())}async function W0(t){let e=!1;const n=t.name;Ss.has(n)?(e=!0,Ss.delete(n)):al.has(n)&&t.decRefCount()<=0&&(al.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function kn(t,e,n){var r;let i=(r=mU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Co.warn(a.join(" "));return}Qr(new er(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function HC(t,e){if(t!==null&&typeof t!="function")throw Jn.create("invalid-log-argument");k$(t,e)}function KC(t){C$(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="firebase-heartbeat-database",TU=1,Nc="firebase-heartbeat-store";let Fy=null;function GC(){return Fy||(Fy=j$(IU,TU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jn.create("idb-open",{originalErrorMessage:t.message})})),Fy}async function SU(t){try{const n=(await GC()).transaction(Nc),r=await n.objectStore(Nc).get(QC(t));return await n.done,r}catch(e){if(e instanceof It)Co.warn(e.message);else{const n=Jn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Co.warn(n.message)}}}async function B1(t,e){try{const r=(await GC()).transaction(Nc,"readwrite");await r.objectStore(Nc).put(e,QC(t)),await r.done}catch(n){if(n instanceof It)Co.warn(n.message);else{const r=Jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Co.warn(r.message)}}}function QC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=1024,PU=30*24*60*60*1e3;class RU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=z1();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=PU}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=z1(),{heartbeatsToSend:r,unsentEntries:i}=bU(this._heartbeatsCache.heartbeats),s=ap(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function z1(){return new Date().toISOString().substring(0,10)}function bU(t,e=AU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),q1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),q1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xc()?y$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function q1(t){return ap(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(t){Qr(new er("platform-logger",e=>new B$(e),"PRIVATE")),Qr(new er("heartbeat",e=>new RU(e),"PRIVATE")),kn(up,gv,t),kn(up,gv,"esm2017"),kn("fire-js","")}kU("");const xU=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:It,SDK_VERSION:Fn,_DEFAULT_ENTRY_NAME:Ts,_addComponent:Oc,_addOrOverwriteComponent:BC,_apps:Ss,_clearComponents:yU,_components:ll,_getProvider:gm,_isFirebaseApp:zC,_isFirebaseServerApp:pe,_registerComponent:Qr,_removeServiceInstance:gU,_serverApps:al,deleteApp:W0,getApp:WC,getApps:EU,initializeApp:q0,initializeServerApp:wU,onLog:HC,registerVersion:kn,setLogLevel:KC},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,n){this._delegate=e,this.firebase=n,Oc(e,new er("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),W0(this._delegate)))}_getService(e,n=Ts){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ts){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Oc(this._delegate,e)}_addOrOverwriteComponent(e){BC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},W1=new Zr("app-compat","Firebase",NU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:kn,setLogLevel:KC,onLog:HC,apps:null,SDK_VERSION:Fn,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:xU}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||Ts,!V1(e,u))throw W1.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=q0(u,c);if(V1(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(Qr(u)&&u.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[d]!="function")throw W1.create("invalid-app-argument",{appName:c});return p[d]()};u.serviceProps!==void 0&&lp(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...p){return this._getService.bind(this,c).apply(this,u.multipleInstances?p:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(){const t=DU(OU);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:YC,extendNamespace:e,createSubscribe:U0,ErrorFactory:Zr,deepExtend:lp});function e(n){lp(t,n)}return t}const LU=YC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=new vd("@firebase/app-compat"),MU="@firebase/app-compat",VU="0.2.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(t){kn(MU,VU,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(LC()&&self.firebase!==void 0){H1.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&H1.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Ol=LU;FU();var jU="firebase",$U="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ol.registerVersion(jU,$U,"app-compat");function Nl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function JC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UU=JC,XC=new Zr("auth","Firebase",JC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=new vd("@firebase/auth");function BU(t,...e){cp.logLevel<=ne.WARN&&cp.warn(`Auth (${Fn}): ${t}`,...e)}function of(t,...e){cp.logLevel<=ne.ERROR&&cp.error(`Auth (${Fn}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,...e){throw H0(t,...e)}function zr(t,...e){return H0(t,...e)}function ZC(t,e,n){const r=Object.assign(Object.assign({},UU()),{[e]:n});return new Zr("auth","Firebase",r).create(e,{appName:t.name})}function vi(t){return ZC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function H0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XC.create(t,...e)}function H(t,e,...n){if(!t)throw H0(e,...n)}function di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw of(e),new Error(e)}function Ai(t,e){t||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zU(){return K1()==="http:"||K1()==="https:"}function K1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zU()||j0()||"connection"in navigator)?navigator.onLine:!0}function WU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=DC()||mm()}get(){return qU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t,e){Ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ek=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=new wd(3e4,6e4);function Di(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Li(t,e,n,r,i={}){return tk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Er(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),ek.fetch()(nk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function tk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HU),e);try{const i=new QU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ph(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ph(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ph(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ph(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ZC(t,c,u);yr(t,c)}}catch(i){if(i instanceof It)throw i;yr(t,"network-request-failed",{message:String(i)})}}async function Ed(t,e,n,r,i={}){const s=await Li(t,e,n,r,i);return"mfaPendingCredential"in s&&yr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function nk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?K0(t.config,i):`${t.config.apiScheme}://${i}`}function GU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let QU=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zr(this.auth,"network-request-failed")),KU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ph(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zr(t,e,r);return i.customData._tokenResponse=n,i}function G1(t){return t!==void 0&&t.enterprise!==void 0}let YU=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};async function JU(t,e){return Li(t,"GET","/v2/recaptchaConfig",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XU(t,e){return Li(t,"POST","/v1/accounts:delete",e)}async function rk(t,e){return Li(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZU(t,e=!1){const n=q(t),r=await n.getIdToken(e),i=G0(r);H(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Yu(jy(i.auth_time)),issuedAtTime:Yu(jy(i.iat)),expirationTime:Yu(jy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function jy(t){return Number(t)*1e3}function G0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return of("JWT malformed, contained fewer than 3 sections"),null;try{const i=M0(n);return i?JSON.parse(i):(of("Failed to decode base64 JWT payload"),null)}catch(i){return of("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Q1(t){const e=G0(t);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof It&&e4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function e4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t4=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _v=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Dc(t,rk(n,{idToken:r}));H(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ik(s.providerUserInfo):[],a=r4(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _v(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function n4(t){const e=q(t);await dp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ik(t){return t.map(e=>{var{providerId:n}=e,r=Nl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(t,e){const n=await tk(t,{},async()=>{const r=Er({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=nk(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ek.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function s4(t,e){return Li(t,"POST","/v2/accounts:revokeToken",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $y=class vv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Q1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){H(e.length!==0,"internal-error");const n=Q1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(H(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await i4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new vv;return r&&(H(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(H(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(H(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vv,this.toJSON())}_performRefresh(){return di("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t,e){H(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}let hp=class Ou{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Nl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _v(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Dc(this,this.stsTokenManager.getToken(this.auth,e));return H(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZU(this,e)}reload(){return n4(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ou(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pe(this.auth.app))return Promise.reject(vi(this.auth));const e=await this.getIdToken();return await Dc(this,XU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:I,isAnonymous:E,providerData:T,stsTokenManager:S}=n;H(_&&S,e,"internal-error");const C=$y.fromJSON(this.name,S);H(typeof _=="string",e,"internal-error"),zi(d,e.name),zi(h,e.name),H(typeof I=="boolean",e,"internal-error"),H(typeof E=="boolean",e,"internal-error"),zi(p,e.name),zi(m,e.name),zi(g,e.name),zi(w,e.name),zi(v,e.name),zi(y,e.name);const F=new Ou({uid:_,auth:e,email:h,emailVerified:I,displayName:d,isAnonymous:E,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:C,createdAt:v,lastLoginAt:y});return T&&Array.isArray(T)&&(F.providerData=T.map(D=>Object.assign({},D))),w&&(F._redirectEventId=w),F}static async _fromIdTokenResponse(e,n,r=!1){const i=new $y;i.updateFromServerResponse(n);const s=new Ou({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];H(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?ik(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new $y;a.updateFromIdToken(r);const l=new Ou({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _v(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=new Map;function hi(t){Ai(t instanceof Function,"Expected a class definition");let e=Y1.get(t);return e?(Ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Y1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sk=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}};sk.type="NONE";const J1=sk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t,e,n){return`firebase:${t}:${e}:${n}`}let X1=class lf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=af(this.userKey,i.apiKey,s),this.fullPersistenceKey=af("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hp._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lf(hi(J1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||hi(J1);const o=af(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=hp._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new lf(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new lf(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ok(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ck(e))return"Blackberry";if(dk(e))return"Webos";if(Q0(e))return"Safari";if((e.includes("chrome/")||ak(e))&&!e.includes("edge/"))return"Chrome";if(uk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ok(t=ie()){return/firefox\//i.test(t)}function Q0(t=ie()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ak(t=ie()){return/crios\//i.test(t)}function lk(t=ie()){return/iemobile/i.test(t)}function uk(t=ie()){return/android/i.test(t)}function ck(t=ie()){return/blackberry/i.test(t)}function dk(t=ie()){return/webos/i.test(t)}function ym(t=ie()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function o4(t=ie()){var e;return ym(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function a4(){return $0()&&document.documentMode===10}function hk(t=ie()){return ym(t)||uk(t)||dk(t)||ck(t)||/windows phone/i.test(t)||lk(t)}function l4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t,e=[]){let n;switch(t){case"Browser":n=Z1(ie());break;case"Worker":n=`${Z1(ie())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fn}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u4=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t,e={}){return Li(t,"GET","/v2/passwordPolicy",Di(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=6;let h4=class{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:d4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f4=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eS(this),this.idTokenSubscription=new eS(this),this.beforeStateQueue=new u4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await X1.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rk(this,{idToken:e}),r=await hp._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pe(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pe(this.app))return Promise.reject(vi(this));const n=e?q(e):null;return n&&H(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pe(this.app)?Promise.reject(vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pe(this.app)?Promise.reject(vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c4(this),n=new h4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await s4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hi(e)||this._popupRedirectResolver;H(n,this,"argument-error"),this.redirectPersistenceManager=await X1.create(this,[hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&BU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}};function Fs(t){return q(t)}let eS=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=U0(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p4(t){_m=t}function pk(t){return _m.loadJS(t)}function m4(){return _m.recaptchaEnterpriseScript}function g4(){return _m.gapiScript}function y4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const _4="recaptcha-enterprise",v4="NO_RECAPTCHA";let w4=class{constructor(e){this.type=_4,this.auth=Fs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{JU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new YU(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;G1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(v4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&G1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=m4();l.length!==0&&(l+=a),pk(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}};async function tS(t,e,n,r=!1){const i=new w4(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function fp(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await tS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await tS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t,e){const n=gm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ol(s,e??{}))return i;yr(i,"already-initialized")}return n.initialize({options:e})}function I4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T4(t,e,n){const r=Fs(t);H(r._canInitEmulator,r,"emulator-config-failed"),H(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=mk(e),{host:o,port:a}=S4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),A4()}function mk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S4(t){const e=mk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:nS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:nS(o)}}}function nS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function A4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y0=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,n){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}};async function P4(t,e){return Li(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(t,e){return Ed(t,"POST","/v1/accounts:signInWithPassword",Di(t,e))}async function b4(t,e){return Li(t,"POST","/v1/accounts:sendOobCode",Di(t,e))}async function C4(t,e){return b4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(t,e){return Ed(t,"POST","/v1/accounts:signInWithEmailLink",Di(t,e))}async function x4(t,e){return Ed(t,"POST","/v1/accounts:signInWithEmailLink",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rS=class wv extends Y0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new wv(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wv(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fp(e,n,"signInWithPassword",R4);case"emailLink":return k4(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fp(e,r,"signUpPassword",P4);case"emailLink":return x4(e,{idToken:n,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t,e){return Ed(t,"POST","/v1/accounts:signInWithIdp",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="http://localhost";let vm=class Ev extends Y0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ev(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Nl(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ev(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ba(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ba(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ba(e,n)}buildRequest(){const e={requestUri:O4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Er(n)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D4(t){const e=hr(Nr(t)).link,n=e?hr(Nr(e)).deep_link_id:null,r=hr(Nr(t)).deep_link_id;return(r?hr(Nr(r)).link:null)||r||n||e||t}let L4=class gk{constructor(e){var n,r,i,s,o,a;const l=hr(Nr(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=N4((i=l.mode)!==null&&i!==void 0?i:null);H(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=D4(e);try{return new gk(n)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wm=class yk{constructor(){this.providerId=yk.PROVIDER_ID}static credential(e,n){return rS._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=L4.parseLink(n);return H(r,"argument-error"),rS._fromEmailAndCode(e,r.code,r.tenantId)}};wm.PROVIDER_ID="password";wm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _k=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id=class extends _k{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vk=class pa extends Id{constructor(){super("facebook.com")}static credential(e){return vm._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pa.credential(e.oauthAccessToken)}catch{return null}}};vk.FACEBOOK_SIGN_IN_METHOD="facebook.com";vk.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wk=class ma extends Id{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vm._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ma.credential(n,r)}catch{return null}}};wk.GOOGLE_SIGN_IN_METHOD="google.com";wk.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ek=class ga extends Id{constructor(){super("github.com")}static credential(e){return vm._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ga.credential(e.oauthAccessToken)}catch{return null}}};Ek.GITHUB_SIGN_IN_METHOD="github.com";Ek.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ik=class ya extends Id{constructor(){super("twitter.com")}static credential(e,n){return vm._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ya.credential(n,r)}catch{return null}}};Ik.TWITTER_SIGN_IN_METHOD="twitter.com";Ik.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t,e){return Ed(t,"POST","/v1/accounts:signUp",Di(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Em=class Iv{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await hp._fromIdTokenResponse(e,r,i),o=iS(r);return new Iv({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=iS(r);return new Iv({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function iS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V4=class Tv extends It{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tv.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Tv(e,n,r,i)}};function Tk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?V4._fromErrorAndOperation(t,s,e,r):s})}async function F4(t,e,n=!1){const r=await Dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Em._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(t,e,n=!1){const{auth:r}=t;if(pe(r.app))return Promise.reject(vi(r));const i="reauthenticate";try{const s=await Dc(t,Tk(r,i,e,t),n);H(s.idToken,r,"internal-error");const o=G0(s.idToken);H(o,r,"internal-error");const{sub:a}=o;return H(t.uid===a,r,"user-mismatch"),Em._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&yr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(t,e,n=!1){if(pe(t.app))return Promise.reject(vi(t));const r="signIn",i=await Tk(t,r,e),s=await Em._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function $4(t,e){return Sk(Fs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(t){const e=Fs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function U4(t,e,n){const r=Fs(t);await fp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",C4)}async function B4(t,e,n){if(pe(t.app))return Promise.reject(vi(t));const r=Fs(t),o=await fp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",M4).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Ak(t),l}),a=await Em._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function z4(t,e,n){return pe(t.app)?Promise.reject(vi(t)):$4(q(t),wm.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ak(t),r})}function q4(t,e,n,r){return q(t).onIdTokenChanged(e,n,r)}function W4(t,e,n){return q(t).beforeAuthStateChanged(e,n)}const pp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pk=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pp,"1"),this.storage.removeItem(pp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(){const t=ie();return Q0(t)||ym(t)}const K4=1e3,G4=10;let Rk=class extends Pk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=H4()&&l4(),this.fallbackToPolling=hk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);a4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,G4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},K4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}};Rk.type="LOCAL";const Q4=Rk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bk=class extends Pk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}};bk.type="SESSION";const Ck=bk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kk=class xk{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xk(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Y4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};kk.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J4=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=J0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return window}function X4(t){qr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function Z4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function tB(){return Ok()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="firebaseLocalStorageDb",nB=1,mp="firebaseLocalStorage",Dk="fbase_key";let Td=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Im(t,e){return t.transaction([mp],e?"readwrite":"readonly").objectStore(mp)}function rB(){const t=indexedDB.deleteDatabase(Nk);return new Td(t).toPromise()}function Sv(){const t=indexedDB.open(Nk,nB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mp,{keyPath:Dk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mp)?e(r):(r.close(),await rB(),e(await Sv()))})})}async function sS(t,e,n){const r=Im(t,!0).put({[Dk]:e,value:n});return new Td(r).toPromise()}async function iB(t,e){const n=Im(t,!1).get(e),r=await new Td(n).toPromise();return r===void 0?null:r.value}function oS(t,e){const n=Im(t,!0).delete(e);return new Td(n).toPromise()}const sB=800,oB=3;let Lk=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>oB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ok()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kk._getInstance(tB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Z4(),!this.activeServiceWorker)return;this.sender=new J4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sv();return await sS(e,pp,"1"),await oS(e,pp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Im(i,!1).getAll();return new Td(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};Lk.type="LOCAL";const aB=Lk;new wd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lB(t,e){return e?hi(e):(H(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X0=class extends Y0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ba(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ba(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function uB(t){return Sk(t.auth,new X0(t),t.bypassAuthState)}function cB(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),j4(n,new X0(t),t.bypassAuthState)}async function dB(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),F4(n,new X0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mk=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uB;case"linkViaPopup":case"linkViaRedirect":return dB;case"reauthViaPopup":case"reauthViaRedirect":return cB;default:yr(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=new wd(2e3,1e4);let fB=class Nu extends Mk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Nu.currentPopupAction&&Nu.currentPopupAction.cancel(),Nu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return H(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=J0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hB.get())};e()}};fB.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB="pendingRedirect",uf=new Map;let mB=class extends Mk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=uf.get(this.auth._key());if(!e){try{const r=await gB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uf.set(this.auth._key(),e)}return this.bypassAuthState||uf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function gB(t,e){const n=vB(e),r=_B(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function yB(t,e){uf.set(t._key(),e)}function _B(t){return hi(t._redirectPersistence)}function vB(t){return af(pB,t.config.apiKey,t.name)}async function wB(t,e,n=!1){if(pe(t.app))return Promise.reject(vi(t));const r=Fs(t),i=lB(r,e),o=await new mB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=10*60*1e3;let IB=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Vk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EB&&this.cachedEventUids.clear(),this.cachedEventUids.has(aS(e))}saveEventToCache(e){this.cachedEventUids.add(aS(e)),this.lastProcessedEventTime=Date.now()}};function aS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Vk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SB(t,e={}){return Li(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PB=/^https?/;async function RB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SB(t);for(const n of e)try{if(bB(n))return}catch{}yr(t,"unauthorized-domain")}function bB(t){const e=yv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!PB.test(n))return!1;if(AB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=new wd(3e4,6e4);function lS(){const t=qr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kB(t){return new Promise((e,n)=>{var r,i,s;function o(){lS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lS(),n(zr(t,"network-request-failed"))},timeout:CB.get()})}if(!((i=(r=qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=qr().gapi)===null||s===void 0)&&s.load)o();else{const a=y4("iframefcb");return qr()[a]=()=>{gapi.load?o():n(zr(t,"network-request-failed"))},pk(`${g4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw cf=null,e})}let cf=null;function xB(t){return cf=cf||kB(t),cf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=new wd(5e3,15e3),NB="__/auth/iframe",DB="emulator/auth/iframe",LB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VB(t){const e=t.config;H(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?K0(e,DB):`https://${t.config.authDomain}/${NB}`,r={apiKey:e.apiKey,appName:t.name,v:Fn},i=MB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Er(r).slice(1)}`}async function FB(t){const e=await xB(t),n=qr().gapi;return H(n,t,"internal-error"),e.open({where:document.body,url:VB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=zr(t,"network-request-failed"),a=qr().setTimeout(()=>{s(o)},OB.get());function l(){qr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$B=500,UB=600,BB="_blank",zB="http://localhost";let uS=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function qB(t,e,n,r=$B,i=UB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},jB),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ie().toLowerCase();n&&(a=ak(u)?BB:n),ok(u)&&(e=e||zB,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(o4(u)&&a!=="_self")return WB(e||"",a),new uS(null);const d=window.open(e||"",a,c);H(d,t,"popup-blocked");try{d.focus()}catch{}return new uS(d)}function WB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB="__/auth/handler",KB="emulator/auth/handler",GB=encodeURIComponent("fac");async function cS(t,e,n,r,i,s){H(t.config.authDomain,t,"auth-domain-config-required"),H(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fn,eventId:i};if(e instanceof _k){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",VC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof Id){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${GB}=${encodeURIComponent(l)}`:"";return`${QB(t)}?${Er(a).slice(1)}${u}`}function QB({config:t}){return t.emulator?K0(t,KB):`https://${t.authDomain}/${HB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="webStorageSupport";let YB=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ck,this._completeRedirectFn=wB,this._overrideRedirectResult=yB}async _openPopup(e,n,r,i){var s;Ai((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await cS(e,n,r,yv(),i);return qB(e,o,J0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await cS(e,n,r,yv(),i);return X4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ai(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await FB(e),r=new IB(e);return n.register("authEvent",i=>(H(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uy,{type:Uy},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Uy];o!==void 0&&n(!!o),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hk()||Q0()||ym()}};const JB=YB;var dS="@firebase/auth",hS="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XB=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function e5(t){Qr(new er("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;H(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fk(t)},u=new f4(r,i,s,l);return I4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qr(new er("auth-internal",e=>{const n=Fs(e.getProvider("auth").getImmediate());return(r=>new XB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kn(dS,hS,ZB(t)),kn(dS,hS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=5*60,n5=V0("authIdTokenMaxAge")||t5;let fS=null;const r5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>n5)return;const i=n==null?void 0:n.token;fS!==i&&(fS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function i5(t=WC()){const e=gm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=E4(t,{popupRedirectResolver:JB,persistence:[aB,Q4,Ck]}),r=V0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=r5(s.toString());W4(n,o,()=>o(n.currentUser)),q4(n,a=>o(a))}}const i=p$("auth");return i&&T4(n,`http://${i}`),n}function s5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}p4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=zr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",s5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});e5("Browser");var o5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,Z0=Z0||{},G=o5||self;function Tm(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Sm(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function a5(t){return Object.prototype.hasOwnProperty.call(t,By)&&t[By]||(t[By]=++l5)}var By="closure_uid_"+(1e9*Math.random()>>>0),l5=0;function u5(t,e,n){return t.call.apply(t.bind,arguments)}function c5(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Kt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Kt=u5:Kt=c5,Kt.apply(null,arguments)}function Rh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Pt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function js(){this.s=this.s,this.o=this.o}var d5=0;js.prototype.s=!1;js.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),d5!=0)&&a5(this)};js.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fk=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function eE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function pS(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Tm(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Gt.prototype.h=function(){this.defaultPrevented=!0};var h5=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};G.addEventListener("test",n,e),G.removeEventListener("test",n,e)}catch{}return t}();function Lc(t){return/^[\s\xa0]*$/.test(t)}function Am(){var t=G.navigator;return t&&(t=t.userAgent)?t:""}function br(t){return Am().indexOf(t)!=-1}function tE(t){return tE[" "](t),t}tE[" "]=function(){};function f5(t,e){var n=o3;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var p5=br("Opera"),ul=br("Trident")||br("MSIE"),jk=br("Edge"),Av=jk||ul,$k=br("Gecko")&&!(Am().toLowerCase().indexOf("webkit")!=-1&&!br("Edge"))&&!(br("Trident")||br("MSIE"))&&!br("Edge"),m5=Am().toLowerCase().indexOf("webkit")!=-1&&!br("Edge");function Uk(){var t=G.document;return t?t.documentMode:void 0}var Pv;e:{var zy="",qy=function(){var t=Am();if($k)return/rv:([^\);]+)(\)|;)/.exec(t);if(jk)return/Edge\/([\d\.]+)/.exec(t);if(ul)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(m5)return/WebKit\/(\S+)/.exec(t);if(p5)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(qy&&(zy=qy?qy[1]:""),ul){var Wy=Uk();if(Wy!=null&&Wy>parseFloat(zy)){Pv=String(Wy);break e}}Pv=zy}var Rv;if(G.document&&ul){var mS=Uk();Rv=mS||parseInt(Pv,10)||void 0}else Rv=void 0;var g5=Rv;function Mc(t,e){if(Gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($k){e:{try{tE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:y5[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Mc.$.h.call(this)}}Pt(Mc,Gt);var y5={2:"touch",3:"pen",4:"mouse"};Mc.prototype.h=function(){Mc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pm="closure_listenable_"+(1e6*Math.random()|0),_5=0;function v5(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++_5,this.fa=this.ia=!1}function Rm(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function nE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function w5(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Bk(t){const e={};for(const n in t)e[n]=t[n];return e}const gS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zk(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<gS.length;s++)n=gS[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bm(t){this.src=t,this.g={},this.h=0}bm.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Cv(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new v5(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function bv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Fk(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Rm(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Cv(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var rE="closure_lm_"+(1e6*Math.random()|0),Hy={};function qk(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)qk(t,e[s],n,r,i);return null}return n=Kk(n),t&&t[Pm]?t.O(e,n,Sm(r)?!!r.capture:!!r,i):E5(t,e,n,!1,r,i)}function E5(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Sm(i)?!!i.capture:!!i,a=sE(t);if(a||(t[rE]=a=new bm(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=I5(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)h5||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Hk(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function I5(){function t(n){return e.call(t.src,t.listener,n)}const e=T5;return t}function Wk(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Wk(t,e[s],n,r,i);else r=Sm(r)?!!r.capture:!!r,n=Kk(n),t&&t[Pm]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Cv(s,n,r,i),-1<n&&(Rm(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=sE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Cv(e,n,r,i)),(n=-1<t?e[t]:null)&&iE(n))}function iE(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Pm])bv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Hk(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=sE(e))?(bv(n,t),n.h==0&&(n.src=null,e[rE]=null)):Rm(t)}}}function Hk(t){return t in Hy?Hy[t]:Hy[t]="on"+t}function T5(t,e){if(t.fa)t=!0;else{e=new Mc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&iE(t),t=n.call(r,e)}return t}function sE(t){return t=t[rE],t instanceof bm?t:null}var Ky="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kk(t){return typeof t=="function"?t:(t[Ky]||(t[Ky]=function(e){return t.handleEvent(e)}),t[Ky])}function At(){js.call(this),this.i=new bm(this),this.S=this,this.J=null}Pt(At,js);At.prototype[Pm]=!0;At.prototype.removeEventListener=function(t,e,n,r){Wk(this,t,e,n,r)};function Mt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Gt(e,t);else if(e instanceof Gt)e.target=e.target||t;else{var i=e;e=new Gt(r,t),zk(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=bh(o,r,!0,e)&&i}if(o=e.g=t,i=bh(o,r,!0,e)&&i,i=bh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=bh(o,r,!1,e)&&i}At.prototype.N=function(){if(At.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rm(n[r]);delete t.g[e],t.h--}}this.J=null};At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function bh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&bv(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var oE=G.JSON.stringify;class S5{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function A5(){var t=aE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class P5{constructor(){this.h=this.g=null}add(e,n){const r=Gk.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Gk=new S5(()=>new R5,t=>t.reset());class R5{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function b5(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function C5(t){G.setTimeout(()=>{throw t},0)}let Vc,Fc=!1,aE=new P5,Qk=()=>{const t=G.Promise.resolve(void 0);Vc=()=>{t.then(k5)}};var k5=()=>{for(var t;t=A5();){try{t.h.call(t.g)}catch(n){C5(n)}var e=Gk;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Fc=!1};function Cm(t,e){At.call(this),this.h=t||1,this.g=e||G,this.j=Kt(this.qb,this),this.l=Date.now()}Pt(Cm,At);V=Cm.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mt(this,"tick"),this.ga&&(lE(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function lE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}V.N=function(){Cm.$.N.call(this),lE(this),delete this.g};function uE(t,e,n){if(typeof t=="function")n&&(t=Kt(t,n));else if(t&&typeof t.handleEvent=="function")t=Kt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:G.setTimeout(t,e||0)}function Yk(t){t.g=uE(()=>{t.g=null,t.i&&(t.i=!1,Yk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class x5 extends js{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Yk(this)}N(){super.N(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jc(t){js.call(this),this.h=t,this.g={}}Pt(jc,js);var yS=[];function Jk(t,e,n,r){Array.isArray(n)||(n&&(yS[0]=n.toString()),n=yS);for(var i=0;i<n.length;i++){var s=qk(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Xk(t){nE(t.g,function(e,n){this.g.hasOwnProperty(n)&&iE(e)},t),t.g={}}jc.prototype.N=function(){jc.$.N.call(this),Xk(this)};jc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function km(){this.g=!0}km.prototype.Ea=function(){this.g=!1};function O5(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function N5(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function La(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+L5(t,n)+(r?" "+r:"")})}function D5(t,e){t.info(function(){return"TIMEOUT: "+e})}km.prototype.info=function(){};function L5(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return oE(n)}catch{return e}}var Ho={},_S=null;function xm(){return _S=_S||new At}Ho.Ta="serverreachability";function Zk(t){Gt.call(this,Ho.Ta,t)}Pt(Zk,Gt);function $c(t){const e=xm();Mt(e,new Zk(e))}Ho.STAT_EVENT="statevent";function ex(t,e){Gt.call(this,Ho.STAT_EVENT,t),this.stat=e}Pt(ex,Gt);function tn(t){const e=xm();Mt(e,new ex(e,t))}Ho.Ua="timingevent";function tx(t,e){Gt.call(this,Ho.Ua,t),this.size=e}Pt(tx,Gt);function Sd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){t()},e)}var Om={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},nx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cE(){}cE.prototype.h=null;function vS(t){return t.h||(t.h=t.i())}function rx(){}var Ad={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dE(){Gt.call(this,"d")}Pt(dE,Gt);function hE(){Gt.call(this,"c")}Pt(hE,Gt);var kv;function Nm(){}Pt(Nm,cE);Nm.prototype.g=function(){return new XMLHttpRequest};Nm.prototype.i=function(){return{}};kv=new Nm;function Pd(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new jc(this),this.P=M5,t=Av?125:void 0,this.V=new Cm(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ix}function ix(){this.i=null,this.g="",this.h=!1}var M5=45e3,sx={},xv={};V=Pd.prototype;V.setTimeout=function(t){this.P=t};function Ov(t,e,n){t.L=1,t.A=Lm(Pi(e)),t.u=n,t.S=!0,ox(t,null)}function ox(t,e){t.G=Date.now(),Rd(t),t.B=Pi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),px(n.i,"t",r),t.o=0,n=t.l.J,t.h=new ix,t.g=Lx(t.l,n?e:null,!t.u),0<t.O&&(t.M=new x5(Kt(t.Pa,t,t.g),t.O)),Jk(t.U,t.g,"readystatechange",t.nb),e=t.I?Bk(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),$c(),O5(t.j,t.v,t.B,t.m,t.W,t.u)}V.nb=function(t){t=t.target;const e=this.M;e&&Dr(t)==3?e.l():this.Pa(t)};V.Pa=function(t){try{if(t==this.g)e:{const c=Dr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Av||this.g&&(this.h.h||this.g.ja()||TS(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?$c(3):$c(2)),Dm(this);var n=this.g.da();this.ca=n;t:if(ax(this)){var r=TS(this.g);t="";var i=r.length,s=Dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ho(this),Ju(this);var o="";break t}this.h.i=new G.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,N5(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lc(a)){var u=a;break t}}u=null}if(n=u)La(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nv(this,n);else{this.i=!1,this.s=3,tn(12),ho(this),Ju(this);break e}}this.S?(lx(this,c,o),Av&&this.i&&c==3&&(Jk(this.U,this.V,"tick",this.mb),this.V.start())):(La(this.j,this.m,o,null),Nv(this,o)),c==4&&ho(this),this.i&&!this.J&&(c==4?xx(this.l,this):(this.i=!1,Rd(this)))}else r3(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,tn(12)):(this.s=0,tn(13)),ho(this),Ju(this)}}}catch{}finally{}};function ax(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function lx(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=V5(t,n),i==xv){e==4&&(t.s=4,tn(14),r=!1),La(t.j,t.m,null,"[Incomplete Response]");break}else if(i==sx){t.s=4,tn(15),La(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else La(t.j,t.m,i,null),Nv(t,i);ax(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,tn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),_E(e),e.M=!0,tn(11))):(La(t.j,t.m,n,"[Invalid Chunked Response]"),ho(t),Ju(t))}V.mb=function(){if(this.g){var t=Dr(this.g),e=this.g.ja();this.o<e.length&&(Dm(this),lx(this,t,e),this.i&&t!=4&&Rd(this))}};function V5(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?xv:(n=Number(e.substring(n,r)),isNaN(n)?sx:(r+=1,r+n>e.length?xv:(e=e.slice(r,r+n),t.o=r+n,e)))}V.cancel=function(){this.J=!0,ho(this)};function Rd(t){t.Y=Date.now()+t.P,ux(t,t.P)}function ux(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Sd(Kt(t.lb,t),e)}function Dm(t){t.C&&(G.clearTimeout(t.C),t.C=null)}V.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(D5(this.j,this.B),this.L!=2&&($c(),tn(17)),ho(this),this.s=2,Ju(this)):ux(this,this.Y-t)};function Ju(t){t.l.H==0||t.J||xx(t.l,t)}function ho(t){Dm(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,lE(t.V),Xk(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Nv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Dv(n.i,t))){if(!t.K&&Dv(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)_p(n),Fm(n);else break e;yE(n),tn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Sd(Kt(n.ib,n),6e3));if(1>=yx(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else fo(n,11)}else if((t.K||n.g==t)&&_p(n),!Lc(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(fE(s,s.h),s.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,be(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Dx(r,r.J?r.pa:null,r.Y),o.K){_x(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Dm(a),Rd(a)),r.g=o}else Cx(r);0<n.j.length&&jm(n)}else u[0]!="stop"&&u[0]!="close"||fo(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?fo(n,7):gE(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}$c(4)}catch{}}function F5(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Tm(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function j5(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Tm(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function cx(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Tm(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=j5(t),r=F5(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var dx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $5(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function wo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof wo){this.h=t.h,gp(this,t.j),this.s=t.s,this.g=t.g,yp(this,t.m),this.l=t.l;var e=t.i,n=new Uc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wS(this,n),this.o=t.o}else t&&(e=String(t).match(dx))?(this.h=!1,gp(this,e[1]||"",!0),this.s=Du(e[2]||""),this.g=Du(e[3]||"",!0),yp(this,e[4]),this.l=Du(e[5]||"",!0),wS(this,e[6]||"",!0),this.o=Du(e[7]||"")):(this.h=!1,this.i=new Uc(null,this.h))}wo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Lu(e,ES,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Lu(e,ES,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Lu(n,n.charAt(0)=="/"?z5:B5,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Lu(n,W5)),t.join("")};function Pi(t){return new wo(t)}function gp(t,e,n){t.j=n?Du(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wS(t,e,n){e instanceof Uc?(t.i=e,H5(t.i,t.h)):(n||(e=Lu(e,q5)),t.i=new Uc(e,t.h))}function be(t,e,n){t.i.set(e,n)}function Lm(t){return be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Du(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Lu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,U5),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function U5(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ES=/[#\/\?@]/g,B5=/[#\?:]/g,z5=/[#\?]/g,q5=/[#\?@]/g,W5=/#/g;function Uc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function $s(t){t.g||(t.g=new Map,t.h=0,t.i&&$5(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}V=Uc.prototype;V.add=function(t,e){$s(this),this.i=null,t=Dl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function hx(t,e){$s(t),e=Dl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function fx(t,e){return $s(t),e=Dl(t,e),t.g.has(e)}V.forEach=function(t,e){$s(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};V.ta=function(){$s(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};V.Z=function(t){$s(this);let e=[];if(typeof t=="string")fx(this,t)&&(e=e.concat(this.g.get(Dl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};V.set=function(t,e){return $s(this),this.i=null,t=Dl(this,t),fx(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};V.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function px(t,e,n){hx(t,e),0<n.length&&(t.i=null,t.g.set(Dl(t,e),eE(n)),t.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Dl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function H5(t,e){e&&!t.j&&($s(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(hx(this,r),px(this,i,n))},t)),t.j=e}var K5=class{constructor(t,e){this.g=t,this.map=e}};function mx(t){this.l=t||G5,G.PerformanceNavigationTiming?(t=G.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(G.g&&G.g.Ka&&G.g.Ka()&&G.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var G5=10;function gx(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function yx(t){return t.h?1:t.g?t.g.size:0}function Dv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function fE(t,e){t.g?t.g.add(e):t.h=e}function _x(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}mx.prototype.cancel=function(){if(this.i=vx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function vx(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return eE(t.i)}var Q5=class{stringify(t){return G.JSON.stringify(t,void 0)}parse(t){return G.JSON.parse(t,void 0)}};function Y5(){this.g=new Q5}function J5(t,e,n){const r=n||"";try{cx(t,function(i,s){let o=i;Sm(i)&&(o=oE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function X5(t,e){const n=new km;if(G.Image){const r=new Image;r.onload=Rh(Ch,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Rh(Ch,n,r,"TestLoadImage: error",!1,e),r.onabort=Rh(Ch,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Rh(Ch,n,r,"TestLoadImage: timeout",!1,e),G.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ch(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function bd(t){this.l=t.ec||null,this.j=t.ob||!1}Pt(bd,cE);bd.prototype.g=function(){return new Mm(this.l,this.j)};bd.prototype.i=function(t){return function(){return t}}({});function Mm(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=pE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pt(Mm,At);var pE=0;V=Mm.prototype;V.open=function(t,e){if(this.readyState!=pE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Bc(this)};V.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||G).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cd(this)),this.readyState=pE};V.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Bc(this)),this.g&&(this.readyState=3,Bc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof G.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wx(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function wx(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}V.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Cd(this):Bc(this),this.readyState==3&&wx(this)}};V.Za=function(t){this.g&&(this.response=this.responseText=t,Cd(this))};V.Ya=function(t){this.g&&(this.response=t,Cd(this))};V.ka=function(){this.g&&Cd(this)};function Cd(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Bc(t)}V.setRequestHeader=function(t,e){this.v.append(t,e)};V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Bc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Mm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Z5=G.JSON.parse;function Qe(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ex,this.L=this.M=!1}Pt(Qe,At);var Ex="",e3=/^https?$/i,t3=["POST","PUT"];V=Qe.prototype;V.Oa=function(t){this.M=t};V.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():kv.g(),this.C=this.u?vS(this.u):vS(kv),this.g.onreadystatechange=Kt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){IS(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=G.FormData&&t instanceof G.FormData,!(0<=Fk(t3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Sx(this),0<this.B&&((this.L=n3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kt(this.ua,this)):this.A=uE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){IS(this,s)}};function n3(t){return ul&&typeof t.timeout=="number"&&t.ontimeout!==void 0}V.ua=function(){typeof Z0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mt(this,"timeout"),this.abort(8))};function IS(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ix(t),Vm(t)}function Ix(t){t.F||(t.F=!0,Mt(t,"complete"),Mt(t,"error"))}V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Mt(this,"complete"),Mt(this,"abort"),Vm(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vm(this,!0)),Qe.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?Tx(this):this.kb())};V.kb=function(){Tx(this)};function Tx(t){if(t.h&&typeof Z0<"u"&&(!t.C[1]||Dr(t)!=4||t.da()!=2)){if(t.v&&Dr(t)==4)uE(t.La,0,t);else if(Mt(t,"readystatechange"),Dr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(dx)[1]||null;!i&&G.self&&G.self.location&&(i=G.self.location.protocol.slice(0,-1)),r=!e3.test(i?i.toLowerCase():"")}n=r}if(n)Mt(t,"complete"),Mt(t,"success");else{t.m=6;try{var s=2<Dr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Ix(t)}}finally{Vm(t)}}}}function Vm(t,e){if(t.g){Sx(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Mt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Sx(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(G.clearTimeout(t.A),t.A=null)}V.isActive=function(){return!!this.g};function Dr(t){return t.g?t.g.readyState:0}V.da=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Z5(e)}};function TS(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Ex:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function r3(t){const e={};t=(t.g&&2<=Dr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Lc(t[r]))continue;var n=b5(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}w5(e,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Ax(t){let e="";return nE(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function mE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ax(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):be(t,e,n))}function hu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Px(t){this.Ga=0,this.j=[],this.l=new km,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hu("baseRetryDelayMs",5e3,t),this.hb=hu("retryDelaySeedMs",1e4,t),this.eb=hu("forwardChannelMaxRetries",2,t),this.xa=hu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new mx(t&&t.concurrentRequestLimit),this.Ja=new Y5,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=Px.prototype;V.ra=8;V.H=1;function gE(t){if(Rx(t),t.H==3){var e=t.W++,n=Pi(t.I);if(be(n,"SID",t.K),be(n,"RID",e),be(n,"TYPE","terminate"),kd(t,n),e=new Pd(t,t.l,e),e.L=2,e.A=Lm(Pi(n)),n=!1,G.navigator&&G.navigator.sendBeacon)try{n=G.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&G.Image&&(new Image().src=e.A,n=!0),n||(e.g=Lx(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Rd(e)}Nx(t)}function Fm(t){t.g&&(_E(t),t.g.cancel(),t.g=null)}function Rx(t){Fm(t),t.u&&(G.clearTimeout(t.u),t.u=null),_p(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&G.clearTimeout(t.m),t.m=null)}function jm(t){if(!gx(t.i)&&!t.m){t.m=!0;var e=t.Na;Vc||Qk(),Fc||(Vc(),Fc=!0),aE.add(e,t),t.C=0}}function i3(t,e){return yx(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Sd(Kt(t.Na,t,e),Ox(t,t.C)),t.C++,!0)}V.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Pd(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Bk(s),zk(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=bx(this,i,e),n=Pi(this.I),be(n,"RID",t),be(n,"CVER",22),this.F&&be(n,"X-HTTP-Session-Id",this.F),kd(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Ax(s)))+"&"+e:this.o&&mE(n,this.o,s)),fE(this.i,i),this.bb&&be(n,"TYPE","init"),this.P?(be(n,"$req",e),be(n,"SID","null"),i.aa=!0,Ov(i,n,null)):Ov(i,n,e),this.H=2}}else this.H==3&&(t?SS(this,t):this.j.length==0||gx(this.i)||SS(this))};function SS(t,e){var n;e?n=e.m:n=t.W++;const r=Pi(t.I);be(r,"SID",t.K),be(r,"RID",n),be(r,"AID",t.V),kd(t,r),t.o&&t.s&&mE(r,t.o,t.s),n=new Pd(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=bx(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),fE(t.i,n),Ov(n,r,e)}function kd(t,e){t.na&&nE(t.na,function(n,r){be(e,r,n)}),t.h&&cx({},function(n,r){be(e,r,n)})}function bx(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Kt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{J5(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Cx(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Vc||Qk(),Fc||(Vc(),Fc=!0),aE.add(e,t),t.A=0}}function yE(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Sd(Kt(t.Ma,t),Ox(t,t.A)),t.A++,!0)}V.Ma=function(){if(this.u=null,kx(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sd(Kt(this.jb,this),t)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tn(10),Fm(this),kx(this))};function _E(t){t.B!=null&&(G.clearTimeout(t.B),t.B=null)}function kx(t){t.g=new Pd(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Pi(t.wa);be(e,"RID","rpc"),be(e,"SID",t.K),be(e,"AID",t.V),be(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&be(e,"TO",t.qa),be(e,"TYPE","xmlhttp"),kd(t,e),t.o&&t.s&&mE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Lm(Pi(e)),n.u=null,n.S=!0,ox(n,t)}V.ib=function(){this.v!=null&&(this.v=null,Fm(this),yE(this),tn(19))};function _p(t){t.v!=null&&(G.clearTimeout(t.v),t.v=null)}function xx(t,e){var n=null;if(t.g==e){_p(t),_E(t),t.g=null;var r=2}else if(Dv(t.i,e))n=e.F,_x(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=xm(),Mt(r,new tx(r,n)),jm(t)}else Cx(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&i3(t,e)||r==2&&yE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:fo(t,5);break;case 4:fo(t,10);break;case 3:fo(t,6);break;default:fo(t,2)}}}function Ox(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function fo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Kt(t.pb,t);n||(n=new wo("//www.google.com/images/cleardot.gif"),G.location&&G.location.protocol=="http"||gp(n,"https"),Lm(n)),X5(n.toString(),r)}else tn(2);t.H=0,t.h&&t.h.za(e),Nx(t),Rx(t)}V.pb=function(t){t?(this.l.info("Successfully pinged google.com"),tn(2)):(this.l.info("Failed to ping google.com"),tn(1))};function Nx(t){if(t.H=0,t.ma=[],t.h){const e=vx(t.i);(e.length!=0||t.j.length!=0)&&(pS(t.ma,e),pS(t.ma,t.j),t.i.i.length=0,eE(t.j),t.j.length=0),t.h.ya()}}function Dx(t,e,n){var r=n instanceof wo?Pi(n):new wo(n);if(r.g!="")e&&(r.g=e+"."+r.g),yp(r,r.m);else{var i=G.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new wo(null);r&&gp(s,r),e&&(s.g=e),i&&yp(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&be(r,n,e),be(r,"VER",t.ra),kd(t,r),r}function Lx(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Qe(new bd({ob:n})):new Qe(t.va),e.Oa(t.J),e}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function Mx(){}V=Mx.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function vp(){if(ul&&!(10<=Number(g5)))throw Error("Environmental error: no available transport.")}vp.prototype.g=function(t,e){return new Dn(t,e)};function Dn(t,e){At.call(this),this.g=new Px(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Lc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ll(this)}Pt(Dn,At);Dn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;tn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Dx(t,null,t.Y),jm(t)};Dn.prototype.close=function(){gE(this.g)};Dn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=oE(t),t=n);e.j.push(new K5(e.fb++,t)),e.H==3&&jm(e)};Dn.prototype.N=function(){this.g.h=null,delete this.j,gE(this.g),delete this.g,Dn.$.N.call(this)};function Vx(t){dE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Pt(Vx,dE);function Fx(){hE.call(this),this.status=1}Pt(Fx,hE);function Ll(t){this.g=t}Pt(Ll,Mx);Ll.prototype.Ba=function(){Mt(this.g,"a")};Ll.prototype.Aa=function(t){Mt(this.g,new Vx(t))};Ll.prototype.za=function(t){Mt(this.g,new Fx)};Ll.prototype.ya=function(){Mt(this.g,"b")};function s3(){this.blockSize=-1}function _r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Pt(_r,s3);_r.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Gy(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}_r.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Gy(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Gy(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Gy(this,r),i=0;break}}this.h=i,this.i+=e};_r.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function we(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var o3={};function vE(t){return-128<=t&&128>t?f5(t,function(e){return new we([e|0],0>e?-1:0)}):new we([t|0],0>t?-1:0)}function Lr(t){if(isNaN(t)||!isFinite(t))return za;if(0>t)return Nt(Lr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Lv;return new we(e,0)}function jx(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Nt(jx(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Lr(Math.pow(e,8)),r=za,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Lr(Math.pow(e,s)),r=r.R(s).add(Lr(o))):(r=r.R(n),r=r.add(Lr(o)))}return r}var Lv=4294967296,za=vE(0),Mv=vE(1),AS=vE(16777216);V=we.prototype;V.ea=function(){if(Hn(this))return-Nt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Lv+r)*e,e*=Lv}return t};V.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(fi(this))return"0";if(Hn(this))return"-"+Nt(this).toString(t);for(var e=Lr(Math.pow(t,6)),n=this,r="";;){var i=Ep(n,e).g;n=wp(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,fi(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};V.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function fi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Hn(t){return t.h==-1}V.X=function(t){return t=wp(this,t),Hn(t)?-1:fi(t)?0:1};function Nt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new we(n,~t.h).add(Mv)}V.abs=function(){return Hn(this)?Nt(this):this};V.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new we(n,n[n.length-1]&-2147483648?-1:0)};function wp(t,e){return t.add(Nt(e))}V.R=function(t){if(fi(this)||fi(t))return za;if(Hn(this))return Hn(t)?Nt(this).R(Nt(t)):Nt(Nt(this).R(t));if(Hn(t))return Nt(this.R(Nt(t)));if(0>this.X(AS)&&0>t.X(AS))return Lr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,kh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,kh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,kh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,kh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new we(n,0)};function kh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function fu(t,e){this.g=t,this.h=e}function Ep(t,e){if(fi(e))throw Error("division by zero");if(fi(t))return new fu(za,za);if(Hn(t))return e=Ep(Nt(t),e),new fu(Nt(e.g),Nt(e.h));if(Hn(e))return e=Ep(t,Nt(e)),new fu(Nt(e.g),e.h);if(30<t.g.length){if(Hn(t)||Hn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Mv,r=e;0>=r.X(t);)n=PS(n),r=PS(r);var i=na(n,1),s=na(r,1);for(r=na(r,2),n=na(n,2);!fi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=na(r,1),n=na(n,1)}return e=wp(t,i.R(e)),new fu(i,e)}for(i=za;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Lr(n),o=s.R(e);Hn(o)||0<o.X(t);)n-=r,s=Lr(n),o=s.R(e);fi(s)&&(s=Mv),i=i.add(s),t=wp(t,o)}return new fu(i,t)}V.gb=function(t){return Ep(this,t).h};V.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new we(n,this.h&t.h)};V.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new we(n,this.h|t.h)};V.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new we(n,this.h^t.h)};function PS(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new we(n,t.h)}function na(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new we(i,t.h)}vp.prototype.createWebChannel=vp.prototype.g;Dn.prototype.send=Dn.prototype.u;Dn.prototype.open=Dn.prototype.m;Dn.prototype.close=Dn.prototype.close;Om.NO_ERROR=0;Om.TIMEOUT=8;Om.HTTP_ERROR=6;nx.COMPLETE="complete";rx.EventType=Ad;Ad.OPEN="a";Ad.CLOSE="b";Ad.ERROR="c";Ad.MESSAGE="d";At.prototype.listen=At.prototype.O;Qe.prototype.listenOnce=Qe.prototype.P;Qe.prototype.getLastError=Qe.prototype.Sa;Qe.prototype.getLastErrorCode=Qe.prototype.Ia;Qe.prototype.getStatus=Qe.prototype.da;Qe.prototype.getResponseJson=Qe.prototype.Wa;Qe.prototype.getResponseText=Qe.prototype.ja;Qe.prototype.send=Qe.prototype.ha;Qe.prototype.setWithCredentials=Qe.prototype.Oa;_r.prototype.digest=_r.prototype.l;_r.prototype.reset=_r.prototype.reset;_r.prototype.update=_r.prototype.j;we.prototype.add=we.prototype.add;we.prototype.multiply=we.prototype.R;we.prototype.modulo=we.prototype.gb;we.prototype.compare=we.prototype.X;we.prototype.toNumber=we.prototype.ea;we.prototype.toString=we.prototype.toString;we.prototype.getBits=we.prototype.D;we.fromNumber=Lr;we.fromString=jx;var a3=function(){return new vp},l3=function(){return xm()},Qy=Om,u3=nx,c3=Ho,RS={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},d3=bd,xh=rx,h3=Qe,f3=_r,qa=we;const bS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new vd("@firebase/firestore");function _a(){return As.logLevel}function p3(t){As.setLogLevel(t)}function x(t,...e){if(As.logLevel<=ne.DEBUG){const n=e.map(wE);As.debug(`Firestore (${Ml}): ${t}`,...n)}}function tt(t,...e){if(As.logLevel<=ne.ERROR){const n=e.map(wE);As.error(`Firestore (${Ml}): ${t}`,...n)}}function vr(t,...e){if(As.logLevel<=ne.WARN){const n=e.map(wE);As.warn(`Firestore (${Ml}): ${t}`,...n)}}function wE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(t="Unexpected state"){const e=`FIRESTORE (${Ml}) INTERNAL ASSERTION FAILED: `+t;throw tt(e),new Error(e)}function z(t,e){t||U()}function m3(t,e){t||U()}function M(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class k extends It{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class g3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class y3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _3{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Tt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Tt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{x("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(x("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Tt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(x("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(z(typeof r.accessToken=="string"),new $x(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return z(e===null||typeof e=="string"),new wt(e)}}class v3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class w3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new v3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&x("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,x("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{x("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):x("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(z(typeof n.token=="string"),this.R=n.token,new E3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=T3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Y(t,e){return t<e?-1:t>e?1:0}function cl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function Bx(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new k(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new k(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new k(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Me(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new Me(0,0))}static max(){return new W(new Me(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,r){n===void 0?n=0:n>e.length&&U(),r===void 0?r=e.length-n:r>e.length-n&&U(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ae extends zc{construct(e,n,r){return new ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new k(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ae(n)}static emptyPath(){return new ae([])}}const S3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class De extends zc{construct(e,n,r){return new De(e,n,r)}static isValidIdentifier(e){return S3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),De.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new De(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new k(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new k(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new k(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new k(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new De(n)}static emptyPath(){return new De([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.path=e}static fromPath(e){return new L(ae.fromString(e))}static fromName(e){return new L(ae.fromString(e).popFirst(5))}static empty(){return new L(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new ae(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Vv(t){return t.fields.find(e=>e.kind===2)}function to(t){return t.fields.filter(e=>e.kind!==2)}Ip.UNKNOWN_ID=-1;class df{constructor(e,n){this.fieldPath=e,this.kind=n}}class qc{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new qc(0,Ln.min())}}function zx(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=W.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new Ln(i,L.empty(),e)}function qx(t){return new Ln(t.readTime,t.key,-1)}class Ln{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ln(W.min(),L.empty(),-1)}static max(){return new Ln(W.max(),L.empty(),-1)}}function EE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=L.comparator(t.documentKey,e.documentKey),n!==0?n:Y(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==Wx)throw t;x("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new A((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof A?n:A.resolve(n)}catch(n){return A.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):A.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):A.reject(n)}static resolve(e){return new A((n,r)=>{n(e)})}static reject(e){return new A((n,r)=>{r(e)})}static waitFor(e){return new A((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=A.resolve(!1);for(const r of e)n=n.next(i=>i?A.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new A((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new A((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Tt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Xu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=IE(r.target.error);this.V.reject(new Xu(e,i))}}static open(e,n,r,i){try{return new $m(n,e.transaction(i,r))}catch(s){throw new Xu(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(x("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new P3(n)}}class Wr{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Wr.S(ie())===12.2&&tt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return x("SimpleDb","Removing database:",e),no(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!xc())return!1;if(Wr.C())return!0;const e=ie(),n=Wr.S(e),r=0<n&&n<10,i=Kx(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(x("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Xu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new k(R.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new k(R.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Xu(e,o))},i.onupgradeneeded=s=>{x("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{x("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=$m.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),A.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(x("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Kx(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class A3{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return no(this.B.delete())}}class Xu extends k{constructor(e,n){super(R.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Bs(t){return t.name==="IndexedDbTransactionError"}class P3{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(x("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(x("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),no(r)}add(e){return x("SimpleDb","ADD",this.store.name,e,e),no(this.store.add(e))}get(e){return no(this.store.get(e)).next(n=>(n===void 0&&(n=null),x("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return x("SimpleDb","DELETE",this.store.name,e),no(this.store.delete(e))}count(){return x("SimpleDb","COUNT",this.store.name),no(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new A((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new A((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){x("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new A((r,i)=>{n.onerror=s=>{const o=IE(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new A((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new A3(a),u=n(a.primaryKey,a.value,l);if(u instanceof A){const c=u.catch(d=>(l.done(),A.reject(d)));r.push(c)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>A.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function no(t){return new A((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=IE(r.target.error);n(i)}})}let CS=!1;function IE(t){const e=Wr.S(ie());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new k("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CS||(CS=!0,setTimeout(()=>{throw r},0)),r}}return t}class R3{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){x("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{x("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Bs(n)?x("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Us(n)}await this.X(6e4)})}}class b3{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return A.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return x("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(x("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=qx(s);EE(o,r)>0&&(r=o)}),new Ln(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}pn.oe=-1;function xd(t){return t==null}function Wc(t){return t===0&&1/t==-1/0}function Gx(t){return typeof t=="number"&&Number.isInteger(t)&&!Wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kS(e)),e=C3(t.get(n),e);return kS(e)}function C3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function kS(t){return t+""}function Mr(t){const e=t.length;if(z(e>=2),e===2)return z(t.charAt(0)===""&&t.charAt(1)===""),ae.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&U(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:U()}s=o+2}return new ae(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t,e){return[t,rn(e)]}function Qx(t,e,n){return[t,rn(e),n]}const k3={},x3=["prefixPath","collectionGroup","readTime","documentId"],O3=["prefixPath","collectionGroup","documentId"],N3=["collectionGroup","readTime","prefixPath","documentId"],D3=["canonicalId","targetId"],L3=["targetId","path"],M3=["path","targetId"],V3=["collectionId","parent"],F3=["indexId","uid"],j3=["uid","sequenceNumber"],$3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],U3=["indexId","uid","orderedDocumentKey"],B3=["userId","collectionPath","documentId"],z3=["userId","collectionPath","largestBatchId"],q3=["userId","collectionGroup","largestBatchId"],Yx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],W3=[...Yx,"documentOverlays"],Jx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xx=Jx,Zx=[...Xx,"indexConfiguration","indexState","indexEntries"],H3=Zx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv extends Hx{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Rt(t,e){const n=M(t);return Wr.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ko(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.comparator=e,this.root=n||xt.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oh(this.root,e,this.comparator,!0)}}class Oh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??xt.RED,this.left=i??xt.EMPTY,this.right=s??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new xt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(e,n,r,i,s){return this}insert(e,n,r){return new xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NS(this.data.getIterator())}getIteratorFrom(e){return new NS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Te)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Te(this.comparator);return n.data=e,n}}class NS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ra(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(De.comparator)}static empty(){return new mn([])}unionWith(e){let n=new Te(De.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tO("Invalid base64 string: "+s):s}}(e);return new pt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const G3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(z(!!t),typeof t=="string"){let e=0;const n=G3.exec(t);if(z(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ps(t){return typeof t=="string"?pt.fromBase64String(t):pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function TE(t){const e=t.mapValue.fields.__previous_value__;return Um(e)?TE(e):e}function Hc(t){const e=Ri(t.mapValue.fields.__local_write_time__.timestampValue);return new Me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Rs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ff={nullValue:"NULL_VALUE"};function ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Um(t)?4:nO(t)?9007199254740991:10:U()}function Yr(t,e){if(t===e)return!0;const n=ko(t);if(n!==ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hc(t).isEqual(Hc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ri(i.timestampValue),a=Ri(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ps(i.bytesValue).isEqual(Ps(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ge(i.geoPointValue.latitude)===Ge(s.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ge(i.integerValue)===Ge(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ge(i.doubleValue),a=Ge(s.doubleValue);return o===a?Wc(o)===Wc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return cl(t.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(OS(o)!==OS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Yr(o[l],a[l])))return!1;return!0}(t,e);default:return U()}}function Kc(t,e){return(t.values||[]).find(n=>Yr(n,e))!==void 0}function bs(t,e){if(t===e)return 0;const n=ko(t),r=ko(e);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ge(s.integerValue||s.doubleValue),l=Ge(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return DS(t.timestampValue,e.timestampValue);case 4:return DS(Hc(t),Hc(e));case 5:return Y(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ps(s),l=Ps(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Y(a[u],l[u]);if(c!==0)return c}return Y(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Y(Ge(s.latitude),Ge(o.latitude));return a!==0?a:Y(Ge(s.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=bs(a[u],l[u]);if(c)return c}return Y(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ls.mapValue&&o===ls.mapValue)return 0;if(s===ls.mapValue)return 1;if(o===ls.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Y(l[d],c[d]);if(h!==0)return h;const p=bs(a[l[d]],u[c[d]]);if(p!==0)return p}return Y(l.length,c.length)}(t.mapValue,e.mapValue);default:throw U()}}function DS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Y(t,e);const n=Ri(t),r=Ri(e),i=Y(n.seconds,r.seconds);return i!==0?i:Y(n.nanos,r.nanos)}function dl(t){return jv(t)}function jv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ri(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ps(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return L.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=jv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${jv(n.fields[o])}`;return i+"}"}(t.mapValue):U()}function xo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $v(t){return!!t&&"integerValue"in t}function Gc(t){return!!t&&"arrayValue"in t}function LS(t){return!!t&&"nullValue"in t}function MS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}function Zu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ko(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Y3(t){return"nullValue"in t?ff:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?xo(Rs.empty(),L.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:U()}function J3(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?xo(Rs.empty(),L.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?ls:U()}function VS(t,e){const n=bs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function FS(t,e){const n=bs(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.value=e}static empty(){return new Dt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zu(n)}setAll(e){let n=De.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Zu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ko(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Dt(Zu(this.value))}}function rO(t){const e=[];return Ko(t.fields,(n,r)=>{const i=new De([n]);if(pf(r)){const s=rO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ce(e,0,W.min(),W.min(),W.min(),Dt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ce(e,1,n,W.min(),r,i,0)}static newNoDocument(e,n){return new Ce(e,2,n,W.min(),W.min(),Dt.empty(),0)}static newUnknownDocument(e,n){return new Ce(e,3,n,W.min(),W.min(),Dt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ce&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ce(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this.position=e,this.inclusive=n}}function jS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=L.comparator(L.fromName(o.referenceValue),n.key):r=bs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function $S(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function X3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{}class le extends iO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Z3(e,n,r):n==="array-contains"?new nz(e,r):n==="in"?new cO(e,r):n==="not-in"?new rz(e,r):n==="array-contains-any"?new iz(e,r):new le(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ez(e,r):new tz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bs(n,this.value)):n!==null&&ko(this.value)===ko(n)&&this.matchesComparison(bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _e extends iO{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new _e(e,n)}matches(e){return hl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hl(t){return t.op==="and"}function Uv(t){return t.op==="or"}function SE(t){return sO(t)&&hl(t)}function sO(t){for(const e of t.filters)if(e instanceof _e)return!1;return!0}function Bv(t){if(t instanceof le)return t.field.canonicalString()+t.op.toString()+dl(t.value);if(SE(t))return t.filters.map(e=>Bv(e)).join(",");{const e=t.filters.map(n=>Bv(n)).join(",");return`${t.op}(${e})`}}function oO(t,e){return t instanceof le?function(r,i){return i instanceof le&&r.op===i.op&&r.field.isEqual(i.field)&&Yr(r.value,i.value)}(t,e):t instanceof _e?function(r,i){return i instanceof _e&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&oO(o,i.filters[a]),!0):!1}(t,e):void U()}function aO(t,e){const n=t.filters.concat(e);return _e.create(n,t.op)}function lO(t){return t instanceof le?function(n){return`${n.field.canonicalString()} ${n.op} ${dl(n.value)}`}(t):t instanceof _e?function(n){return n.op.toString()+" {"+n.getFilters().map(lO).join(" ,")+"}"}(t):"Filter"}class Z3 extends le{constructor(e,n,r){super(e,n,r),this.key=L.fromName(r.referenceValue)}matches(e){const n=L.comparator(e.key,this.key);return this.matchesComparison(n)}}class ez extends le{constructor(e,n){super(e,"in",n),this.keys=uO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tz extends le{constructor(e,n){super(e,"not-in",n),this.keys=uO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>L.fromName(r.referenceValue))}class nz extends le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gc(n)&&Kc(n.arrayValue,this.value)}}class cO extends le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kc(this.value.arrayValue,n)}}class rz extends le{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Kc(this.value.arrayValue,n)}}class iz extends le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Kc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function zv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new sz(t,e,n,r,i,s,o)}function Oo(t){const e=M(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Bv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),xd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>dl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>dl(r)).join(",")),e.ue=n}return e.ue}function Od(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!X3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$S(t.startAt,e.startAt)&&$S(t.endAt,e.endAt)}function Tp(t){return L.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Sp(t,e){return t.filters.filter(n=>n instanceof le&&n.field.isEqual(e))}function US(t,e,n){let r=ff,i=!0;for(const s of Sp(t,e)){let o=ff,a=!0;switch(s.op){case"<":case"<=":o=Y3(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=ff}VS({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];VS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function BS(t,e,n){let r=ls,i=!0;for(const s of Sp(t,e)){let o=ls,a=!0;switch(s.op){case">=":case">":o=J3(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=ls}FS({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];FS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function dO(t,e,n,r,i,s,o,a){return new Mi(t,e,n,r,i,s,o,a)}function Vl(t){return new Mi(t)}function zS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AE(t){return t.collectionGroup!==null}function Wa(t){const e=M(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Te(De.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Qc(s,r))}),n.has(De.keyField().canonicalString())||e.ce.push(new Qc(De.keyField(),r))}return e.ce}function sn(t){const e=M(t);return e.le||(e.le=oz(e,Wa(t))),e.le}function oz(t,e){if(t.limitType==="F")return zv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Qc(i.field,s)});const n=t.endAt?new Cs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cs(t.startAt.position,t.startAt.inclusive):null;return zv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qv(t,e){const n=t.filters.concat([e]);return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ap(t,e,n){return new Mi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nd(t,e){return Od(sn(t),sn(e))&&t.limitType===e.limitType}function hO(t){return`${Oo(sn(t))}|lt:${t.limitType}`}function va(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lO(i)).join(", ")}]`),xd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>dl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>dl(i)).join(",")),`Target(${r})`}(sn(t))}; limitType=${t.limitType})`}function Dd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):L.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Wa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=jS(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Wa(r),i)||r.endAt&&!function(o,a,l){const u=jS(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Wa(r),i))}(t,e)}function fO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pO(t){return(e,n)=>{let r=!1;for(const i of Wa(t)){const s=az(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function az(t,e,n){const r=t.field.isKeyField()?L.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?bs(l,u):U()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ko(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return eO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=new Pe(L.comparator);function gn(){return lz}const mO=new Pe(L.comparator);function Mu(...t){let e=mO;for(const n of t)e=e.insert(n.key,n);return e}function gO(t){let e=mO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vr(){return ec()}function yO(){return ec()}function ec(){return new zs(t=>t.toString(),(t,e)=>t.isEqual(e))}const uz=new Pe(L.comparator),cz=new Te(L.comparator);function X(...t){let e=cz;for(const n of t)e=e.add(n);return e}const dz=new Te(Y);function PE(){return dz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function vO(t){return{integerValue:""+t}}function wO(t,e){return Gx(e)?vO(e):_O(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this._=void 0}}function hz(t,e,n){return t instanceof fl?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Um(s)&&(s=TE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof No?IO(t,e):t instanceof Do?TO(t,e):function(i,s){const o=EO(i,s),a=qS(o)+qS(i.Pe);return $v(o)&&$v(i.Pe)?vO(a):_O(i.serializer,a)}(t,e)}function fz(t,e,n){return t instanceof No?IO(t,e):t instanceof Do?TO(t,e):n}function EO(t,e){return t instanceof pl?function(r){return $v(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class fl extends Bm{}class No extends Bm{constructor(e){super(),this.elements=e}}function IO(t,e){const n=SO(e);for(const r of t.elements)n.some(i=>Yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Do extends Bm{constructor(e){super(),this.elements=e}}function TO(t,e){let n=SO(e);for(const r of t.elements)n=n.filter(i=>!Yr(i,r));return{arrayValue:{values:n}}}class pl extends Bm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function qS(t){return Ge(t.integerValue||t.doubleValue)}function SO(t){return Gc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.field=e,this.transform=n}}function pz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof No&&i instanceof No||r instanceof Do&&i instanceof Do?cl(r.elements,i.elements,Yr):r instanceof pl&&i instanceof pl?Yr(r.Pe,i.Pe):r instanceof fl&&i instanceof fl}(t.transform,e.transform)}class mz{constructor(e,n){this.version=e,this.transformResults=n}}class Le{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Le}static exists(e){return new Le(void 0,e)}static updateTime(e){return new Le(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zm{}function AO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jl(t.key,Le.none()):new Fl(t.key,t.data,Le.none());{const n=t.data,r=Dt.empty();let i=new Te(De.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Vi(t.key,r,new mn(i.toArray()),Le.none())}}function gz(t,e,n){t instanceof Fl?function(i,s,o){const a=i.value.clone(),l=HS(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vi?function(i,s,o){if(!mf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=HS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(PO(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function tc(t,e,n,r){return t instanceof Fl?function(s,o,a,l){if(!mf(s.precondition,o))return a;const u=s.value.clone(),c=KS(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vi?function(s,o,a,l){if(!mf(s.precondition,o))return a;const u=KS(s.fieldTransforms,l,o),c=o.data;return c.setAll(PO(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return mf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=EO(r.transform,i||null);s!=null&&(n===null&&(n=Dt.empty()),n.set(r.field,s))}return n||null}function WS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cl(r,i,(s,o)=>pz(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fl extends zm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vi extends zm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function HS(t,e,n){const r=new Map;z(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,fz(o,a,n[i]))}return r}function KS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,hz(s,o,e))}return r}class jl extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RE extends zm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gz(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yO();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=AO(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),X())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,(n,r)=>WS(n,r))&&cl(this.baseMutations,e.baseMutations,(n,r)=>WS(n,r))}}class CE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){z(e.mutations.length===r.length);let i=function(){return uz}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new CE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,ce;function RO(t){switch(t){default:return U();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function bO(t){if(t===void 0)return tt("GRPC error has no .code"),R.UNKNOWN;switch(t){case st.OK:return R.OK;case st.CANCELLED:return R.CANCELLED;case st.UNKNOWN:return R.UNKNOWN;case st.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case st.INTERNAL:return R.INTERNAL;case st.UNAVAILABLE:return R.UNAVAILABLE;case st.UNAUTHENTICATED:return R.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case st.NOT_FOUND:return R.NOT_FOUND;case st.ALREADY_EXISTS:return R.ALREADY_EXISTS;case st.PERMISSION_DENIED:return R.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case st.ABORTED:return R.ABORTED;case st.OUT_OF_RANGE:return R.OUT_OF_RANGE;case st.UNIMPLEMENTED:return R.UNIMPLEMENTED;case st.DATA_LOSS:return R.DATA_LOSS;default:return U()}}(ce=st||(st={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=new qa([4294967295,4294967295],0);function GS(t){const e=CO().encode(t),n=new f3;return n.update(e),new Uint8Array(n.digest())}function QS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qa([n,r],0),new qa([i,s],0)]}class xE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vu(`Invalid padding: ${n}`);if(r<0)throw new Vu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=qa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(qa.fromNumber(r)));return i.compare(vz)===1&&(i=new qa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=GS(e),[r,i]=QS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new xE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=GS(e),[r,i]=QS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Md(W.min(),i,new Pe(Y),gn(),X())}}class Vd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vd(r,n,X(),X(),X())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class kO{constructor(e,n){this.targetId=e,this.me=n}}class xO{constructor(e,n,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YS{constructor(){this.fe=0,this.ge=XS(),this.pe=pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=X(),n=X(),r=X();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U()}}),new Vd(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=XS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,z(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class wz{constructor(e){this.Le=e,this.Be=new Map,this.ke=gn(),this.qe=JS(),this.Qe=new Pe(Y)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:U()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Tp(s))if(r===0){const o=new L(s.path);this.Ue(n,o,Ce.newNoDocument(o,W.min()))}else z(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ps(r).toUint8Array()}catch(l){if(l instanceof tO)return vr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new xE(o,i,s)}catch(l){return vr(l instanceof Vu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Tp(a.target)){const l=new L(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ce.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=X();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Md(e,n,this.Qe,this.ke,r);return this.ke=gn(),this.qe=JS(),this.Qe=new Pe(Y),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new YS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Te(Y),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||x("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new YS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function JS(){return new Pe(L.comparator)}function XS(){return new Pe(L.comparator)}const Ez={asc:"ASCENDING",desc:"DESCENDING"},Iz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tz={and:"AND",or:"OR"};class Sz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wv(t,e){return t.useProto3Json||xd(e)?e:{value:e}}function ml(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Az(t,e){return ml(t,e.toTimestamp())}function nt(t){return z(!!t),W.fromTimestamp(function(n){const r=Ri(n);return new Me(r.seconds,r.nanos)}(t))}function OE(t,e){return Hv(t,e).canonicalString()}function Hv(t,e){const n=function(i){return new ae(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NO(t){const e=ae.fromString(t);return z(zO(e)),e}function Yc(t,e){return OE(t.databaseId,e.path)}function Hr(t,e){const n=NO(e);if(n.get(1)!==t.databaseId.projectId)throw new k(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new k(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new L(MO(n))}function DO(t,e){return OE(t.databaseId,e)}function LO(t){const e=NO(t);return e.length===4?ae.emptyPath():MO(e)}function Kv(t){return new ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MO(t){return z(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ZS(t,e,n){return{name:Yc(t,e),fields:n.value.mapValue.fields}}function VO(t,e,n){const r=Hr(t,e.name),i=nt(e.updateTime),s=e.createTime?nt(e.createTime):W.min(),o=new Dt({mapValue:{fields:e.fields}}),a=Ce.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Pz(t,e){return"found"in e?function(r,i){z(!!i.found),i.found.name,i.found.updateTime;const s=Hr(r,i.found.name),o=nt(i.found.updateTime),a=i.found.createTime?nt(i.found.createTime):W.min(),l=new Dt({mapValue:{fields:i.found.fields}});return Ce.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){z(!!i.missing),z(!!i.readTime);const s=Hr(r,i.missing),o=nt(i.readTime);return Ce.newNoDocument(s,o)}(t,e):U()}function Rz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:U()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(z(c===void 0||typeof c=="string"),pt.fromBase64String(c||"")):(z(c===void 0||c instanceof Buffer||c instanceof Uint8Array),pt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?R.UNKNOWN:bO(u.code);return new k(c,u.message||"")}(o);n=new xO(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hr(t,r.document.name),s=nt(r.document.updateTime),o=r.document.createTime?nt(r.document.createTime):W.min(),a=new Dt({mapValue:{fields:r.document.fields}}),l=Ce.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new gf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hr(t,r.document),s=r.readTime?nt(r.readTime):W.min(),o=Ce.newNoDocument(i,s),a=r.removedTargetIds||[];n=new gf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hr(t,r.document),s=r.removedTargetIds||[];n=new gf([],s,i,null)}else{if(!("filter"in e))return U();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new _z(i,s),a=r.targetId;n=new kO(a,o)}}return n}function Jc(t,e){let n;if(e instanceof Fl)n={update:ZS(t,e.key,e.value)};else if(e instanceof jl)n={delete:Yc(t,e.key)};else if(e instanceof Vi)n={update:ZS(t,e.key,e.data),updateMask:Nz(e.fieldMask)};else{if(!(e instanceof RE))return U();n={verify:Yc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof fl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof No)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Do)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof pl)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw U()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Az(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:U()}(t,e.precondition)),n}function Gv(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Le.updateTime(nt(s.updateTime)):s.exists!==void 0?Le.exists(s.exists):Le.none()}(e.currentDocument):Le.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)z(a.setToServerValue==="REQUEST_TIME"),l=new fl;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];l=new No(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];l=new Do(c)}else"increment"in a?l=new pl(o,a.increment):U();const u=De.fromServerFormat(a.fieldPath);return new Ld(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Hr(t,e.update.name),s=new Dt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new mn(u.map(c=>De.fromServerFormat(c)))}(e.updateMask);return new Vi(i,s,o,n,r)}return new Fl(i,s,n,r)}if(e.delete){const i=Hr(t,e.delete);return new jl(i,n)}if(e.verify){const i=Hr(t,e.verify);return new RE(i,n)}return U()}function bz(t,e){return t&&t.length>0?(z(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?nt(i.updateTime):nt(s);return o.isEqual(W.min())&&(o=nt(s)),new mz(o,i.transformResults||[])}(n,e))):[]}function FO(t,e){return{documents:[DO(t,e.path)]}}function jO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=DO(t,i);const s=function(u){if(u.length!==0)return BO(_e.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:wa(h.field),direction:kz(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Wv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function $O(t){let e=LO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){z(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=UO(d);return h instanceof _e&&SE(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new Qc(Ea(m.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,xd(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Cs(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new Cs(p,h)}(n.endAt)),dO(e,i,o,s,a,"F",l,u)}function Cz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ea(n.unaryFilter.field);return le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ea(n.unaryFilter.field);return le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ea(n.unaryFilter.field);return le.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ea(n.unaryFilter.field);return le.create(o,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(t):t.fieldFilter!==void 0?function(n){return le.create(Ea(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _e.create(n.compositeFilter.filters.map(r=>UO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return U()}}(n.compositeFilter.op))}(t):U()}function kz(t){return Ez[t]}function xz(t){return Iz[t]}function Oz(t){return Tz[t]}function wa(t){return{fieldPath:t.canonicalString()}}function Ea(t){return De.fromServerFormat(t.fieldPath)}function BO(t){return t instanceof le?function(n){if(n.op==="=="){if(MS(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NAN"}};if(LS(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MS(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NOT_NAN"}};if(LS(n.value))return{unaryFilter:{field:wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wa(n.field),op:xz(n.op),value:n.value}}}(t):t instanceof _e?function(n){const r=n.getFilters().map(i=>BO(i));return r.length===1?r[0]:{compositeFilter:{op:Oz(n.op),filters:r}}}(t):U()}function Nz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,r,i,s=W.min(),o=W.min(),a=pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.ut=e}}function Dz(t,e){let n;if(e.document)n=VO(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=L.fromSegments(e.noDocument.path),i=Mo(e.noDocument.readTime);n=Ce.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return U();{const r=L.fromSegments(e.unknownDocument.path),i=Mo(e.unknownDocument.version);n=Ce.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Me(i[0],i[1]);return W.fromTimestamp(s)}(e.readTime)),n}function eA(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Pp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Yc(s,o.key),fields:o.data.value.mapValue.fields,updateTime:ml(s,o.version.toTimestamp()),createTime:ml(s,o.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Lo(e.version)};else{if(!e.isUnknownDocument())return U();r.unknownDocument={path:n.path.toArray(),version:Lo(e.version)}}return r}function Pp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Lo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Mo(t){const e=new Me(t.seconds,t.nanoseconds);return W.fromTimestamp(e)}function ro(t,e){const n=(e.baseMutations||[]).map(s=>Gv(t.ut,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Gv(t.ut,s)),i=Me.fromMillis(e.localWriteTimeMs);return new bE(e.batchId,i,n,r)}function Fu(t){const e=Mo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Mo(t.lastLimboFreeSnapshotVersion):W.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return z(s.documents.length===1),sn(Vl(LO(s.documents[0])))}(t.query):function(s){return sn($O(s))}(t.query),new pi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,pt.fromBase64String(t.resumeToken))}function WO(t,e){const n=Lo(e.snapshotVersion),r=Lo(e.lastLimboFreeSnapshotVersion);let i;i=Tp(e.target)?FO(t.ut,e.target):jO(t.ut,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function NE(t){const e=$O({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ap(e,e.limit,"L"):e}function Yy(t,e){return new kE(e.largestBatchId,Gv(t.ut,e.overlayMutation))}function tA(t,e){const n=e.path.lastSegment();return[t,rn(e.path.popLast()),n]}function nA(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Lo(r.readTime),documentKey:rn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{getBundleMetadata(e,n){return rA(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Mo(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return rA(e).put(function(i){return{bundleId:i.id,createTime:Lo(nt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return iA(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:NE(s.bundledQuery),readTime:Mo(s.readTime)}}(r)})}saveNamedQuery(e,n){return iA(e).put(function(i){return{name:i.name,readTime:Lo(nt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function rA(t){return Rt(t,"bundles")}function iA(t){return Rt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){const r=n.uid||"";return new qm(e,r)}getOverlay(e,n){return pu(e).get(tA(this.userId,n)).next(r=>r?Yy(this.serializer,r):null)}getOverlays(e,n){const r=Vr();return A.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new kE(n,o);i.push(this.lt(e,a))}),A.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(rn(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(pu(e).j("collectionPathOverlayIndex",a))}),A.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Vr(),s=rn(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return pu(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=Yy(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Vr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return pu(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=Yy(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}lt(e,n){return pu(e).put(function(i,s,o){const[a,l,u]=tA(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Jc(i.ut,o.mutation)}}(this.serializer,this.userId,n))}}function pu(t){return Rt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Ge(e.integerValue));else if("doubleValue"in e){const r=Ge(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Wc(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"&&(r=Ri(r)),n.dt(`${r.seconds||""}`),n.Et(r.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Ps(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?nO(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):U()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),L.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}io.St=new io;function Mz(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function sA(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=Mz(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class Vz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Lt(e),r=sA(n);this.Bt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Lt(e),r=sA(n);this.Bt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Bt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Lt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Bt(1),this.buffer[this.position++]=e}$t(e){this.Bt(1),this.buffer[this.position++]=~e}Bt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Fz{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class jz{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class mu{constructor(){this.Wt=new Vz,this.Gt=new Fz(this.Wt),this.zt=new jz(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new so(this.indexId,this.documentKey,this.arrayValue,r)}}function qi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=oA(t.arrayValue,e.arrayValue),n!==0?n:(n=oA(t.directionalValue,e.directionalValue),n!==0?n:L.comparator(t.documentKey,e.documentKey)))}function oA(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.Jt=new Te((n,r)=>De.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(z(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=Vv(e);if(n!==void 0&&!this.tn(n))return!1;const r=to(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Yt.length||!this.rn(this.Yt[o++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new Te(De.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new df(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new df(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new df(r.field,r.dir==="asc"?0:1)));return new Ip(Ip.UNKNOWN_ID,this.collectionId,n,qc.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t){var e,n;if(z(t instanceof le||t instanceof _e),t instanceof le){if(t instanceof cO){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>le.create(t.field,"==",s)))||[];return _e.create(i,"or")}return t}const r=t.filters.map(i=>HO(i));return _e.create(r,t.op)}function $z(t){if(t.getFilters().length===0)return[];const e=Jv(HO(t));return z(KO(e)),Qv(e)||Yv(e)?[e]:e.getFilters()}function Qv(t){return t instanceof le}function Yv(t){return t instanceof _e&&SE(t)}function KO(t){return Qv(t)||Yv(t)||function(n){if(n instanceof _e&&Uv(n)){for(const r of n.getFilters())if(!Qv(r)&&!Yv(r))return!1;return!0}return!1}(t)}function Jv(t){if(z(t instanceof le||t instanceof _e),t instanceof le)return t;if(t.filters.length===1)return Jv(t.filters[0]);const e=t.filters.map(r=>Jv(r));let n=_e.create(e,t.op);return n=Rp(n),KO(n)?n:(z(n instanceof _e),z(hl(n)),z(n.filters.length>1),n.filters.reduce((r,i)=>DE(r,i)))}function DE(t,e){let n;return z(t instanceof le||t instanceof _e),z(e instanceof le||e instanceof _e),n=t instanceof le?e instanceof le?function(i,s){return _e.create([i,s],"and")}(t,e):lA(t,e):e instanceof le?lA(e,t):function(i,s){if(z(i.filters.length>0&&s.filters.length>0),hl(i)&&hl(s))return aO(i,s.getFilters());const o=Uv(i)?i:s,a=Uv(i)?s:i,l=o.filters.map(u=>DE(u,a));return _e.create(l,"or")}(t,e),Rp(n)}function lA(t,e){if(hl(e))return aO(e,t.getFilters());{const n=e.filters.map(r=>DE(t,r));return _e.create(n,"or")}}function Rp(t){if(z(t instanceof le||t instanceof _e),t instanceof le)return t;const e=t.getFilters();if(e.length===1)return Rp(e[0]);if(sO(t))return t;const n=e.map(i=>Rp(i)),r=[];return n.forEach(i=>{i instanceof le?r.push(i):i instanceof _e&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:_e.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(){this.on=new LE}addToCollectionParentIndex(e,n){return this.on.add(n),A.resolve()}getCollectionParents(e,n){return A.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return A.resolve()}deleteFieldIndex(e,n){return A.resolve()}deleteAllFieldIndexes(e){return A.resolve()}createTargetIndexes(e,n){return A.resolve()}getDocumentsMatchingTarget(e,n){return A.resolve(null)}getIndexType(e,n){return A.resolve(0)}getFieldIndexes(e,n){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,n){return A.resolve(Ln.min())}getMinOffsetFromCollectionGroup(e,n){return A.resolve(Ln.min())}updateCollectionGroup(e,n,r){return A.resolve()}updateIndexEntries(e,n){return A.resolve()}}class LE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Te(ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Te(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Uint8Array(0);class Bz{constructor(e,n){this.databaseId=n,this._n=new LE,this.an=new zs(r=>Oo(r),(r,i)=>Od(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const s={collectionId:r,parent:rn(i)};return uA(e).put(s)}return A.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[Bx(n),""],!1,!0);return uA(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Mr(o.parent))}return r})}addFieldIndex(e,n){const r=gu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=sa(e);return s.next(a=>{o.put(nA(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=gu(e),i=sa(e),s=ia(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=gu(e),r=ia(e),i=sa(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return A.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new aA(r).sn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=ia(e);let i=!0;const s=new Map;return A.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=X();const a=[];return A.forEach(s,(l,u)=>{x("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(I=>`${I.fieldPath}:${I.kind}`).join(",")}`}(l)} to execute ${Oo(n)}`);const c=function(_,I){const E=Vv(I);if(E===void 0)return null;for(const T of Sp(_,E.fieldPath))switch(T.op){case"array-contains-any":return T.value.arrayValue.values||[];case"array-contains":return[T.value]}return null}(u,l),d=function(_,I){const E=new Map;for(const T of to(I))for(const S of Sp(_,T.fieldPath))switch(S.op){case"==":case"in":E.set(T.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return E.set(T.fieldPath.canonicalString(),S.value),Array.from(E.values())}return null}(u,l),h=function(_,I){const E=[];let T=!0;for(const S of to(I)){const C=S.kind===0?US(_,S.fieldPath,_.startAt):BS(_,S.fieldPath,_.startAt);E.push(C.value),T&&(T=C.inclusive)}return new Cs(E,T)}(u,l),p=function(_,I){const E=[];let T=!0;for(const S of to(I)){const C=S.kind===0?BS(_,S.fieldPath,_.endAt):US(_,S.fieldPath,_.endAt);E.push(C.value),T&&(T=C.inclusive)}return new Cs(E,T)}(u,l),m=this.ln(l,u,h),g=this.ln(l,u,p),w=this.hn(l,u,d),v=this.Pn(l.indexId,c,m,h.inclusive,g,p.inclusive,w);return A.forEach(v,y=>r.G(y,n.limit).next(_=>{_.forEach(I=>{const E=L.fromSegments(I.documentKey);o.has(E)||(o=o.add(E),a.push(E))})}))}).next(()=>a)}return A.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=$z(_e.create(e.filters,"and")).map(r=>zv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.In(n[d/u]):Nh,p=this.Tn(e,h,r[d%u],i),m=this.En(e,h,s[d%u],o),g=a.map(w=>this.Tn(e,h,w,!0));c.push(...this.createRange(p,m,g))}return c}Tn(e,n,r,i){const s=new so(e,L.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){const s=new so(e,L.empty(),n,r);return i?s.Ht():s}cn(e,n){const r=new aA(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.un(n);return A.forEach(i,s=>this.cn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new Te(De.comparator),c=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}dn(e,n){const r=new mu;for(const i of to(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.jt(i.kind);io.St.ht(s,o)}return r.Ut()}In(e){const n=new mu;return io.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new mu;return io.St.ht(xo(this.databaseId,n),r.jt(function(s){const o=to(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(r===null)return[];let i=[];i.push(new mu);let s=0;for(const o of to(e)){const a=r[s++];for(const l of i)if(this.Rn(n,o.fieldPath)&&Gc(a))i=this.Vn(i,o,a);else{const u=l.jt(o.kind);io.St.ht(a,u)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new mu;l.seed(a.Ut()),io.St.ht(o,l.jt(n.kind)),s.push(l)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof le&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=gu(e),i=sa(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return A.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,d){const h=d?new qc(d.sequenceNumber,new Ln(Mo(d.readTime),new L(Mr(d.documentKey)),d.largestBatchId)):qc.empty(),p=c.fields.map(([m,g])=>new df(De.fromServerFormat(m),g));return new Ip(c.indexId,c.collectionGroup,p,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Y(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=gu(e),s=sa(e);return this.fn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>A.forEach(a,l=>s.put(nA(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return A.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?A.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),A.forEach(a,l=>this.gn(e,i,l).next(u=>{const c=this.pn(s,l);return u.isEqual(c)?A.resolve():this.yn(e,s,l,u,c)}))))})}wn(e,n,r,i){return ia(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return ia(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=ia(e);let s=new Te(qi);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new so(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new Te(qi);const i=this.dn(n,e);if(i==null)return r;const s=Vv(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Gc(o))for(const a of o.arrayValue.values||[])r=r.add(new so(n.indexId,e.key,this.In(a),i))}else r=r.add(new so(n.indexId,e.key,Nh,i));return r}yn(e,n,r,i,s){x("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,c,d,h){const p=l.getIterator(),m=u.getIterator();let g=ra(p),w=ra(m);for(;g||w;){let v=!1,y=!1;if(g&&w){const _=c(g,w);_<0?y=!0:_>0&&(v=!0)}else g!=null?y=!0:v=!0;v?(d(w),w=ra(m)):y?(h(g),g=ra(p)):(g=ra(p),w=ra(m))}}(i,s,qi,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),A.waitFor(o)}fn(e){let n=1;return sa(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>qi(o,a)).filter((o,a,l)=>!a||qi(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=qi(o,e),l=qi(o,n);if(a===0)i[0]=e.Ht();else if(a>0&&l<0)i.push(o),i.push(o.Ht());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Nh,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Nh,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,n){return qi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(cA)}getMinOffset(e,n){return A.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||U())).next(cA)}}function uA(t){return Rt(t,"collectionParents")}function ia(t){return Rt(t,"indexEntries")}function gu(t){return Rt(t,"indexConfiguration")}function sa(t){return Rt(t,"indexState")}function cA(t){z(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;EE(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ln(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{z(a===1)}));const u=[];for(const c of n.mutations){const d=Qx(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return A.waitFor(s).next(()=>u)}function bp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw U();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(41943040,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class Wm{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){z(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Wm(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wi(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Ia(e),o=Wi(e);return o.add({}).next(a=>{z(typeof a=="number");const l=new bE(a,n,r,i),u=function(p,m,g){const w=g.baseMutations.map(y=>Jc(p.ut,y)),v=g.mutations.map(y=>Jc(p.ut,y));return{userId:m,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:w,mutations:v}}(this.serializer,this.userId,l),c=[];let d=new Te((h,p)=>Y(h.canonicalString(),p.canonicalString()));for(const h of i){const p=Qx(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(p,k3))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),A.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Wi(e).get(n).next(r=>r?(z(r.userId===this.userId),ro(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?A.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Wi(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(z(a.batchId>=r),s=ro(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Wi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wi(e).U("userMutationsIndex",n).next(r=>r.map(i=>ro(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=hf(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ia(e).J({range:i},(o,a,l)=>{const[u,c,d]=o,h=Mr(c);if(u===this.userId&&n.path.isEqual(h))return Wi(e).get(d).next(p=>{if(!p)throw U();z(p.userId===this.userId),s.push(ro(this.serializer,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Te(Y);const i=[];return n.forEach(s=>{const o=hf(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Ia(e).J({range:a},(u,c,d)=>{const[h,p,m]=u,g=Mr(p);h===this.userId&&s.path.isEqual(g)?r=r.add(m):d.done()});i.push(l)}),A.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=hf(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Te(Y);return Ia(e).J({range:o},(l,u,c)=>{const[d,h,p]=l,m=Mr(h);d===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(p)):c.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Wi(e).get(s).next(o=>{if(o===null)throw U();z(o.userId===this.userId),r.push(ro(this.serializer,o))}))}),A.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return GO(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),A.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return A.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Ia(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Mr(s[1]);i.push(l)}else a.done()}).next(()=>{z(i.length===0)})})}containsKey(e,n){return QO(e,this.userId,n)}Mn(e){return YO(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function QO(t,e,n){const r=hf(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ia(t).J({range:s,H:!0},(a,l,u)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function Wi(t){return Rt(t,"mutations")}function Ia(t){return Rt(t,"documentMutations")}function YO(t){return Rt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Vo(0)}static Nn(){return new Vo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Ln(e).next(n=>{const r=new Vo(n.highestTargetId);return n.highestTargetId=r.next(),this.Bn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Ln(e).next(n=>W.fromTimestamp(new Me(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Ln(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Ln(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Bn(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Ln(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Bn(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>oa(e).delete(n.targetId)).next(()=>this.Ln(e)).next(r=>(z(r.targetCount>0),r.targetCount-=1,this.Bn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return oa(e).J((o,a)=>{const l=Fu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>A.waitFor(s)).next(()=>i)}forEachTarget(e,n){return oa(e).J((r,i)=>{const s=Fu(i);n(s)})}Ln(e){return hA(e).get("targetGlobalKey").next(n=>(z(n!==null),n))}Bn(e,n){return hA(e).put("targetGlobalKey",n)}kn(e,n){return oa(e).put(WO(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Ln(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Oo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return oa(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Fu(a);Od(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=ns(e);return n.forEach(o=>{const a=rn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),A.waitFor(i)}removeMatchingKeys(e,n,r){const i=ns(e);return A.forEach(n,s=>{const o=rn(s.path);return A.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=ns(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ns(e);let s=X();return i.J({range:r,H:!0},(o,a,l)=>{const u=Mr(o[1]),c=new L(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=rn(n.path),i=IDBKeyRange.bound([r],[Bx(r)],!1,!0);let s=0;return ns(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ot(e,n){return oa(e).get(n).next(r=>r?Fu(r):null)}}function oa(t){return Rt(t,"targets")}function hA(t){return Rt(t,"targetGlobal")}function ns(t){return Rt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA([t,e],[n,r]){const i=Y(t,n);return i===0?Y(e,r):i}class qz{constructor(e){this.Qn=e,this.buffer=new Te(fA),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Wz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){x("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bs(n)?x("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Us(n)}await this.Gn(3e5)})}}class Hz{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return A.resolve(pn.oe);const r=new qz(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(x("LruGarbageCollector","Garbage collection skipped; disabled"),A.resolve(dA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(x("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dA):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(x("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),_a()<=ne.DEBUG&&x("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),A.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function Kz(t,e){return new Hz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n){this.db=e,this.garbageCollector=Kz(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return Dh(e,r)}removeReference(e,n,r){return Dh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Dh(e,n)}Xn(e,n){return function(i,s){let o=!1;return YO(i).Y(a=>QO(i,a,s).next(l=>(l&&(o=!0),A.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,W.min()),ns(e).delete(function(d){return[0,rn(d.path)]}(o))))});i.push(l)}}).next(()=>A.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Dh(e,n)}Zn(e,n){const r=ns(e);let i,s=pn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==pn.oe&&n(new L(Mr(i)),s),s=u,i=l):s=pn.oe}).next(()=>{s!==pn.oe&&n(new L(Mr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Dh(t,e){return ns(t).put(function(r,i){return{targetId:0,path:rn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.changes=new zs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ce.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?A.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Qs(e).put(r)}removeEntry(e,n,r){return Qs(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Pp(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=Ce.newInvalidDocument(n);return Qs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(yu(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:Ce.newInvalidDocument(n)};return Qs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(yu(n))},(i,s)=>{r={document:this.tr(n,s),size:bp(s)}}).next(()=>r)}getEntries(e,n){let r=gn();return this.rr(e,n,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=gn(),i=new Pe(L.comparator);return this.rr(e,n,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,bp(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return A.resolve();let i=new Te(gA);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(yu(i.first()),yu(i.last())),o=i.getIterator();let a=o.getNext();return Qs(e).J({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=L.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&gA(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.$(yu(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Pp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qs(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let c=gn();for(const d of u){const h=this.tr(L.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(Dd(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=gn();const o=mA(n,r),a=mA(n,Ln.max());return Qs(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.tr(L.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new Yz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return pA(e).get("remoteDocumentGlobalKey").next(n=>(z(!!n),n))}er(e,n){return pA(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=Dz(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(W.min())))return r}return Ce.newInvalidDocument(e)}}function XO(t){return new Qz(t)}class Yz extends JO{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new zs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Te((s,o)=>Y(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=eA(this._r.serializer,o);i=i.add(s.path.popLast());const u=bp(l);r+=u-a.size,n.push(this._r.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=eA(this._r.serializer,o.convertToNoDocument(W.min()));n.push(this._r.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),A.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function pA(t){return Rt(t,"remoteDocumentGlobal")}function Qs(t){return Rt(t,"remoteDocumentsV14")}function yu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mA(t,e){const n=e.documentKey.path.toArray();return[t,Pp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function gA(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Y(n[s],r[s]),i)return i;return i=Y(n.length,r.length),i||(i=Y(n[n.length-2],r[r.length-2]),i||Y(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&tc(r.mutation,i,mn.empty(),Me.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,X()).next(()=>r))}getLocalViewOfDocuments(e,n,r=X()){const i=Vr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Mu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Vr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,X()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gn();const o=ec(),a=function(){return ec()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Vi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),tc(c.mutation,u,c.mutation.getFieldMask(),Me.now())):o.set(u.key,mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new Jz(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ec();let i=new Pe((o,a)=>o-a),s=X();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||mn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||X()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=yO();c.forEach(h=>{if(!s.has(h)){const p=AO(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return A.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return L.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):A.resolve(Vr());let a=-1,l=s;return o.next(u=>A.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?A.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,X())).next(c=>({batchId:a,changes:gO(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new L(n)).next(r=>{let i=Mu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Mu();return this.indexManager.getCollectionParents(e,s).next(a=>A.forEach(a,l=>{const u=function(d,h){return new Mi(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Ce.newInvalidDocument(c)))});let a=Mu();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&tc(c.mutation,u,mn.empty(),Me.now()),Dd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return A.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:nt(i.createTime)}}(n)),A.resolve()}getNamedQuery(e,n){return A.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:NE(i.bundledQuery),readTime:nt(i.readTime)}}(n)),A.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(){this.overlays=new Pe(L.comparator),this.lr=new Map}getOverlay(e,n){return A.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vr();return A.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),A.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),A.resolve()}getOverlaysForCollection(e,n,r){const i=Vr(),s=n.length+1,o=new L(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return A.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Vr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Vr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return A.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new kE(n,r));let s=this.lr.get(n);s===void 0&&(s=X(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.hr=new Te(_t.Pr),this.Ir=new Te(_t.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new _t(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new L(new ae([])),r=new _t(n,e),i=new _t(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new L(new ae([])),r=new _t(n,e),i=new _t(n,e+1);let s=X();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _t(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return L.comparator(e.key,n.key)||Y(e.gr,n.gr)}static Tr(e,n){return Y(e.gr,n.gr)||L.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Te(_t.Pr)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bE(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new _t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(o)}lookupMutationBatch(e,n){return A.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return A.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),A.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Te(Y);return n.forEach(i=>{const s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),A.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;L.isDocumentKey(s)||(s=s.child(""));const o=new _t(new L(s),0);let a=new Te(Y);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),A.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){z(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return A.forEach(n.mutations,i=>{const s=new _t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new _t(n,0),i=this.yr.firstAfterOrEqual(r);return A.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.Cr=e,this.docs=function(){return new Pe(L.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return A.resolve(r?r.document.mutableCopy():Ce.newInvalidDocument(n))}getEntries(e,n){let r=gn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ce.newInvalidDocument(i))}),A.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gn();const o=n.path,a=new L(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||EE(qx(c),r)<=0||(i.has(c.key)||Dd(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return A.resolve(s)}getAllFromCollectionGroup(e,n,r,i){U()}vr(e,n){return A.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new n9(this)}getSize(e){return A.resolve(this.size)}}class n9 extends JO{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),A.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e){this.persistence=e,this.Fr=new zs(n=>Oo(n),Od),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Mr=0,this.Or=new ME,this.targetCount=0,this.Nr=Vo.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),A.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Vo(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,A.resolve()}updateTargetData(e,n){return this.kn(n),A.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),A.waitFor(s).next(()=>i)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return A.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),A.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),A.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),A.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return A.resolve(r)}containsKey(e,n){return A.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.Lr={},this.overlays={},this.Br=new pn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new r9(this),this.indexManager=new Uz,this.remoteDocumentCache=function(i){return new t9(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new qO(n),this.Kr=new Xz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new e9(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){x("MemoryPersistence","Starting transaction:",e);const i=new i9(this.Br.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return A.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class i9 extends Hx{constructor(e){super(),this.currentSequenceNumber=e}}class Hm{constructor(e){this.persistence=e,this.Gr=new ME,this.zr=null}static jr(e){return new Hm(e)}get Hr(){if(this.zr)return this.zr;throw U()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),A.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),A.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),A.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Hr,r=>{const i=L.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,W.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return A.or([()=>A.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.serializer=e}O(e,n,r,i){const s=new $m("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xS,{unique:!0}),l.createObjectStore("documentMutations")}(e),yA(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=A.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),yA(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:W.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").U().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",xS,{unique:!0});const d=u.store("mutations"),h=c.map(p=>d.put(p));return A.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:B3});u.createIndex("collectionPathOverlayIndex",z3,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",q3,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:x3});u.createIndex("documentKeyIndex",O3),u.createIndex("collectionGroupIndex",N3)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:F3}).createIndex("sequenceNumberIndex",j3,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:$3}).createIndex("documentKeyIndex",U3,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}Xr(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=bp(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>A.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>A.forEach(a,l=>{z(l.userId===s.userId);const u=ro(this.serializer,l);return GO(e,s.userId,u).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new ae(o),u=function(d){return[0,rn(d)]}(l);s.push(n.get(u).next(c=>c?A.resolve():(d=>n.put({targetId:0,path:rn(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>A.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:V3});const r=n.store("collectionParents"),i=new LE,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:rn(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new ae(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],u)=>{const c=Mr(a);return s(c.popLast())}))}ni(e){const n=e.store("targets");return n.J((r,i)=>{const s=Fu(i),o=WO(this.serializer,s);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new L(ae.fromString(d.document.name).popFirst(5)):d.noDocument?L.fromSegments(d.noDocument.path):d.unknownDocument?L.fromSegments(d.unknownDocument.path):U()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>A.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=XO(this.serializer),s=new eN(Hm.jr,this.serializer.ut);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:X();ro(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),A.forEach(a,(l,u)=>{const c=new wt(u),d=qm.ct(this.serializer,c),h=s.getIndexManager(c),p=Wm.ct(c,this.serializer,h,s.referenceDelegate);return new ZO(i,p,d,h).recalculateAndSaveOverlaysForDocumentKeys(new Fv(n,pn.oe),l).next()})})}}function yA(t){t.createObjectStore("targetDocuments",{keyPath:L3}).createIndex("documentTargetsIndex",M3,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",D3,{unique:!0}),t.createObjectStore("targetGlobal")}const Jy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class VE{constructor(e,n,r,i,s,o,a,l,u,c,d=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=u,this._i=c,this.ai=d,this.Br=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=h=>Promise.resolve(),!VE.D())throw new k(R.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gz(this,i),this.Ii=n+"main",this.serializer=new qO(l),this.Ti=new Wr(this.Ii,this.ai,new s9(this.serializer)),this.qr=new zz(this.referenceDelegate,this.serializer),this.remoteDocumentCache=XO(this.serializer),this.Kr=new Lz,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,c===!1&&tt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new k(R.FAILED_PRECONDITION,Jy);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Br=new pn(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(async()=>{this.started&&await this.di()}))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Lh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Bs(e))return x("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return x("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return _u(e).get("owner").next(n=>A.resolve(this.wi(n)))}Si(e){return Lh(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Rt(n,"clientMetadata");return r.U().next(i=>{const s=this.Ci(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return A.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ei)for(const n of e)this.Ei.removeItem(this.vi(n.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?A.resolve(!0):_u(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new k(R.FAILED_PRECONDITION,Jy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lh(e).U().next(r=>this.Ci(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&x("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Fv(e,pn.oe);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",e=>Lh(e).U().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return Wm.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Bz(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return qm.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){x("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===16?H3:l===15?Zx:l===14?Xx:l===13?Jx:l===12?W3:l===11?Yx:void U()}(this.ai);let o;return this.Ti.runTransaction(e,i,s,a=>(o=new Fv(a,this.Br?this.Br.next():pn.oe),n==="readwrite-primary"?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw tt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new k(R.FAILED_PRECONDITION,Wx);return r(o)}).next(l=>this.yi(o).next(()=>l)):this.Bi(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Bi(e){return _u(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new k(R.FAILED_PRECONDITION,Jy)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _u(e).put("owner",n)}static D(){return Wr.D()}pi(e){const n=_u(e);return n.get("owner").next(r=>this.wi(r)?(x("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):A.resolve())}Di(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(tt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;MC()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return x("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return tt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){tt("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _u(t){return Rt(t,"owner")}function Lh(t){return Rt(t,"clientMetadata")}function FE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=X(),i=X();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new jE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return MC()?8:Kx(ie())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new o9;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(_a()<=ne.DEBUG&&x("QueryEngine","SDK will not create cache indexes for query:",va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),A.resolve()):(_a()<=ne.DEBUG&&x("QueryEngine","Query:",va(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(_a()<=ne.DEBUG&&x("QueryEngine","The SDK decides to create cache indexes for query:",va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sn(n))):A.resolve())}zi(e,n){if(zS(n))return A.resolve(null);let r=sn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ap(n,null,"F"),r=sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=X(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,Ap(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return zS(n)||i.isEqual(W.min())?A.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?A.resolve(null):(_a()<=ne.DEBUG&&x("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),va(n)),this.Xi(e,o,n,zx(i,-1)).next(a=>a))})}Yi(e,n){let r=new Te(pO(e));return n.forEach((i,s)=>{Dd(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return _a()<=ne.DEBUG&&x("QueryEngine","Using full collection scan to execute query:",va(n)),this.Gi.getDocumentsMatchingQuery(e,n,Ln.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Pe(Y),this.ns=new zs(s=>Oo(s),Od),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZO(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function nN(t,e,n,r){return new a9(t,e,n,r)}async function rN(t,e){const n=M(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=X();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function l9(t,e){const n=M(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let p=A.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(g=>{const w=u.docVersions.get(m);z(w!==null),g.version.compareTo(w)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=X();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function iN(t){const e=M(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function u9(t,e){const n=M(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(pt.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(g,w,v){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,c)&&a.push(n.qr.updateTargetData(s,p))});let l=gn(),u=X();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(sN(s,o,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(W.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return A.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function sN(t,e,n){let r=X(),i=X();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(W.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):x("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function c9(t,e){const n=M(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gl(t,e){const n=M(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,A.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new pi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function yl(t,e,n){const r=M(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Bs(o))throw o;x("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function Cp(t,e,n){const r=M(t);let i=W.min(),s=X();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=M(l),h=d.ns.get(c);return h!==void 0?A.resolve(d.ts.get(h)):d.qr.getTargetData(u,c)}(r,o,sn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:W.min(),n?s:X())).next(a=>(lN(r,fO(e),a),{documents:a,ls:s})))}function oN(t,e){const n=M(t),r=M(n.qr),i=n.ts.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function aN(t,e){const n=M(t),r=n.rs.get(e)||W.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ss.getAllFromCollectionGroup(i,e,zx(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(lN(n,e,i),i))}function lN(t,e,n){let r=t.rs.get(e)||W.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}async function d9(t,e,n,r){const i=M(t);let s=X(),o=gn();for(const u of n){const c=e.hs(u.metadata.name);u.document&&(s=s.add(c));const d=e.Ps(u);d.setReadTime(e.Is(u.metadata.readTime)),o=o.insert(c,d)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await gl(i,function(c){return sn(Vl(ae.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>sN(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.qr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.qr.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.us,c.cs)).next(()=>c.us)))}async function h9(t,e,n=X()){const r=await gl(t,sn(NE(e.bundledQuery))),i=M(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=nt(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(pt.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}function _A(t,e){return`firestore_clients_${t}_${e}`}function vA(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Xy(t,e){return`firestore_targets_${t}_${e}`}class kp{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ts(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new k(i.error.code,i.error.message))),o?new kp(e,n,i.state,s):(tt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nc{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ts(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new k(r.error.code,r.error.message))),s?new nc(e,r.state,i):(tt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xp{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ts(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=PE();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=Gx(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new xp(e,s):(tt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class $E{constructor(e,n){this.clientId=e,this.onlineState=n}static Ts(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new $E(n.clientId,n.onlineState):(tt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Xv{constructor(){this.activeTargetIds=PE()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Zy{constructor(e,n,r,i,s){this.window=e,this.si=n,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Pe(Y),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=_A(this.persistenceKey,this.Rs),this.ws=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new Xv),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.vs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Li();for(const r of e){if(r===this.Rs)continue;const i=this.getItem(_A(this.persistenceKey,r));if(i){const s=xp.Ts(r,i);s&&(this.gs=this.gs.insert(s.clientId,s))}}this.Fs();const n=this.storage.getItem(this.Cs);if(n){const r=this.Ms(n);r&&this.xs(r)}for(const r of this.ps)this.fs(r);this.ps=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let n=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,n,r){this.Ns(e,n,r),this.Ls(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Xy(this.persistenceKey,e));if(r){const i=nc.Ts(e,r);i&&(n=i.state)}}return this.Bs.ds(e),this.Fs(),n}removeLocalQueryTarget(e){this.Bs.As(e),this.Fs()}isLocalQueryTarget(e){return this.Bs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Xy(this.persistenceKey,e))}updateQueryState(e,n,r){this.ks(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Ls(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return x("SharedClientState","READ",e,n),n}setItem(e,n){x("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){x("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const n=e;if(n.storageArea===this.storage){if(x("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ys)return void tt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ss.test(n.key)){if(n.newValue==null){const r=this.Ks(n.key);return this.$s(r,null)}{const r=this.Us(n.key,n.newValue);if(r)return this.$s(r.clientId,r)}}else if(this.bs.test(n.key)){if(n.newValue!==null){const r=this.Ws(n.key,n.newValue);if(r)return this.Gs(r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.zs(n.key,n.newValue);if(r)return this.js(r)}}else if(n.key===this.Cs){if(n.newValue!==null){const r=this.Ms(n.newValue);if(r)return this.xs(r)}}else if(n.key===this.ws){const r=function(s){let o=pn.oe;if(s!=null)try{const a=JSON.parse(s);z(typeof a=="number"),o=a}catch(a){tt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==pn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.vs){const r=this.Hs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Js(i)))}}}else this.ps.push(n)})}}get Bs(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Bs.Es())}Ns(e,n,r){const i=new kp(this.currentUser,e,n,r),s=vA(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Ls(e){const n=vA(this.persistenceKey,this.currentUser,e);this.removeItem(n)}qs(e){const n={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(n))}ks(e,n,r){const i=Xy(this.persistenceKey,e),s=new nc(e,n,r);this.setItem(i,s.Es())}Qs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.vs,n)}Ks(e){const n=this.Ss.exec(e);return n?n[1]:null}Us(e,n){const r=this.Ks(e);return xp.Ts(r,n)}Ws(e,n){const r=this.bs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return kp.Ts(new wt(s),i,n)}zs(e,n){const r=this.Ds.exec(e),i=Number(r[1]);return nc.Ts(i,n)}Ms(e){return $E.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);x("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,n){const r=n?this.gs.insert(e,n):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let n=PE();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class uN{constructor(){this.eo=new Xv,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Xv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){x("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){x("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh=null;function e_(){return Mh===null?Mh=function(){return 268435456+Math.round(2147483648*Math.random())}():Mh++,"0x"+Mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class g9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get bo(){return!1}Do(n,r,i,s,o){const a=e_(),l=this.Co(n,r.toUriEncodedString());x("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,s,o),this.Fo(n,l,u,i).then(c=>(x("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw vr("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Mo(n,r,i,s,o,a){return this.Do(n,r,i,s,o)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ml}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Co(n,r){const i=p9[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){const s=e_();return new Promise((o,a)=>{const l=new h3;l.setWithCredentials(!0),l.listenOnce(u3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qy.NO_ERROR:const c=l.getResponseJson();x(Bt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Qy.TIMEOUT:x(Bt,`RPC '${e}' ${s} timed out`),a(new k(R.DEADLINE_EXCEEDED,"Request time out"));break;case Qy.HTTP_ERROR:const d=l.getStatus();if(x(Bt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(v)>=0?v:R.UNKNOWN}(p.status);a(new k(m,p.message))}else a(new k(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new k(R.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{x(Bt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);x(Bt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}xo(e,n,r){const i=e_(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=a3(),a=l3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new d3({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");x(Bt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,p=!1;const m=new m9({co:w=>{p?x(Bt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(x(Bt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),x(Bt,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},lo:()=>d.close()}),g=(w,v,y)=>{w.listen(v,_=>{try{y(_)}catch(I){setTimeout(()=>{throw I},0)}})};return g(d,xh.EventType.OPEN,()=>{p||(x(Bt,`RPC '${e}' stream ${i} transport opened.`),m.Vo())}),g(d,xh.EventType.CLOSE,()=>{p||(p=!0,x(Bt,`RPC '${e}' stream ${i} transport closed`),m.fo())}),g(d,xh.EventType.ERROR,w=>{p||(p=!0,vr(Bt,`RPC '${e}' stream ${i} transport errored:`,w),m.fo(new k(R.UNAVAILABLE,"The operation could not be completed")))}),g(d,xh.EventType.MESSAGE,w=>{var v;if(!p){const y=w.data[0];z(!!y);const _=y,I=_.error||((v=_[0])===null||v===void 0?void 0:v.error);if(I){x(Bt,`RPC '${e}' stream ${i} received error:`,I);const E=I.status;let T=function(F){const D=st[F];if(D!==void 0)return bO(D)}(E),S=I.message;T===void 0&&(T=R.INTERNAL,S="Unknown error status: "+E+" with message "+I.message),p=!0,m.fo(new k(T,S)),d.close()}else x(Bt,`RPC '${e}' stream ${i} received:`,y),m.po(y)}}),g(a,c3.STAT_EVENT,w=>{w.stat===RS.PROXY?x(Bt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===RS.NOPROXY&&x(Bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.mo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(){return typeof window<"u"?window:null}function yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t){return new Sz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&x("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Wo=r,this.Go=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new UE(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(tt(n.toString()),tt("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{const i=new k(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){const r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(e){return x("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(x("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y9 extends dN{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();const n=Rz(this.serializer,e),r=function(s){if(!("targetChange"in s))return W.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?W.min():o.readTime?nt(o.readTime):W.min()}(e);return this.listener.l_(n,r)}h_(e){const n={};n.database=Kv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Tp(l)?{documents:FO(s,l)}:{query:jO(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=OO(s,o.resumeToken);const u=Wv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(W.min())>0){a.readTime=ml(s,o.snapshotVersion.toTimestamp());const u=Wv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Cz(this.serializer,e);r&&(n.labels=r),this.r_(n)}P_(e){const n={};n.database=Kv(this.serializer),n.removeTarget=e,this.r_(n)}}class _9 extends dN{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const n=bz(e.writeResults,e.commitTime),r=nt(e.commitTime);return this.listener.d_(r,n)}return z(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Kv(this.serializer),this.r_(e)}E_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Jc(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new k(R.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,Hv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new k(R.UNKNOWN,s.toString())})}Mo(e,n,r,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Hv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new k(R.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class w9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(tt(n),this.y_=!1):x("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(o=>{r.enqueueAndForget(async()=>{qs(this)&&(x("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=M(l);u.M_.add(4),await $l(u),u.N_.set("Unknown"),u.M_.delete(4),await jd(u)}(this))})}),this.N_=new w9(r,i)}}async function jd(t){if(qs(t))for(const e of t.x_)await e(!0)}async function $l(t){for(const e of t.x_)await e(!1)}function Km(t,e){const n=M(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),qE(n)?zE(n):Bl(n).Zo()&&BE(n,e))}function _l(t,e){const n=M(t),r=Bl(n);n.F_.delete(e),r.Zo()&&hN(n,e),n.F_.size===0&&(r.Zo()?r.t_():qs(n)&&n.N_.set("Unknown"))}function BE(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bl(t).h_(e)}function hN(t,e){t.L_.xe(e),Bl(t).P_(e)}function zE(t){t.L_=new wz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Bl(t).start(),t.N_.w_()}function qE(t){return qs(t)&&!Bl(t).Yo()&&t.F_.size>0}function qs(t){return M(t).M_.size===0}function fN(t){t.L_=void 0}async function I9(t){t.N_.set("Online")}async function T9(t){t.F_.forEach((e,n)=>{BE(t,e)})}async function S9(t,e){fN(t),qE(t)?(t.N_.D_(e),zE(t)):t.N_.set("Unknown")}async function A9(t,e,n){if(t.N_.set("Online"),e instanceof xO&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){x("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Op(t,r)}else if(e instanceof gf?t.L_.Ke(e):e instanceof kO?t.L_.He(e):t.L_.We(e),!n.isEqual(W.min()))try{const r=await iN(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.F_.get(u);c&&s.F_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.F_.get(l);if(!c)return;s.F_.set(l,c.withResumeToken(pt.EMPTY_BYTE_STRING,c.snapshotVersion)),hN(s,l);const d=new pi(c.target,l,u,c.sequenceNumber);BE(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){x("RemoteStore","Failed to raise snapshot:",r),await Op(t,r)}}async function Op(t,e,n){if(!Bs(e))throw e;t.M_.add(1),await $l(t),t.N_.set("Offline"),n||(n=()=>iN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{x("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await jd(t)})}function pN(t,e){return e().catch(n=>Op(t,n,e))}async function Ul(t){const e=M(t),n=ks(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;P9(e);)try{const i=await c9(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,R9(e,i)}catch(i){await Op(e,i)}mN(e)&&gN(e)}function P9(t){return qs(t)&&t.v_.length<10}function R9(t,e){t.v_.push(e);const n=ks(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function mN(t){return qs(t)&&!ks(t).Yo()&&t.v_.length>0}function gN(t){ks(t).start()}async function b9(t){ks(t).R_()}async function C9(t){const e=ks(t);for(const n of t.v_)e.E_(n.mutations)}async function k9(t,e,n){const r=t.v_.shift(),i=CE.from(r,e,n);await pN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ul(t)}async function x9(t,e){e&&ks(t).T_&&await async function(r,i){if(function(o){return RO(o)&&o!==R.ABORTED}(i.code)){const s=r.v_.shift();ks(r).e_(),await pN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ul(r)}}(t,e),mN(t)&&gN(t)}async function EA(t,e){const n=M(t);n.asyncQueue.verifyOperationInProgress(),x("RemoteStore","RemoteStore received new credentials");const r=qs(n);n.M_.add(3),await $l(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await jd(n)}async function Zv(t,e){const n=M(t);e?(n.M_.delete(2),await jd(n)):e||(n.M_.add(2),await $l(n),n.N_.set("Unknown"))}function Bl(t){return t.B_||(t.B_=function(n,r,i){const s=M(n);return s.m_(),new y9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:I9.bind(null,t),Io:T9.bind(null,t),Eo:S9.bind(null,t),l_:A9.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.e_(),qE(t)?zE(t):t.N_.set("Unknown")):(await t.B_.stop(),fN(t))})),t.B_}function ks(t){return t.k_||(t.k_=function(n,r,i){const s=M(n);return s.m_(),new _9(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:b9.bind(null,t),Eo:x9.bind(null,t),A_:C9.bind(null,t),d_:k9.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.e_(),await Ul(t)):(await t.k_.stop(),t.v_.length>0&&(x("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Tt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new WE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new k(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zl(t,e){if(tt("AsyncQueue",`${e}: ${t}`),Bs(t))return new k(R.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.comparator=e?(n,r)=>e(n,r)||L.comparator(n.key,r.key):(n,r)=>L.comparator(n.key,r.key),this.keyedMap=Mu(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new Ha(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ha)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ha;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.q_=new Pe(L.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):U():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new vl(e,n,Ha.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class N9{constructor(){this.queries=new zs(e=>hO(e),Nd),this.onlineState="Unknown",this.z_=new Set}}async function HE(t,e){const n=M(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new O9,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=zl(o,`Initialization of query '${va(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&GE(n)}async function KE(t,e){const n=M(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function D9(t,e){const n=M(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&GE(n)}function L9(t,e,n){const r=M(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function GE(t){t.z_.forEach(e=>{e.next()})}var ew,TA;(TA=ew||(ew={})).J_="default",TA.Cache="cache";class QE{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==ew.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.serializer=e}hs(e){return Hr(this.serializer,e)}Ps(e){return e.metadata.exists?VO(this.serializer,e.document,!1):Ce.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return nt(e)}}class V9{constructor(e,n,r){this.oa=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yN(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;const r=ae.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){const n=new Map,r=new SA(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||X()).add(s);n.set(o,a)}}return n}async complete(){const e=await d9(this.localStore,new SA(this.serializer),this.documents,this.oa.id),n=this.aa(this.documents);for(const r of this.queries)await h9(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function yN(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.key=e}}class vN{constructor(e){this.key=e}}class wN{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=X(),this.mutatedKeys=X(),this.Ia=pO(e),this.Ta=new Ha(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new IA,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=Dd(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),w=!0):this.Ra(h,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.Ia(p,l)>0||u&&this.Ia(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(p?(o=o.add(p),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ta:o,Aa:r,Zi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((c,d)=>function(p,m){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return g(p)-g(m)}(c.type,d.type)||this.Ia(c.doc,d.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,o.length!==0||u?{snapshot:new vl(this.query,e.Ta,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new IA,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=X(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new vN(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new _N(r))}),n}pa(e){this.la=e.ls,this.Pa=X();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return vl.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class F9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class j9{constructor(e){this.key=e,this.wa=!1}}class $9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new zs(a=>hO(a),Nd),this.Da=new Map,this.Ca=new Set,this.va=new Pe(L.comparator),this.Fa=new Map,this.Ma=new ME,this.xa={},this.Oa=new Map,this.Na=Vo.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function U9(t,e,n=!0){const r=Gm(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await EN(r,e,n,!0),i}async function B9(t,e){const n=Gm(t);await EN(n,e,!0,!1)}async function EN(t,e,n,r){const i=await gl(t.localStore,sn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await YE(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Km(t.remoteStore,i),a}async function YE(t,e,n,r,i){t.Ba=(d,h,p)=>async function(g,w,v,y){let _=w.view.da(v);_.Zi&&(_=await Cp(g.localStore,w.query,!1).then(({documents:S})=>w.view.da(S,_)));const I=y&&y.targetChanges.get(w.targetId),E=y&&y.targetMismatches.get(w.targetId)!=null,T=w.view.applyChanges(_,g.isPrimaryClient,I,E);return tw(g,w.targetId,T.fa),T.snapshot}(t,d,h,p);const s=await Cp(t.localStore,e,!0),o=new wN(e,s.ls),a=o.da(s.documents),l=Vd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);tw(t,n,u.fa);const c=new F9(e,n,o);return t.ba.set(e,c),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function z9(t,e,n){const r=M(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Nd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_l(r.remoteStore,i.targetId),wl(r,i.targetId)}).catch(Us)):(wl(r,i.targetId),await yl(r.localStore,i.targetId,!0))}async function q9(t,e){const n=M(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_l(n.remoteStore,r.targetId))}async function W9(t,e,n){const r=eI(t);try{const i=await function(o,a){const l=M(o),u=Me.now(),c=a.reduce((p,m)=>p.add(m.key),X());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=gn(),g=X();return l.ss.getEntries(p,c).next(w=>{m=w,m.forEach((v,y)=>{y.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(w=>{d=w;const v=[];for(const y of a){const _=yz(y,d.get(y.key).overlayedDocument);_!=null&&v.push(new Vi(y.key,_,rO(_.value.mapValue),Le.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,a)}).next(w=>{h=w;const v=w.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,w.batchId,v)})}).then(()=>({batchId:h.batchId,changes:gO(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.xa[o.currentUser.toKey()];u||(u=new Pe(Y)),u=u.insert(a,l),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),await Fi(r,i.changes),await Ul(r.remoteStore)}catch(i){const s=zl(i,"Failed to persist write");n.reject(s)}}async function IN(t,e){const n=M(t);try{const r=await u9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?z(o.wa):i.removedDocuments.size>0&&(z(o.wa),o.wa=!1))}),await Fi(n,r,e)}catch(r){await Us(r)}}function AA(t,e,n){const r=M(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=M(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.U_)h.j_(a)&&(u=!0)}),u&&GE(l)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function H9(t,e,n){const r=M(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Pe(L.comparator);o=o.insert(s,Ce.newNoDocument(s,W.min()));const a=X().add(s),l=new Md(W.min(),new Map,new Pe(Y),o,a);await IN(r,l),r.va=r.va.remove(s),r.Fa.delete(e),ZE(r)}else await yl(r.localStore,e,!1).then(()=>wl(r,e,n)).catch(Us)}async function K9(t,e){const n=M(t),r=e.batch.batchId;try{const i=await l9(n.localStore,e);XE(n,r,null),JE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fi(n,i)}catch(i){await Us(i)}}async function G9(t,e,n){const r=M(t);try{const i=await function(o,a){const l=M(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(z(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);XE(r,e,n),JE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fi(r,i)}catch(i){await Us(i)}}async function Q9(t,e){const n=M(t);qs(n.remoteStore)||x("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=M(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Oa.get(r)||[];i.push(e),n.Oa.set(r,i)}catch(r){const i=zl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function JE(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function XE(t,e,n){const r=M(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function wl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(r=>{t.Ma.containsKey(r)||TN(t,r)})}function TN(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(_l(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),ZE(t))}function tw(t,e,n){for(const r of n)r instanceof _N?(t.Ma.addReference(r.key,e),Y9(t,r)):r instanceof vN?(x("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||TN(t,r.key)):U()}function Y9(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(x("SyncEngine","New document in limbo: "+n),t.Ca.add(r),ZE(t))}function ZE(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new L(ae.fromString(e)),r=t.Na.next();t.Fa.set(r,new j9(n)),t.va=t.va.insert(n,r),Km(t.remoteStore,new pi(sn(Vl(n.path)),r,"TargetPurposeLimboResolution",pn.oe))}}async function Fi(t,e,n){const r=M(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=jE.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Sa.l_(i),await async function(l,u){const c=M(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>A.forEach(u,h=>A.forEach(h.ki,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>A.forEach(h.qi,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Bs(d))throw d;x("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.ts.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);c.ts=c.ts.insert(h,g)}}}(r.localStore,s))}async function J9(t,e){const n=M(t);if(!n.currentUser.isEqual(e)){x("SyncEngine","User change. New user:",e.toKey());const r=await rN(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new k(R.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fi(n,r._s)}}function X9(t,e){const n=M(t),r=n.Fa.get(e);if(r&&r.wa)return X().add(r.key);{let i=X();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}async function Z9(t,e){const n=M(t),r=await Cp(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&tw(n,e.targetId,i.fa),i}async function e6(t,e){const n=M(t);return aN(n.localStore,e).then(r=>Fi(n,r))}async function t6(t,e,n,r){const i=M(t),s=await function(a,l){const u=M(a),c=M(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",d=>c.Cn(d,l).next(h=>h?u.localDocuments.getDocuments(d,h):A.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Ul(i.remoteStore):n==="acknowledged"||n==="rejected"?(XE(i,e,r||null),JE(i,e),function(a,l){M(M(a).mutationQueue).Fn(l)}(i.localStore,e)):U(),await Fi(i,s)):x("SyncEngine","Cannot apply mutation batch with id: "+e)}async function n6(t,e){const n=M(t);if(Gm(n),eI(n),e===!0&&n.La!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await PA(n,r.toArray());n.La=!0,await Zv(n.remoteStore,!0);for(const s of i)Km(n.remoteStore,s)}else if(e===!1&&n.La!==!1){const r=[];let i=Promise.resolve();n.Da.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(wl(n,o),yl(n.localStore,o,!0))),_l(n.remoteStore,o)}),await i,await PA(n,r),function(o){const a=M(o);a.Fa.forEach((l,u)=>{_l(a.remoteStore,u)}),a.Ma.Vr(),a.Fa=new Map,a.va=new Pe(L.comparator)}(n),n.La=!1,await Zv(n.remoteStore,!1)}}async function PA(t,e,n){const r=M(t),i=[],s=[];for(const o of e){let a;const l=r.Da.get(o);if(l&&l.length!==0){a=await gl(r.localStore,sn(l[0]));for(const u of l){const c=r.ba.get(u),d=await Z9(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await oN(r.localStore,o);a=await gl(r.localStore,u),await YE(r,SN(u),o,!1,a.resumeToken)}i.push(a)}return r.Sa.l_(s),i}function SN(t){return dO(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function r6(t){return function(n){return M(M(n).persistence).Li()}(M(t).localStore)}async function i6(t,e,n,r){const i=M(t);if(i.La)return void x("SyncEngine","Ignoring unexpected query state notification.");const s=i.Da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await aN(i.localStore,fO(s[0])),a=Md.createSynthesizedRemoteEventForCurrentChange(e,n==="current",pt.EMPTY_BYTE_STRING);await Fi(i,o,a);break}case"rejected":await yl(i.localStore,e,!0),wl(i,e,r);break;default:U()}}async function s6(t,e,n){const r=Gm(t);if(r.La){for(const i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){x("SyncEngine","Adding an already active target "+i);continue}const s=await oN(r.localStore,i),o=await gl(r.localStore,s);await YE(r,SN(s),o.targetId,!1,o.resumeToken),Km(r.remoteStore,o)}for(const i of n)r.Da.has(i)&&await yl(r.localStore,i,!1).then(()=>{_l(r.remoteStore,i),wl(r,i)}).catch(Us)}}function Gm(t){const e=M(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H9.bind(null,e),e.Sa.l_=D9.bind(null,e.eventManager),e.Sa.ka=L9.bind(null,e.eventManager),e}function eI(t){const e=M(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G9.bind(null,e),e}function o6(t,e,n){const r=M(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(p,m){const g=M(p),w=nt(m.createTime);return g.persistence.runTransaction("hasNewerBundle","readonly",v=>g.Kr.getBundleMetadata(v,m.id)).then(v=>!!v&&v.createTime.compareTo(w)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(yN(l));const u=new V9(l,s.localStore,o.serializer);let c=await o.qa();for(;c;){const h=await u._a(c);h&&a._updateProgress(h),c=await o.qa()}const d=await u.complete();return await Fi(s,d.ca,void 0),await function(p,m){const g=M(p);return g.persistence.runTransaction("Save bundle","readwrite",w=>g.Kr.saveBundleMetadata(w,m))}(s.localStore,l),a._completeWith(d.progress),Promise.resolve(d.ua)}catch(l){return vr("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class nw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Fd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return nN(this.persistence,new tN,e.initialUser,this.serializer)}createPersistence(e){return new eN(Hm.jr,this.serializer)}createSharedClientState(e){return new uN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class AN extends nw{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await eI(this.Qa.syncEngine),await Ul(this.Qa.remoteStore),await this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return nN(this.persistence,new tN,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Wz(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new b3(n,this.persistence);return new R3(e.asyncQueue,r)}createPersistence(e){const n=FE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new VE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,cN(),yf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new uN}}class a6 extends AN{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Qa.syncEngine;this.sharedClientState instanceof Zy&&(this.sharedClientState.syncEngine={Ys:t6.bind(null,n),Zs:i6.bind(null,n),Xs:s6.bind(null,n),Li:r6.bind(null,n),Js:e6.bind(null,n)},await this.sharedClientState.start()),await this.persistence.mi(async r=>{await n6(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=cN();if(!Zy.D(n))throw new k(R.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=FE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Zy(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class tI{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=J9.bind(null,this.syncEngine),await Zv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N9}()}createDatastore(e){const n=Fd(e.databaseInfo.databaseId),r=function(s){return new g9(s)}(e.databaseInfo);return function(s,o,a,l){return new v9(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new E9(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>AA(this.syncEngine,n,0),function(){return wA.D()?new wA:new f9}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new $9(i,s,o,a,l,u);return c&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=M(r);x("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await $l(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):tt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new Tt,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(e===null)return null;const n=this.Wa.decode(e),r=Number(n);isNaN(r)&&this.ja(`length string (${n}) is not valid number`);const i=await this.Ha(r);return new M9(JSON.parse(i),e.length+r)}Ja(){return this.buffer.findIndex(e=>e===123)}async za(){for(;this.Ja()<0&&!await this.Ya(););if(this.buffer.length===0)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const n=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ya(){const e=await this.Ua.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new k(R.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=M(i),a={documents:s.map(d=>Yc(o.serializer,d))},l=await o.Mo("BatchGetDocuments",o.serializer.databaseId,ae.emptyPath(),a,s.length),u=new Map;l.forEach(d=>{const h=Pz(o.serializer,d);u.set(h.key.toString(),h)});const c=[];return s.forEach(d=>{const h=u.get(d.toString());z(!!h),c.push(h)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new jl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=L.fromPath(r);this.mutations.push(new RE(i,this.precondition(i)))}),await async function(r,i){const s=M(r),o={writes:i.map(a=>Jc(s.serializer,a))};await s.Do("Commit",s.serializer.databaseId,ae.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw U();n=W.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new k(R.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(W.min())?Le.exists(!1):Le.updateTime(n):Le.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(W.min()))throw new k(R.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Le.updateTime(n)}return Le.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Za=r.maxAttempts,this.Jo=new UE(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Jo.Ko(async()=>{const e=new u6(this.datastore),n=this.tu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.nu(i)}))}).catch(r=>{this.nu(r)})})}tu(e){try{const n=this.updateFunction(e);return!xd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!RO(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=Ux.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{x("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(x("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new k(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zl(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _f(t,e){t.asyncQueue.verifyOperationInProgress(),x("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await rN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nI(t);x("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>EA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>EA(e.remoteStore,i)),t._onlineComponents=e}function PN(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function nI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){x("FirestoreClient","Using user provided OfflineComponentProvider");try{await _f(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!PN(n))throw n;vr("Error using user provided cache. Falling back to memory cache: "+n),await _f(t,new nw)}}else x("FirestoreClient","Using default OfflineComponentProvider"),await _f(t,new nw);return t._offlineComponents}async function Ym(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(x("FirestoreClient","Using user provided OnlineComponentProvider"),await rw(t,t._uninitializedComponentsProvider._online)):(x("FirestoreClient","Using default OnlineComponentProvider"),await rw(t,new tI))),t._onlineComponents}function RN(t){return nI(t).then(e=>e.persistence)}function rI(t){return nI(t).then(e=>e.localStore)}function bN(t){return Ym(t).then(e=>e.remoteStore)}function iI(t){return Ym(t).then(e=>e.syncEngine)}function h6(t){return Ym(t).then(e=>e.datastore)}async function El(t){const e=await Ym(t),n=e.eventManager;return n.onListen=U9.bind(null,e.syncEngine),n.onUnlisten=z9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=B9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q9.bind(null,e.syncEngine),n}function f6(t){return t.asyncQueue.enqueue(async()=>{const e=await RN(t),n=await bN(t);return e.setNetworkEnabled(!0),function(i){const s=M(i);return s.M_.delete(0),jd(s)}(n)})}function p6(t){return t.asyncQueue.enqueue(async()=>{const e=await RN(t),n=await bN(t);return e.setNetworkEnabled(!1),async function(i){const s=M(i);s.M_.add(0),await $l(s),s.N_.set("Offline")}(n)})}function m6(t,e){const n=new Tt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,c){const d=M(u);return d.persistence.runTransaction("read document","readonly",h=>d.localDocuments.getDocument(h,c))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new k(R.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=zl(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await rI(t),e,n)),n.promise}function CN(t,e,n={}){const r=new Tt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Qm({next:h=>{o.enqueueAndForget(()=>KE(s,d));const p=h.docs.has(a);!p&&h.fromCache?u.reject(new k(R.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new k(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new QE(Vl(a.path),c,{includeMetadataChanges:!0,ra:!0});return HE(s,d)}(await El(t),t.asyncQueue,e,n,r)),r.promise}function g6(t,e){const n=new Tt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await Cp(i,s,!0),l=new wN(s,a.ls),u=l.da(a.documents),c=l.applyChanges(u,!1);o.resolve(c.snapshot)}catch(a){const l=zl(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await rI(t),e,n)),n.promise}function kN(t,e,n={}){const r=new Tt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new Qm({next:h=>{o.enqueueAndForget(()=>KE(s,d)),h.fromCache&&l.source==="server"?u.reject(new k(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new QE(a,c,{includeMetadataChanges:!0,ra:!0});return HE(s,d)}(await El(t),t.asyncQueue,e,n,r)),r.promise}function y6(t,e){const n=new Qm(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){M(i).z_.add(s),s.next()}(await El(t),n)),()=>{n.$a(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){M(i).z_.delete(s)}(await El(t),n))}}function _6(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?CO().encode(o):o,function(c,d){return new l6(c,d)}(function(c,d){if(c instanceof Uint8Array)return RA(c,d);if(c instanceof ArrayBuffer)return RA(new Uint8Array(c),d);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Fd(e));t.asyncQueue.enqueueAndForget(async()=>{o6(await iI(t),i,r)})}function v6(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=M(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(await rI(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t,e,n){if(!n)throw new k(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ON(t,e,n,r){if(e===!0&&r===!0)throw new k(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CA(t){if(!L.isDocumentKey(t))throw new k(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kA(t){if(L.isDocumentKey(t))throw new k(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":U()}function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new k(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jm(t);throw new k(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function NN(t,e){if(e<=0)throw new k(R.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new k(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new k(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ON("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new k(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new k(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new k(R.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $d{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xA({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new k(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new k(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xA(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new g3;switch(r.type){case"firstParty":return new w3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new k(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bA.get(n);r&&(x("ComponentProvider","Removing Datastore"),bA.delete(n),r.terminate())}(this),Promise.resolve()}}function w6(t,e,n,r={}){var i;const s=(t=fe(t,$d))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=wt.MOCK_USER;else{a=g$(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new k(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new wt(u)}t._authCredentials=new y3(new $x(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let on=class DN{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new DN(this.firestore,e,this._query)}},$e=class LN{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new LN(this.firestore,e,this._key)}},ws=class MN extends on{constructor(e,n,r){super(e,n,Vl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $e(this.firestore,null,new L(e))}withConverter(e){return new MN(this.firestore,e,this._path)}};function VN(t,e,...n){if(t=q(t),sI("collection","path",e),t instanceof $d){const r=ae.fromString(e,...n);return kA(r),new ws(t,null,r)}{if(!(t instanceof $e||t instanceof ws))throw new k(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ae.fromString(e,...n));return kA(r),new ws(t.firestore,null,r)}}function E6(t,e){if(t=fe(t,$d),sI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new k(R.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new on(t,null,function(r){return new Mi(ae.emptyPath(),r)}(e))}function Np(t,e,...n){if(t=q(t),arguments.length===1&&(e=Ux.newId()),sI("doc","path",e),t instanceof $d){const r=ae.fromString(e,...n);return CA(r),new $e(t,null,new L(r))}{if(!(t instanceof $e||t instanceof ws))throw new k(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ae.fromString(e,...n));return CA(r),new $e(t.firestore,t instanceof ws?t.converter:null,new L(r))}}function FN(t,e){return t=q(t),e=q(e),(t instanceof $e||t instanceof ws)&&(e instanceof $e||e instanceof ws)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function jN(t,e){return t=q(t),e=q(e),t instanceof on&&e instanceof on&&t.firestore===e.firestore&&Nd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new UE(this,"async_queue_retry"),this.hu=()=>{const n=yf();n&&x("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const e=yf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=yf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Tt;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!Bs(e))throw e;x("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw tt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=WE.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&U()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function iw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class T6{constructor(){this._progressObserver={},this._taskCompletionResolver=new Tt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=-1;let Ye=class extends $d{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new I6}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$N(this),this._firestoreClient.terminate()}};function bt(t){return t._firestoreClient||$N(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $N(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new Q3(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,xN(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new d6(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function A6(t,e){BN(t=fe(t,Ye));const n=bt(t);if(n._uninitializedComponentsProvider)throw new k(R.FAILED_PRECONDITION,"SDK cache is already specified.");vr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new tI;return UN(n,i,new AN(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function P6(t){BN(t=fe(t,Ye));const e=bt(t);if(e._uninitializedComponentsProvider)throw new k(R.FAILED_PRECONDITION,"SDK cache is already specified.");vr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new tI;return UN(e,r,new a6(r,n.cacheSizeBytes))}function UN(t,e,n){const r=new Tt;return t.asyncQueue.enqueue(async()=>{try{await _f(t,n),await rw(t,e),r.resolve()}catch(i){const s=i;if(!PN(s))throw s;vr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function R6(t){if(t._initialized&&!t._terminated)throw new k(R.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Tt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Wr.D())return Promise.resolve();const i=r+"main";await Wr.delete(i)}(FE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function b6(t){return function(n){const r=new Tt;return n.asyncQueue.enqueueAndForget(async()=>Q9(await iI(n),r)),r.promise}(bt(t=fe(t,Ye)))}function C6(t){return f6(bt(t=fe(t,Ye)))}function k6(t){return p6(bt(t=fe(t,Ye)))}function x6(t,e){const n=bt(t=fe(t,Ye)),r=new T6;return _6(n,t._databaseId,e,r),r}function O6(t,e){return v6(bt(t=fe(t,Ye)),e).then(n=>n?new on(t,null,n.query):null)}function BN(t){if(t._initialized||t._terminated)throw new k(R.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jr(pt.fromBase64String(e))}catch(n){throw new k(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jr(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new k(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new De(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new k(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new k(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=/^__.*__$/;class D6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fl(e,this.data,n,this.fieldTransforms)}}class zN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}class Zm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Zm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Dp(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(qN(this.fu)&&N6.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class L6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fd(e)}Fu(e,n,r,i=!1){return new Zm({fu:e,methodName:n,vu:r,path:De.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qo(t){const e=t._freezeSettings(),n=Fd(t._databaseId);return new L6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eg(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);hI("Data must be an object, but it was:",o,r);const a=KN(r,o);let l,u;if(s.merge)l=new mn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=sw(e,d,n);if(!o.contains(h))throw new k(R.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);QN(c,h)||c.push(h)}l=new mn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new D6(new Dt(a),l,u)}class Ud extends Go{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ud}}function WN(t,e,n){return new Zm({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class oI extends Go{_toFieldTransform(e){return new Ld(e.path,new fl)}isEqual(e){return e instanceof oI}}class aI extends Go{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=WN(this,e,!0),r=this.Mu.map(s=>Yo(s,n)),i=new No(r);return new Ld(e.path,i)}isEqual(e){return e instanceof aI&&ol(this.Mu,e.Mu)}}class lI extends Go{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=WN(this,e,!0),r=this.Mu.map(s=>Yo(s,n)),i=new Do(r);return new Ld(e.path,i)}isEqual(e){return e instanceof lI&&ol(this.Mu,e.Mu)}}class uI extends Go{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){const n=new pl(e.serializer,wO(e.serializer,this.xu));return new Ld(e.path,n)}isEqual(e){return e instanceof uI&&this.xu===e.xu}}function cI(t,e,n,r){const i=t.Fu(1,e,n);hI("Data must be an object, but it was:",i,r);const s=[],o=Dt.empty();Ko(r,(l,u)=>{const c=fI(e,l,n);u=q(u);const d=i.Su(c);if(u instanceof Ud)s.push(c);else{const h=Yo(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new mn(s);return new zN(o,a,i.fieldTransforms)}function dI(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[sw(e,r,n)],l=[i];if(s.length%2!=0)throw new k(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(sw(e,s[h])),l.push(s[h+1]);const u=[],c=Dt.empty();for(let h=a.length-1;h>=0;--h)if(!QN(u,a[h])){const p=a[h];let m=l[h];m=q(m);const g=o.Su(p);if(m instanceof Ud)u.push(p);else{const w=Yo(m,g);w!=null&&(u.push(p),c.set(p,w))}}const d=new mn(u);return new zN(c,d,o.fieldTransforms)}function HN(t,e,n,r=!1){return Yo(n,t.Fu(r?4:3,e))}function Yo(t,e){if(GN(t=q(t)))return hI("Unsupported field value:",e,t),KN(t,e);if(t instanceof Go)return function(r,i){if(!qN(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Yo(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=q(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Me.fromDate(r);return{timestampValue:ml(i.serializer,s)}}if(r instanceof Me){const s=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ml(i.serializer,s)}}if(r instanceof Xm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jr)return{bytesValue:OO(i.serializer,r._byteString)};if(r instanceof $e){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:OE(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Jm(r)}`)}(t,e)}function KN(t,e){const n={};return eO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ko(t,(r,i)=>{const s=Yo(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function GN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Me||t instanceof Xm||t instanceof Jr||t instanceof $e||t instanceof Go)}function hI(t,e,n){if(!GN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Jm(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function sw(t,e,n){if((e=q(e))instanceof xs)return e._internalPath;if(typeof e=="string")return fI(t,e);throw Dp("Field path arguments must be of type string or ",t,!1,void 0,n)}const M6=new RegExp("[~\\*/\\[\\]]");function fI(t,e,n){if(e.search(M6)>=0)throw Dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xs(...e.split("."))._internalPath}catch{throw Dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new k(R.INVALID_ARGUMENT,a+t+l)}function QN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V6 extends Xc{data(){return super.data()}}function tg(t,e){return typeof e=="string"?fI(t,e):e instanceof xs?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new k(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pI{}class Bd extends pI{}function Hi(t,e,...n){let r=[];e instanceof pI&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof mI).length,a=s.filter(l=>l instanceof ng).length;if(o>1||o>0&&a>0)throw new k(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ng extends Bd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ng(e,n,r)}_apply(e){const n=this._parse(e);return XN(e._query,n),new on(e.firestore,e.converter,qv(e._query,n))}_parse(e){const n=Qo(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new k(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){NA(d,c);const p=[];for(const m of d)p.push(OA(l,s,m));h={arrayValue:{values:p}}}else h=OA(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||NA(d,c),h=HN(a,o,d,c==="in"||c==="not-in");return le.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function F6(t,e,n){const r=e,i=tg("where",t);return ng._create(i,r,n)}class mI extends pI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mI(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_e.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)XN(o,l),o=qv(o,l)}(e._query,n),new on(e.firestore,e.converter,qv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gI extends Bd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gI(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new k(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new k(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qc(s,o)}(e._query,this._field,this._direction);return new on(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Mi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function j6(t,e="asc"){const n=e,r=tg("orderBy",t);return gI._create(r,n)}class rg extends Bd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new rg(e,n,r)}_apply(e){return new on(e.firestore,e.converter,Ap(e._query,this._limit,this._limitType))}}function $6(t){return NN("limit",t),rg._create("limit",t,"F")}function U6(t){return NN("limitToLast",t),rg._create("limitToLast",t,"L")}class ig extends Bd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ig(e,n,r)}_apply(e){const n=JN(e,this.type,this._docOrFields,this._inclusive);return new on(e.firestore,e.converter,function(i,s){return new Mi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function B6(...t){return ig._create("startAt",t,!0)}function z6(...t){return ig._create("startAfter",t,!1)}class sg extends Bd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new sg(e,n,r)}_apply(e){const n=JN(e,this.type,this._docOrFields,this._inclusive);return new on(e.firestore,e.converter,function(i,s){return new Mi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function q6(...t){return sg._create("endBefore",t,!1)}function W6(...t){return sg._create("endAt",t,!0)}function JN(t,e,n,r){if(n[0]=q(n[0]),n[0]instanceof Xc)return function(s,o,a,l,u){if(!l)throw new k(R.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of Wa(s))if(d.field.isKeyField())c.push(xo(o,l.key));else{const h=l.data.field(d.field);if(Um(h))throw new k(R.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=d.field.canonicalString();throw new k(R.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(h)}return new Cs(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Qo(t.firestore);return function(o,a,l,u,c,d){const h=o.explicitOrderBy;if(c.length>h.length)throw new k(R.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let m=0;m<c.length;m++){const g=c[m];if(h[m].field.isKeyField()){if(typeof g!="string")throw new k(R.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof g}`);if(!AE(o)&&g.indexOf("/")!==-1)throw new k(R.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${g}' contains a slash.`);const w=o.path.child(ae.fromString(g));if(!L.isDocumentKey(w))throw new k(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const v=new L(w);p.push(xo(a,v))}else{const w=HN(l,u,g);p.push(w)}}return new Cs(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function OA(t,e,n){if(typeof(n=q(n))=="string"){if(n==="")throw new k(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AE(e)&&n.indexOf("/")!==-1)throw new k(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ae.fromString(n));if(!L.isDocumentKey(r))throw new k(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xo(t,new L(r))}if(n instanceof $e)return xo(t,n._key);throw new k(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jm(n)}.`)}function NA(t,e){if(!Array.isArray(t)||t.length===0)throw new k(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XN(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new k(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new k(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yI{convertValue(e,n="none"){switch(ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw U()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ko(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Xm(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=TE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hc(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new Me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ae.fromString(e);z(zO(r));const i=new Rs(r.get(1),r.get(3)),s=new L(r.popFirst(5));return i.isEqual(n)||tt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class H6 extends yI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $e(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let bi=class extends Xc{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},rc=class extends bi{data(e={}){return super.data(e)}},Os=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new po(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rc(this._firestore,this._userDataWriter,r.key,r,new po(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new k(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new rc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new po(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new rc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new po(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:K6(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function K6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}function ZN(t,e){return t instanceof bi&&e instanceof bi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Os&&e instanceof Os&&t._firestore===e._firestore&&jN(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){t=fe(t,$e);const e=fe(t.firestore,Ye);return CN(bt(e),t._key).then(n=>_I(e,t,n))}class Jo extends yI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $e(this.firestore,null,n)}}function Q6(t){t=fe(t,$e);const e=fe(t.firestore,Ye),n=bt(e),r=new Jo(e);return m6(n,t._key).then(i=>new bi(e,r,t._key,i,new po(i!==null&&i.hasLocalMutations,!0),t.converter))}function Y6(t){t=fe(t,$e);const e=fe(t.firestore,Ye);return CN(bt(e),t._key,{source:"server"}).then(n=>_I(e,t,n))}function J6(t){t=fe(t,on);const e=fe(t.firestore,Ye),n=bt(e),r=new Jo(e);return YN(t._query),kN(n,t._query).then(i=>new Os(e,r,t,i))}function X6(t){t=fe(t,on);const e=fe(t.firestore,Ye),n=bt(e),r=new Jo(e);return g6(n,t._query).then(i=>new Os(e,r,t,i))}function Z6(t){t=fe(t,on);const e=fe(t.firestore,Ye),n=bt(e),r=new Jo(e);return kN(n,t._query,{source:"server"}).then(i=>new Os(e,r,t,i))}function DA(t,e,n){t=fe(t,$e);const r=fe(t.firestore,Ye),i=og(t.converter,e,n);return zd(r,[eg(Qo(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Le.none())])}function LA(t,e,n,...r){t=fe(t,$e);const i=fe(t.firestore,Ye),s=Qo(i);let o;return o=typeof(e=q(e))=="string"||e instanceof xs?dI(s,"updateDoc",t._key,e,n,r):cI(s,"updateDoc",t._key,e),zd(i,[o.toMutation(t._key,Le.exists(!0))])}function eq(t){return zd(fe(t.firestore,Ye),[new jl(t._key,Le.none())])}function tq(t,e){const n=fe(t.firestore,Ye),r=Np(t),i=og(t.converter,e);return zd(n,[eg(Qo(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Le.exists(!1))]).then(()=>r)}function eD(t,...e){var n,r,i;t=q(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||iw(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(iw(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof $e)u=fe(t.firestore,Ye),c=Vl(t._key.path),l={next:d=>{e[o]&&e[o](_I(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=fe(t,on);u=fe(d.firestore,Ye),c=d._query;const h=new Jo(u);l={next:p=>{e[o]&&e[o](new Os(u,h,d,p))},error:e[o+1],complete:e[o+2]},YN(t._query)}return function(h,p,m,g){const w=new Qm(g),v=new QE(p,w,m);return h.asyncQueue.enqueueAndForget(async()=>HE(await El(h),v)),()=>{w.$a(),h.asyncQueue.enqueueAndForget(async()=>KE(await El(h),v))}}(bt(u),c,a,l)}function nq(t,e){return y6(bt(t=fe(t,Ye)),iw(e)?e:{next:e})}function zd(t,e){return function(r,i){const s=new Tt;return r.asyncQueue.enqueueAndForget(async()=>W9(await iI(r),i,s)),s.promise}(bt(t),e)}function _I(t,e,n){const r=n.docs.get(e._key),i=new Jo(t);return new bi(t,i,e._key,r,new po(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iq=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Qo(e)}set(e,n,r){this._verifyNotCommitted();const i=rs(e,this._firestore),s=og(i.converter,n,r),o=eg(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Le.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=rs(e,this._firestore);let o;return o=typeof(n=q(n))=="string"||n instanceof xs?dI(this._dataReader,"WriteBatch.update",s._key,n,r,i):cI(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Le.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=rs(e,this._firestore);return this._mutations=this._mutations.concat(new jl(n._key,Le.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new k(R.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function rs(t,e){if((t=q(t)).firestore!==e)throw new k(R.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sq=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Qo(n)}get(n){const r=rs(n,this._firestore),i=new H6(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return U();const o=s[0];if(o.isFoundDocument())return new Xc(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Xc(this._firestore,i,r._key,null,r.converter);throw U()})}set(n,r,i){const s=rs(n,this._firestore),o=og(s.converter,r,i),a=eg(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=rs(n,this._firestore);let a;return a=typeof(r=q(r))=="string"||r instanceof xs?dI(this._dataReader,"Transaction.update",o._key,r,i,s):cI(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=rs(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=rs(e,this._firestore),r=new Jo(this._firestore);return super.get(e).then(i=>new bi(this._firestore,r,n._key,i._document,new po(!1,!1),n.converter))}};function oq(t,e,n){t=fe(t,Ye);const r=Object.assign(Object.assign({},rq),n);return function(s){if(s.maxAttempts<1)throw new k(R.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Tt;return s.asyncQueue.enqueueAndForget(async()=>{const u=await h6(s);new c6(s.asyncQueue,u,a,o,l).Xa()}),l.promise}(bt(t),i=>e(new sq(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aq(){return new Ud("deleteField")}function lq(){return new oI("serverTimestamp")}function uq(...t){return new aI("arrayUnion",t)}function cq(...t){return new lI("arrayRemove",t)}function dq(t){return new uI("increment",t)}(function(e,n=!0){(function(i){Ml=i})(Fn),Qr(new er("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ye(new _3(r.getProvider("auth-internal")),new I3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new k(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rs(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),kn(bS,"4.6.1",e),kn(bS,"4.6.1","esm2017")})();const hq="@firebase/firestore-compat",fq="0.3.30";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new k("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){if(typeof Uint8Array>"u")throw new k("unimplemented","Uint8Arrays are not available in this environment.")}function VA(){if(!K3())throw new k("unimplemented","Blobs are unavailable in Firestore in this environment.")}let tD=class ow{constructor(e){this._delegate=e}static fromBase64String(e){return VA(),new ow(Jr.fromBase64String(e))}static fromUint8Array(e){return MA(),new ow(Jr.fromUint8Array(e))}toBase64(){return VA(),this._delegate.toBase64()}toUint8Array(){return MA(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){return pq(t,["next","error","complete"])}function pq(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{enableIndexedDbPersistence(e,n){return A6(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return P6(e._delegate)}clearIndexedDbPersistence(e){return R6(e._delegate)}}class nD{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Rs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&vr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){w6(this._delegate,e,n,r)}enableNetwork(){return C6(this._delegate)}disableNetwork(){return k6(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,ON("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return b6(this._delegate)}onSnapshotsInSync(e){return nq(this._delegate,e)}get app(){if(!this._appCompat)throw new k("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Il(this,VN(this._delegate,e))}catch(n){throw en(n,"collection()","Firestore.collection()")}}doc(e){try{return new Gn(this,Np(this._delegate,e))}catch(n){throw en(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Zt(this,E6(this._delegate,e))}catch(n){throw en(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return oq(this._delegate,n=>e(new rD(this,n)))}batch(){return bt(this._delegate),new iD(new iq(this._delegate,e=>zd(this._delegate,e)))}loadBundle(e){return x6(this._delegate,e)}namedQuery(e){return O6(this._delegate,e).then(n=>n?new Zt(this,n):null)}}class ag extends yI{constructor(e){super(),this.firestore=e}convertBytes(e){return new tD(new Jr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Gn.forKey(n,this.firestore,null)}}function gq(t){p3(t)}class rD{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ag(e)}get(e){const n=mo(e);return this._delegate.get(n).then(r=>new Zc(this._firestore,new bi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=mo(e);return r?(vI("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=mo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=mo(e);return this._delegate.delete(n),this}}class iD{constructor(e){this._delegate=e}set(e,n,r){const i=mo(e);return r?(vI("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=mo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=mo(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Fo{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new rc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ed(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Fo.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Fo(e,new ag(e),n),i.set(n,s)),s}}Fo.INSTANCES=new WeakMap;class Gn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ag(e)}static forPath(e,n,r){if(e.length%2!==0)throw new k("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Gn(n,new $e(n._delegate,r,new L(e)))}static forKey(e,n,r){return new Gn(n,new $e(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Il(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Il(this.firestore,VN(this._delegate,e))}catch(n){throw en(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=q(e),e instanceof $e?FN(this._delegate,e):!1}set(e,n){n=vI("DocumentReference.set",n);try{return n?DA(this._delegate,e,n):DA(this._delegate,e)}catch(r){throw en(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?LA(this._delegate,e):LA(this._delegate,e,n,...r)}catch(i){throw en(i,"updateDoc()","DocumentReference.update()")}}delete(){return eq(this._delegate)}onSnapshot(...e){const n=sD(e),r=oD(e,i=>new Zc(this.firestore,new bi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return eD(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Q6(this._delegate):(e==null?void 0:e.source)==="server"?n=Y6(this._delegate):n=G6(this._delegate),n.then(r=>new Zc(this.firestore,new bi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Gn(this.firestore,e?this._delegate.withConverter(Fo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function en(t,e,n){return t.message=t.message.replace(e,n),t}function sD(t){for(const e of t)if(typeof e=="object"&&!aw(e))return e;return{}}function oD(t,e){var n,r;let i;return aw(t[0])?i=t[0]:aw(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Zc{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Gn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return ZN(this._delegate,e._delegate)}}class ed extends Zc{data(e){const n=this._delegate.data(e);return this._delegate._converter||m3(n!==void 0),n}}class Zt{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ag(e)}where(e,n,r){try{return new Zt(this.firestore,Hi(this._delegate,F6(e,n,r)))}catch(i){throw en(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Zt(this.firestore,Hi(this._delegate,j6(e,n)))}catch(r){throw en(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Zt(this.firestore,Hi(this._delegate,$6(e)))}catch(n){throw en(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Zt(this.firestore,Hi(this._delegate,U6(e)))}catch(n){throw en(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Zt(this.firestore,Hi(this._delegate,B6(...e)))}catch(n){throw en(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Zt(this.firestore,Hi(this._delegate,z6(...e)))}catch(n){throw en(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Zt(this.firestore,Hi(this._delegate,q6(...e)))}catch(n){throw en(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Zt(this.firestore,Hi(this._delegate,W6(...e)))}catch(n){throw en(n,"endAt()","Query.endAt()")}}isEqual(e){return jN(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=X6(this._delegate):(e==null?void 0:e.source)==="server"?n=Z6(this._delegate):n=J6(this._delegate),n.then(r=>new lw(this.firestore,new Os(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=sD(e),r=oD(e,i=>new lw(this.firestore,new Os(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return eD(this._delegate,n,r)}withConverter(e){return new Zt(this.firestore,e?this._delegate.withConverter(Fo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class yq{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ed(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lw{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Zt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ed(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new yq(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new ed(this._firestore,r))})}isEqual(e){return ZN(this._delegate,e._delegate)}}class Il extends Zt{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Gn(this.firestore,e):null}doc(e){try{return e===void 0?new Gn(this.firestore,Np(this._delegate)):new Gn(this.firestore,Np(this._delegate,e))}catch(n){throw en(n,"doc()","CollectionReference.doc()")}}add(e){return tq(this._delegate,e).then(n=>new Gn(this.firestore,n))}isEqual(e){return FN(this._delegate,e._delegate)}withConverter(e){return new Il(this.firestore,e?this._delegate.withConverter(Fo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function mo(t){return fe(t,$e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(...e){this._delegate=new xs(...e)}static documentId(){return new wI(De.keyField().canonicalString())}isEqual(e){return e=q(e),e instanceof xs?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this._delegate=e}static serverTimestamp(){const e=lq();return e._methodName="FieldValue.serverTimestamp",new oo(e)}static delete(){const e=aq();return e._methodName="FieldValue.delete",new oo(e)}static arrayUnion(...e){const n=uq(...e);return n._methodName="FieldValue.arrayUnion",new oo(n)}static arrayRemove(...e){const n=cq(...e);return n._methodName="FieldValue.arrayRemove",new oo(n)}static increment(e){const n=dq(e);return n._methodName="FieldValue.increment",new oo(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q={Firestore:nD,GeoPoint:Xm,Timestamp:Me,Blob:tD,Transaction:rD,WriteBatch:iD,DocumentReference:Gn,DocumentSnapshot:Zc,Query:Zt,QueryDocumentSnapshot:ed,QuerySnapshot:lw,CollectionReference:Il,FieldPath:wI,FieldValue:oo,setLogLevel:gq,CACHE_SIZE_UNLIMITED:S6};function vq(t,e){t.INTERNAL.registerComponent(new er("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},_q)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(t){vq(t,(e,n)=>new nD(e,n,new mq)),t.registerVersion(hq,fq)}wq(Ol);const vu={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},aa={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eq(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function aD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Iq=Eq,Tq=aD,lD=new Zr("auth","Firebase",aD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=new vd("@firebase/auth");function Sq(t,...e){Lp.logLevel<=ne.WARN&&Lp.warn(`Auth (${Fn}): ${t}`,...e)}function vf(t,...e){Lp.logLevel<=ne.ERROR&&Lp.error(`Auth (${Fn}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t,...e){throw II(t,...e)}function ft(t,...e){return II(t,...e)}function EI(t,e,n){const r=Object.assign(Object.assign({},Tq()),{[e]:n});return new Zr("auth","Firebase",r).create(e,{appName:t.name})}function St(t){return EI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ql(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ft(t,"argument-error"),EI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function II(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lD.create(t,...e)}function N(t,e,...n){if(!t)throw II(e,...n)}function Fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vf(e),new Error(e)}function wr(t,e){t||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TI(){return FA()==="http:"||FA()==="https:"}function FA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TI()||j0()||"connection"in navigator)?navigator.onLine:!0}function Pq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.shortDelay=e,this.longDelay=n,wr(n>e,"Short delay should be less than long delay!"),this.isMobile=DC()||mm()}get(){return Aq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t,e){wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq=new qd(3e4,6e4);function Xe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ze(t,e,n,r,i={}){return cD(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Er(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),uD.fetch()(dD(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function cD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Rq),e);try{const i=new kq(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ju(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ju(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ju(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ju(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw EI(t,c,u);Ft(t,c)}}catch(i){if(i instanceof It)throw i;Ft(t,"network-request-failed",{message:String(i)})}}async function ji(t,e,n,r,i={}){const s=await Ze(t,e,n,r,i);return"mfaPendingCredential"in s&&Ft(t,"multi-factor-auth-required",{_serverResponse:s}),s}function dD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?SI(t.config,i):`${t.config.apiScheme}://${i}`}function Cq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kq{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ft(this.auth,"network-request-failed")),bq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ft(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t){return t!==void 0&&t.getResponse!==void 0}function $A(t){return t!==void 0&&t.enterprise!==void 0}class xq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Cq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oq(t){return(await Ze(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Nq(t,e){return Ze(t,"GET","/v2/recaptchaConfig",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dq(t,e){return Ze(t,"POST","/v1/accounts:delete",e)}async function Lq(t,e){return Ze(t,"POST","/v1/accounts:update",e)}async function hD(t,e){return Ze(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Mq(t,e=!1){const n=q(t),r=await n.getIdToken(e),i=lg(r);N(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ic(t_(i.auth_time)),issuedAtTime:ic(t_(i.iat)),expirationTime:ic(t_(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function t_(t){return Number(t)*1e3}function lg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const i=M0(n);return i?JSON.parse(i):(vf("Failed to decode base64 JWT payload"),null)}catch(i){return vf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function UA(t){const e=lg(t);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ci(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof It&&Vq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Vq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ci(t,hD(n,{idToken:r}));N(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?fD(s.providerUserInfo):[],a=$q(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new uw(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function jq(t){const e=q(t);await nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $q(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fD(t){return t.map(e=>{var{providerId:n}=e,r=Nl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uq(t,e){const n=await cD(t,{},async()=>{const r=Er({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=dD(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",uD.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Bq(t,e){return Ze(t,"POST","/v2/accounts:revokeToken",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){N(e.length!==0,"internal-error");const n=UA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(N(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Uq(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ka;return r&&(N(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(N(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(N(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t,e){N(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Nl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ci(this,this.stsTokenManager.getToken(this.auth,e));return N(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Mq(this,e)}reload(){return jq(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pe(this.auth.app))return Promise.reject(St(this.auth));const e=await this.getIdToken();return await Ci(this,Dq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:I,isAnonymous:E,providerData:T,stsTokenManager:S}=n;N(_&&S,e,"internal-error");const C=Ka.fromJSON(this.name,S);N(typeof _=="string",e,"internal-error"),Ki(d,e.name),Ki(h,e.name),N(typeof I=="boolean",e,"internal-error"),N(typeof E=="boolean",e,"internal-error"),Ki(p,e.name),Ki(m,e.name),Ki(g,e.name),Ki(w,e.name),Ki(v,e.name),Ki(y,e.name);const F=new mi({uid:_,auth:e,email:h,emailVerified:I,displayName:d,isAnonymous:E,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:C,createdAt:v,lastLoginAt:y});return T&&Array.isArray(T)&&(F.providerData=T.map(D=>Object.assign({},D))),w&&(F._redirectEventId=w),F}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ka;i.updateFromServerResponse(n);const s=new mi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];N(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?fD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ka;a.updateFromIdToken(r);const l=new mi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new uw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=new Map;function bn(t){wr(t instanceof Function,"Expected a class definition");let e=BA.get(t);return e?(wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pD.type="NONE";const Tl=pD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t,e,n){return`firebase:${t}:${e}:${n}`}class Ga{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Eo(this.userKey,i.apiKey,s),this.fullPersistenceKey=Eo("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ga(bn(Tl),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||bn(Tl);const o=Eo(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=mi._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ga(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ga(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_D(e))return"Blackberry";if(vD(e))return"Webos";if(AI(e))return"Safari";if((e.includes("chrome/")||gD(e))&&!e.includes("edge/"))return"Chrome";if(Wd(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mD(t=ie()){return/firefox\//i.test(t)}function AI(t=ie()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gD(t=ie()){return/crios\//i.test(t)}function yD(t=ie()){return/iemobile/i.test(t)}function Wd(t=ie()){return/android/i.test(t)}function _D(t=ie()){return/blackberry/i.test(t)}function vD(t=ie()){return/webos/i.test(t)}function Wl(t=ie()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zq(t=ie()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function qq(t=ie()){var e;return Wl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Wq(){return $0()&&document.documentMode===10}function wD(t=ie()){return Wl(t)||Wd(t)||vD(t)||_D(t)||/windows phone/i.test(t)||yD(t)}function Hq(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e=[]){let n;switch(t){case"Browser":n=zA(ie());break;case"Worker":n=`${zA(ie())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fn}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gq(t,e={}){return Ze(t,"GET","/v2/passwordPolicy",Xe(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=6;class Yq{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Qq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qA(this),this.idTokenSubscription=new qA(this),this.beforeStateQueue=new Kq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ga.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hD(this,{idToken:e}),r=await mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pe(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return N(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Pq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pe(this.app))return Promise.reject(St(this));const n=e?q(e):null;return n&&N(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&N(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pe(this.app)?Promise.reject(St(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pe(this.app)?Promise.reject(St(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Gq(this),n=new Yq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Bq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bn(e)||this._popupRedirectResolver;N(n,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[bn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(N(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ED(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Sq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Je(t){return q(t)}class qA{constructor(e){this.auth=e,this.observer=null,this.addObserver=U0(n=>this.observer=n)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xq(t){Hd=t}function PI(t){return Hd.loadJS(t)}function Zq(){return Hd.recaptchaV2Script}function eW(){return Hd.recaptchaEnterpriseScript}function tW(){return Hd.gapiScript}function ID(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const nW="recaptcha-enterprise",rW="NO_RECAPTCHA";class iW{constructor(e){this.type=nW,this.auth=Je(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Nq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new xq(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;$A(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(rW)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&$A(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=eW();l.length!==0&&(l+=a),PI(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function WA(t,e,n,r=!1){const i=new iW(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function rd(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await WA(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await WA(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}function sW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oW(t,e,n){const r=Je(t);N(r._canInitEmulator,r,"emulator-config-failed"),N(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=TD(e),{host:o,port:a}=aW(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||lW()}function TD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aW(t){const e=TD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:HA(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:HA(o)}}}function HA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t,e){return Ze(t,"POST","/v1/accounts:resetPassword",Xe(t,e))}async function uW(t,e){return Ze(t,"POST","/v1/accounts:update",e)}async function cW(t,e){return Ze(t,"POST","/v1/accounts:signUp",e)}async function dW(t,e){return Ze(t,"POST","/v1/accounts:update",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hW(t,e){return ji(t,"POST","/v1/accounts:signInWithPassword",Xe(t,e))}async function ug(t,e){return Ze(t,"POST","/v1/accounts:sendOobCode",Xe(t,e))}async function fW(t,e){return ug(t,e)}async function pW(t,e){return ug(t,e)}async function mW(t,e){return ug(t,e)}async function gW(t,e){return ug(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yW(t,e){return ji(t,"POST","/v1/accounts:signInWithEmailLink",Xe(t,e))}async function _W(t,e){return ji(t,"POST","/v1/accounts:signInWithEmailLink",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends Hl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new id(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new id(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rd(e,n,"signInWithPassword",hW);case"emailLink":return yW(e,{email:this._email,oobCode:this._password});default:Ft(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rd(e,r,"signUpPassword",cW);case"emailLink":return _W(e,{idToken:n,email:this._email,oobCode:this._password});default:Ft(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wi(t,e){return ji(t,"POST","/v1/accounts:signInWithIdp",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW="http://localhost";class Xr extends Hl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ft("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Nl(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Xr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return wi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wi(e,n)}buildRequest(){const e={requestUri:vW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Er(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wW(t,e){return Ze(t,"POST","/v1/accounts:sendVerificationCode",Xe(t,e))}async function EW(t,e){return ji(t,"POST","/v1/accounts:signInWithPhoneNumber",Xe(t,e))}async function IW(t,e){const n=await ji(t,"POST","/v1/accounts:signInWithPhoneNumber",Xe(t,e));if(n.temporaryProof)throw ju(t,"account-exists-with-different-credential",n);return n}const TW={USER_NOT_FOUND:"user-not-found"};async function SW(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ji(t,"POST","/v1/accounts:signInWithPhoneNumber",Xe(t,n),TW)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Hl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Io({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Io({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return EW(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return IW(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return SW(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Io({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PW(t){const e=hr(Nr(t)).link,n=e?hr(Nr(e)).deep_link_id:null,r=hr(Nr(t)).deep_link_id;return(r?hr(Nr(r)).link:null)||r||n||e||t}class cg{constructor(e){var n,r,i,s,o,a;const l=hr(Nr(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=AW((i=l.mode)!==null&&i!==void 0?i:null);N(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=PW(e);try{return new cg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.providerId=Ws.PROVIDER_ID}static credential(e,n){return id._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cg.parseLink(n);return N(r,"argument-error"),id._fromEmailAndCode(e,r.code,r.tenantId)}}Ws.PROVIDER_ID="password";Ws.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ws.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends $i{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qa extends Kl{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return N("providerId"in n&&"signInMethod"in n,"argument-error"),Xr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return N(e.idToken||e.accessToken,"argument-error"),Xr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Qa.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Qa.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Qa(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Kl{constructor(){super("facebook.com")}static credential(e){return Xr._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xr._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return kr.credential(n,r)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Kl{constructor(){super("github.com")}static credential(e){return Xr._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW="http://localhost";class Sl extends Hl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return wi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Sl(r,s)}static _create(e,n){return new Sl(e,n)}buildRequest(){return{requestUri:RW,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW="saml.";class Mp extends $i{constructor(e){N(e.startsWith(bW),"argument-error"),super(e)}static credentialFromResult(e){return Mp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Mp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Sl.fromJSON(e);return N(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Sl._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Kl{constructor(){super("twitter.com")}static credential(e,n){return Xr._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Or.credential(n,r)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(t,e){return ji(t,"POST","/v1/accounts:signUp",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await mi._fromIdTokenResponse(e,r,i),o=KA(r);return new tr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=KA(r);return new tr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function KA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CW(t){var e;if(pe(t.app))return Promise.reject(St(t));const n=Je(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new tr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await AD(n,{returnSecureToken:!0}),i=await tr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp extends It{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vp(e,n,r,i)}}function PD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Vp._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kW(t,e){const n=q(t);await dg(!0,n,e);const{providerUserInfo:r}=await Lq(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=RD(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function RI(t,e,n=!1){const r=await Ci(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return tr._forOperation(t,"link",r)}async function dg(t,e,n){await nd(e);const r=RD(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";N(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(t,e,n=!1){const{auth:r}=t;if(pe(r.app))return Promise.reject(St(r));const i="reauthenticate";try{const s=await Ci(t,PD(r,i,e,t),n);N(s.idToken,r,"internal-error");const o=lg(s.idToken);N(o,r,"internal-error");const{sub:a}=o;return N(t.uid===a,r,"user-mismatch"),tr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ft(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(t,e,n=!1){if(pe(t.app))return Promise.reject(St(t));const r="signIn",i=await PD(t,r,e),s=await tr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function hg(t,e){return CD(Je(t),e)}async function kD(t,e){const n=q(t);return await dg(!1,n,e.providerId),RI(n,e)}async function xD(t,e){return bD(q(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xW(t,e){return ji(t,"POST","/v1/accounts:signInWithCustomToken",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OW(t,e){if(pe(t.app))return Promise.reject(St(t));const n=Je(t),r=await xW(n,{token:e,returnSecureToken:!0}),i=await tr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?bI._fromServerResponse(e,n):"totpInfo"in n?CI._fromServerResponse(e,n):Ft(e,"internal-error")}}class bI extends Kd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new bI(n)}}class CI extends Kd{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new CI(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e,n){var r;N(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),N(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(N(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(N(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(t){const e=Je(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NW(t,e,n){const r=Je(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&fg(r,i,n),await rd(r,i,"getOobCode",pW)}async function DW(t,e,n){await SD(q(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kI(t),r})}async function LW(t,e){await dW(q(t),{oobCode:e})}async function OD(t,e){const n=q(t),r=await SD(n,{oobCode:e}),i=r.requestType;switch(N(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":N(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":N(r.mfaInfo,n,"internal-error");default:N(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Kd._fromServerResponse(Je(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function MW(t,e){const{data:n}=await OD(q(t),e);return n.email}async function VW(t,e,n){if(pe(t.app))return Promise.reject(St(t));const r=Je(t),o=await rd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AD).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&kI(t),l}),a=await tr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function FW(t,e,n){return pe(t.app)?Promise.reject(St(t)):hg(q(t),Ws.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jW(t,e,n){const r=Je(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){N(a.handleCodeInApp,r,"argument-error"),a&&fg(r,o,a)}s(i,n),await rd(r,i,"getOobCode",mW)}function $W(t,e){const n=cg.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function UW(t,e,n){if(pe(t.app))return Promise.reject(St(t));const r=q(t),i=Ws.credentialWithLink(e,n||td());return N(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),hg(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BW(t,e){return Ze(t,"POST","/v1/accounts:createAuthUri",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zW(t,e){const n=TI()?td():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await BW(q(t),r);return i||[]}async function qW(t,e){const n=q(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&fg(n.auth,i,e);const{email:s}=await fW(n.auth,i);s!==t.email&&await t.reload()}async function WW(t,e,n){const r=q(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&fg(r.auth,s,n);const{email:o}=await gW(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW(t,e){return Ze(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KW(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=q(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ci(r,HW(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function GW(t,e){const n=q(t);return pe(n.auth.app)?Promise.reject(St(n.auth)):ND(n,e,null)}function QW(t,e){return ND(q(t),null,e)}async function ND(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Ci(t,uW(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=lg(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Ya(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new JW(s,i);case"github.com":return new XW(s,i);case"google.com":return new ZW(s,i);case"twitter.com":return new e8(s,i,t.screenName||null);case"custom":case"anonymous":return new Ya(s,null);default:return new Ya(s,r,i)}}class Ya{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class DD extends Ya{constructor(e,n,r,i){super(e,n,r),this.username=i}}class JW extends Ya{constructor(e,n){super(e,"facebook.com",n)}}class XW extends DD{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class ZW extends Ya{constructor(e,n){super(e,"google.com",n)}}class e8 extends DD{constructor(e,n,r){super(e,"twitter.com",n,r)}}function t8(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:YW(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new go("enroll",e,n)}static _fromMfaPendingCredential(e){return new go("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return go._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return go._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Je(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Kd._fromServerResponse(r,a));N(i.mfaPendingCredential,r,"internal-error");const o=go._fromMfaPendingCredential(i.mfaPendingCredential);return new xI(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const c=await tr._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return N(n.user,r,"internal-error"),tr._forOperation(n.user,n.operationType,u);default:Ft(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function n8(t,e){var n;const r=q(t),i=e;return N(e.customData.operationType,r,"argument-error"),N((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),xI._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t,e){return Ze(t,"POST","/v2/accounts/mfaEnrollment:start",Xe(t,e))}function i8(t,e){return Ze(t,"POST","/v2/accounts/mfaEnrollment:finalize",Xe(t,e))}function s8(t,e){return Ze(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Xe(t,e))}class OI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Kd._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new OI(e)}async getSession(){return go._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Ci(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ci(this.user,s8(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const n_=new WeakMap;function o8(t){const e=q(t);return n_.has(e)||n_.set(e,OI._fromUser(e)),n_.get(e)}const Fp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fp,"1"),this.storage.removeItem(Fp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(){const t=ie();return AI(t)||Wl(t)}const l8=1e3,u8=10;class MD extends LD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=a8()&&Hq(),this.fallbackToPolling=wD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Wq()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,u8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},l8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}MD.type="LOCAL";const NI=MD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD extends LD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VD.type="SESSION";const jo=VD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await c8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Gd("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(){return window}function h8(t){ot().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(){return typeof ot().WorkerGlobalScope<"u"&&typeof ot().importScripts=="function"}async function f8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function m8(){return DI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="firebaseLocalStorageDb",g8=1,jp="firebaseLocalStorage",jD="fbase_key";class Qd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mg(t,e){return t.transaction([jp],e?"readwrite":"readonly").objectStore(jp)}function y8(){const t=indexedDB.deleteDatabase(FD);return new Qd(t).toPromise()}function cw(){const t=indexedDB.open(FD,g8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jp,{keyPath:jD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jp)?e(r):(r.close(),await y8(),e(await cw()))})})}async function GA(t,e,n){const r=mg(t,!0).put({[jD]:e,value:n});return new Qd(r).toPromise()}async function _8(t,e){const n=mg(t,!1).get(e),r=await new Qd(n).toPromise();return r===void 0?null:r.value}function QA(t,e){const n=mg(t,!0).delete(e);return new Qd(n).toPromise()}const v8=800,w8=3;class $D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>w8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pg._getInstance(m8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await f8(),!this.activeServiceWorker)return;this.sender=new d8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cw();return await GA(e,Fp,"1"),await QA(e,Fp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>GA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=mg(i,!1).getAll();return new Qd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$D.type="LOCAL";const sd=$D;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t,e){return Ze(t,"POST","/v2/accounts/mfaSignIn:start",Xe(t,e))}function I8(t,e){return Ze(t,"POST","/v2/accounts/mfaSignIn:finalize",Xe(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=500,S8=6e4,Vh=1e12;class A8{constructor(e){this.auth=e,this.counter=Vh,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new P8(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Vh;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Vh;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Vh;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class P8{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;N(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=R8(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},S8)},T8))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function R8(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=ID("rcb"),b8=new qd(3e4,6e4);class C8{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=ot().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return N(k8(n),e,"argument-error"),this.shouldResolveImmediately(n)&&jA(ot().grecaptcha)?Promise.resolve(ot().grecaptcha):new Promise((r,i)=>{const s=ot().setTimeout(()=>{i(ft(e,"network-request-failed"))},b8.get());ot()[r_]=()=>{ot().clearTimeout(s),delete ot()[r_];const a=ot().grecaptcha;if(!a||!jA(a)){i(ft(e,"internal-error"));return}const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${Zq()}?${Er({onload:r_,render:"explicit",hl:n})}`;PI(o).catch(()=>{clearTimeout(s),i(ft(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=ot().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function k8(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class x8{async load(e){return new A8(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="recaptcha",O8={theme:"light",type:"image"};let N8=class{constructor(e,n,r=Object.assign({},O8)){this.parameters=r,this.type=UD,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Je(e),this.isInvisible=this.parameters.size==="invisible",N(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;N(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new x8:new C8,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){N(!this.parameters.sitekey,this.auth,"argument-error"),N(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),N(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=ot()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){N(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){N(TI()&&!DI(),this.auth,"internal-error"),await D8(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Oq(this.auth);N(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return N(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function D8(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Io._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function L8(t,e,n){if(pe(t.app))return Promise.reject(St(t));const r=Je(t),i=await gg(r,e,q(n));return new LI(i,s=>hg(r,s))}async function M8(t,e,n){const r=q(t);await dg(!1,r,"phone");const i=await gg(r.auth,e,q(n));return new LI(i,s=>kD(r,s))}async function V8(t,e,n){const r=q(t);if(pe(r.auth.app))return Promise.reject(St(r.auth));const i=await gg(r.auth,e,q(n));return new LI(i,s=>xD(r,s))}async function gg(t,e,n){var r;const i=await n.verify();try{N(typeof i=="string",t,"argument-error"),N(n.type===UD,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return N(o.type==="enroll",t,"internal-error"),(await r8(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{N(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return N(a,t,"missing-multi-factor-info"),(await E8(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await wW(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function F8(t,e){const n=q(t);if(pe(n.auth.app))return Promise.reject(St(n.auth));await RI(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o=class wf{constructor(e){this.providerId=wf.PROVIDER_ID,this.auth=Je(e)}verifyPhoneNumber(e,n){return gg(this.auth,e,q(n))}static credential(e,n){return Io._fromVerification(e,n)}static credentialFromResult(e){const n=e;return wf.credentialFromTaggedObject(n)}static credentialFromError(e){return wf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Io._fromTokenResponse(n,r):null}};$o.PROVIDER_ID="phone";$o.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t,e){return e?bn(e):(N(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI extends Hl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function j8(t){return CD(t.auth,new MI(t),t.bypassAuthState)}function $8(t){const{auth:e,user:n}=t;return N(n,e,"internal-error"),bD(n,new MI(t),t.bypassAuthState)}async function U8(t){const{auth:e,user:n}=t;return N(n,e,"internal-error"),RI(n,new MI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return j8;case"linkViaPopup":case"linkViaRedirect":return U8;case"reauthViaPopup":case"reauthViaRedirect":return $8;default:Ft(this.auth,"internal-error")}}resolve(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8=new qd(2e3,1e4);async function z8(t,e,n){if(pe(t.app))return Promise.reject(ft(t,"operation-not-supported-in-this-environment"));const r=Je(t);ql(t,e,$i);const i=Xo(r,n);return new gi(r,"signInViaPopup",e,i).executeNotNull()}async function q8(t,e,n){const r=q(t);if(pe(r.auth.app))return Promise.reject(ft(r.auth,"operation-not-supported-in-this-environment"));ql(r.auth,e,$i);const i=Xo(r.auth,n);return new gi(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function W8(t,e,n){const r=q(t);ql(r.auth,e,$i);const i=Xo(r.auth,n);return new gi(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class gi extends BD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,gi.currentPopupAction&&gi.currentPopupAction.cancel(),gi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return N(e,this.auth,"internal-error"),e}async onExecution(){wr(this.filter.length===1,"Popup operations only handle one event");const e=Gd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ft(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ft(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ft(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B8.get())};e()}}gi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8="pendingRedirect",sc=new Map;class K8 extends BD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sc.get(this.auth._key());if(!e){try{const r=await G8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sc.set(this.auth._key(),e)}return this.bypassAuthState||sc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G8(t,e){const n=qD(e),r=zD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function VI(t,e){return zD(t)._set(qD(e),"true")}function Q8(){sc.clear()}function FI(t,e){sc.set(t._key(),e)}function zD(t){return bn(t._redirectPersistence)}function qD(t){return Eo(H8,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t,e,n){return J8(t,e,n)}async function J8(t,e,n){if(pe(t.app))return Promise.reject(St(t));const r=Je(t);ql(t,e,$i),await r._initializationPromise;const i=Xo(r,n);return await VI(i,r),i._openRedirect(r,e,"signInViaRedirect")}function X8(t,e,n){return Z8(t,e,n)}async function Z8(t,e,n){const r=q(t);if(ql(r.auth,e,$i),pe(r.auth.app))return Promise.reject(St(r.auth));await r.auth._initializationPromise;const i=Xo(r.auth,n);await VI(i,r.auth);const s=await WD(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function eH(t,e,n){return tH(t,e,n)}async function tH(t,e,n){const r=q(t);ql(r.auth,e,$i),await r.auth._initializationPromise;const i=Xo(r.auth,n);await dg(!1,r,e.providerId),await VI(i,r.auth);const s=await WD(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function nH(t,e){return await Je(t)._initializationPromise,yg(t,e,!1)}async function yg(t,e,n=!1){if(pe(t.app))return Promise.reject(St(t));const r=Je(t),i=Xo(r,e),o=await new K8(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function WD(t){const e=Gd(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH=10*60*1e3;class HD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ft(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rH&&this.cachedEventUids.clear(),this.cachedEventUids.has(YA(e))}saveEventToCache(e){this.cachedEventUids.add(YA(e)),this.lastProcessedEventTime=Date.now()}}function YA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(t,e={}){return Ze(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oH=/^https?/;async function aH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GD(t);for(const n of e)try{if(lH(n))return}catch{}Ft(t,"unauthorized-domain")}function lH(t){const e=td(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!oH.test(n))return!1;if(sH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH=new qd(3e4,6e4);function JA(){const t=ot().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cH(t){return new Promise((e,n)=>{var r,i,s;function o(){JA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JA(),n(ft(t,"network-request-failed"))},timeout:uH.get()})}if(!((i=(r=ot().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ot().gapi)===null||s===void 0)&&s.load)o();else{const a=ID("iframefcb");return ot()[a]=()=>{gapi.load?o():n(ft(t,"network-request-failed"))},PI(`${tW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ef=null,e})}let Ef=null;function dH(t){return Ef=Ef||cH(t),Ef}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=new qd(5e3,15e3),fH="__/auth/iframe",pH="emulator/auth/iframe",mH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yH(t){const e=t.config;N(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?SI(e,pH):`https://${t.config.authDomain}/${fH}`,r={apiKey:e.apiKey,appName:t.name,v:Fn},i=gH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Er(r).slice(1)}`}async function _H(t){const e=await dH(t),n=ot().gapi;return N(n,t,"internal-error"),e.open({where:document.body,url:yH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ft(t,"network-request-failed"),a=ot().setTimeout(()=>{s(o)},hH.get());function l(){ot().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wH=500,EH=600,IH="_blank",TH="http://localhost";class XA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SH(t,e,n,r=wH,i=EH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},vH),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ie().toLowerCase();n&&(a=gD(u)?IH:n),mD(u)&&(e=e||TH,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(qq(u)&&a!=="_self")return AH(e||"",a),new XA(null);const d=window.open(e||"",a,c);N(d,t,"popup-blocked");try{d.focus()}catch{}return new XA(d)}function AH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH="__/auth/handler",RH="emulator/auth/handler",bH=encodeURIComponent("fac");async function dw(t,e,n,r,i,s){N(t.config.authDomain,t,"auth-domain-config-required"),N(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fn,eventId:i};if(e instanceof $i){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",VC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof Kl){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${bH}=${encodeURIComponent(l)}`:"";return`${CH(t)}?${Er(a).slice(1)}${u}`}function CH({config:t}){return t.emulator?SI(t,RH):`https://${t.authDomain}/${PH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="webStorageSupport";class kH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jo,this._completeRedirectFn=yg,this._overrideRedirectResult=FI}async _openPopup(e,n,r,i){var s;wr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await dw(e,n,r,td(),i);return SH(e,o,Gd())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await dw(e,n,r,td(),i);return h8(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(wr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _H(e),r=new HD(e);return n.register("authEvent",i=>(N(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(i_,{type:i_},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[i_];o!==void 0&&n(!!o),Ft(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wD()||AI()||Wl()}}const xH=kH;class OH{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Fr("unexpected MultiFactorSessionType")}}}class jI extends OH{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new jI(e)}_finalizeEnroll(e,n,r){return i8(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return I8(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class QD{constructor(){}static assertion(e){return jI._fromCredential(e)}}QD.FACTOR_ID="phone";var ZA="@firebase/auth",eP="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LH(t){Qr(new er("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;N(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ED(t)},u=new Jq(r,i,s,l);return sW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qr(new er("auth-internal",e=>{const n=Je(e.getProvider("auth").getImmediate());return(r=>new NH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kn(ZA,eP,DH(t)),kn(ZA,eP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH=5*60;V0("authIdTokenMaxAge");function VH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Xq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ft("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",VH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LH("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=2e3;async function jH(t,e,n){var r;const{BuildInfo:i}=Uo();wr(e.sessionId,"AuthEvent did not contain a session ID");const s=await qH(e.sessionId),o={};return Wl()?o.ibi=i.packageName:Wd()?o.apn=i.packageName:Ft(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,dw(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function $H(t){const{BuildInfo:e}=Uo(),n={};Wl()?n.iosBundleId=e.packageName:Wd()?n.androidPackageName=e.packageName:Ft(t,"operation-not-supported-in-this-environment"),await GD(t,n)}function UH(t){const{cordova:e}=Uo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,zq()?"_blank":"_system","location=yes"),n(i)})})}async function BH(t,e,n){const{cordova:r}=Uo();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(ft(t,"redirect-cancelled-by-user"))},FH))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),Wd()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function zH(t){var e,n,r,i,s,o,a,l,u,c;const d=Uo();N(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),N(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),N(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),N(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),N(typeof((c=(u=d==null?void 0:d.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function qH(t){const e=WH(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function WH(t){if(wr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH=20;class KH extends HD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function GH(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:JH(),postBody:null,tenantId:t.tenantId,error:ft(t,"no-auth-event")}}function QH(t,e){return hw()._set(fw(t),e)}async function tP(t){const e=await hw()._get(fw(t));return e&&await hw()._remove(fw(t)),e}function YH(t,e){var n,r;const i=ZH(e);if(i.includes("/__/auth/callback")){const s=If(i),o=s.firebaseError?XH(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?ft(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function JH(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<HH;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function hw(){return bn(NI)}function fw(t){return Eo("authEvent",t.config.apiKey,t.name)}function XH(t){try{return JSON.parse(t)}catch{return null}}function ZH(t){const e=If(t),n=e.link?decodeURIComponent(e.link):void 0,r=If(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return If(i).link||i||r||n||t}function If(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return hr(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7=500;class t7{constructor(){this._redirectPersistence=jo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yg,this._overrideRedirectResult=FI}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new KH(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Ft(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){zH(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),Q8(),await this._originValidation(e);const o=GH(e,r,i);await QH(e,o);const a=await jH(e,o,n),l=await UH(a);return BH(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$H(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Uo(),o=setTimeout(async()=>{await tP(e),n.onEvent(nP())},e7),a=async c=>{clearTimeout(o);const d=await tP(e);let h=null;d&&(c!=null&&c.url)&&(h=YH(d,c.url)),n.onEvent(h||nP())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;Uo().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(u)&&a({url:c}),typeof l=="function")try{l(c)}catch(d){console.error(d)}}}}const n7=t7;function nP(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ft("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t,e){Je(t)._logFramework(e)}var i7="@firebase/auth-compat",s7="0.5.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7=1e3;function oc(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function a7(){return oc()==="http:"||oc()==="https:"}function YD(t=ie()){return!!((oc()==="file:"||oc()==="ionic:"||oc()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function l7(){return mm()||F0()}function u7(){return $0()&&(document==null?void 0:document.documentMode)===11}function c7(t=ie()){return/Edge\/\d+/.test(t)}function d7(t=ie()){return u7()||c7(t)}function JD(){try{const t=self.localStorage,e=Gd();if(t)return t.setItem(e,"1"),t.removeItem(e),d7()?xc():!0}catch{return $I()&&xc()}return!1}function $I(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function s_(){return(a7()||j0()||YD())&&!l7()&&JD()&&!$I()}function XD(){return YD()&&typeof document<"u"}async function h7(){return XD()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},o7);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function f7(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn={LOCAL:"local",NONE:"none",SESSION:"session"},wu=N,ZD="persistence";function p7(t,e){if(wu(Object.values(Sn).includes(e),t,"invalid-persistence-type"),mm()){wu(e!==Sn.SESSION,t,"unsupported-persistence-type");return}if(F0()){wu(e===Sn.NONE,t,"unsupported-persistence-type");return}if($I()){wu(e===Sn.NONE||e===Sn.LOCAL&&xc(),t,"unsupported-persistence-type");return}wu(e===Sn.NONE||JD(),t,"unsupported-persistence-type")}async function pw(t){await t._initializationPromise;const e=eL(),n=Eo(ZD,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function m7(t,e){const n=eL();if(!n)return[];const r=Eo(ZD,t,e);switch(n.getItem(r)){case Sn.NONE:return[Tl];case Sn.LOCAL:return[sd,jo];case Sn.SESSION:return[jo];default:return[]}}function eL(){var t;try{return((t=f7())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7=N;class us{constructor(){this.browserResolver=bn(xH),this.cordovaResolver=bn(n7),this.underlyingResolver=null,this._redirectPersistence=jo,this._completeRedirectFn=yg,this._overrideRedirectResult=FI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return XD()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return g7(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await h7();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){return t.unwrap()}function y7(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(t){return nL(t)}function v7(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new w7(t,n8(t,e))}else if(r){const i=nL(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function nL(t){const{_tokenResponse:e}=t instanceof It?t.customData:t;if(!e)return null;if(!(t instanceof It)&&"temporaryProof"in e&&"phoneNumber"in e)return $o.credentialFromResult(t);const n=e.providerId;if(!n||n===vu.PASSWORD)return null;let r;switch(n){case vu.GOOGLE:r=kr;break;case vu.FACEBOOK:r=Cr;break;case vu.GITHUB:r=xr;break;case vu.TWITTER:r=Or;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Sl._create(n,a):Xr._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Qa(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof It?r.credentialFromError(t):r.credentialFromResult(t)}function dn(t,e){return e.catch(n=>{throw n instanceof It&&v7(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:_7(n),additionalUserInfo:t8(n),user:yi.getOrCreate(i)}})}async function mw(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>dn(t,n.confirm(r))}}class w7{constructor(e,n){this.resolver=n,this.auth=y7(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return dn(tL(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this._delegate=e,this.multiFactor=o8(e)}static getOrCreate(e){return yi.USER_MAP.has(e)||yi.USER_MAP.set(e,new yi(e)),yi.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return dn(this.auth,kD(this._delegate,e))}async linkWithPhoneNumber(e,n){return mw(this.auth,M8(this._delegate,e,n))}async linkWithPopup(e){return dn(this.auth,W8(this._delegate,e,us))}async linkWithRedirect(e){return await pw(Je(this.auth)),eH(this._delegate,e,us)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return dn(this.auth,xD(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return mw(this.auth,V8(this._delegate,e,n))}reauthenticateWithPopup(e){return dn(this.auth,q8(this._delegate,e,us))}async reauthenticateWithRedirect(e){return await pw(Je(this.auth)),X8(this._delegate,e,us)}sendEmailVerification(e){return qW(this._delegate,e)}async unlink(e){return await kW(this._delegate,e),this}updateEmail(e){return GW(this._delegate,e)}updatePassword(e){return QW(this._delegate,e)}updatePhoneNumber(e){return F8(this._delegate,e)}updateProfile(e){return KW(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return WW(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yi.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=N;let gw=class{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Eu(r,"invalid-api-key",{appName:e.name}),Eu(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?us:void 0;this._delegate=n.initialize({options:{persistence:E7(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Iq),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?yi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){oW(this._delegate,e,n)}applyActionCode(e){return LW(this._delegate,e)}checkActionCode(e){return OD(this._delegate,e)}confirmPasswordReset(e,n){return DW(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return dn(this._delegate,VW(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return zW(this._delegate,e)}isSignInWithEmailLink(e){return $W(this._delegate,e)}async getRedirectResult(){Eu(s_(),this._delegate,"operation-not-supported-in-this-environment");const e=await nH(this._delegate,us);return e?dn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){r7(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=rP(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=rP(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return jW(this._delegate,e,n)}sendPasswordResetEmail(e,n){return NW(this._delegate,e,n||void 0)}async setPersistence(e){p7(this._delegate,e);let n;switch(e){case Sn.SESSION:n=jo;break;case Sn.LOCAL:n=await bn(sd)._isAvailable()?sd:NI;break;case Sn.NONE:n=Tl;break;default:return Ft("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return dn(this._delegate,CW(this._delegate))}signInWithCredential(e){return dn(this._delegate,hg(this._delegate,e))}signInWithCustomToken(e){return dn(this._delegate,OW(this._delegate,e))}signInWithEmailAndPassword(e,n){return dn(this._delegate,FW(this._delegate,e,n))}signInWithEmailLink(e,n){return dn(this._delegate,UW(this._delegate,e,n))}signInWithPhoneNumber(e,n){return mw(this._delegate,L8(this._delegate,e,n))}async signInWithPopup(e){return Eu(s_(),this._delegate,"operation-not-supported-in-this-environment"),dn(this._delegate,z8(this._delegate,e,us))}async signInWithRedirect(e){return Eu(s_(),this._delegate,"operation-not-supported-in-this-environment"),await pw(this._delegate),Y8(this._delegate,e,us)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return MW(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};gw.Persistence=Sn;function rP(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&yi.getOrCreate(o)),error:e,complete:n}}function E7(t,e){const n=m7(t,e);if(typeof self<"u"&&!n.includes(sd)&&n.push(sd),typeof window<"u")for(const r of[NI,jo])n.includes(r)||n.push(r);return n.includes(Tl)||n.push(Tl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.providerId="phone",this._delegate=new $o(tL(Ol.auth()))}static credential(e,n){return $o.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}UI.PHONE_SIGN_IN_METHOD=$o.PHONE_SIGN_IN_METHOD;UI.PROVIDER_ID=$o.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=N;class T7{constructor(e,n,r=Ol.app()){var i;I7((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new N8(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7="auth-compat";function A7(t){t.INTERNAL.registerComponent(new er(S7,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new gw(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:aa.EMAIL_SIGNIN,PASSWORD_RESET:aa.PASSWORD_RESET,RECOVER_EMAIL:aa.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:aa.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:aa.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:aa.VERIFY_EMAIL}},EmailAuthProvider:Ws,FacebookAuthProvider:Cr,GithubAuthProvider:xr,GoogleAuthProvider:kr,OAuthProvider:Qa,SAMLAuthProvider:Mp,PhoneAuthProvider:UI,PhoneMultiFactorGenerator:QD,RecaptchaVerifier:T7,TwitterAuthProvider:Or,Auth:gw,AuthCredential:Hl,Error:It}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(i7,s7)}A7(Ol);const P7="AIzaSyBksVgaTPEa0nEUGdv8u9gBPG-xA1v6Xmg",R7={apiKey:P7,authDomain:"netflix-e14db.firebaseapp.com",projectId:"netflix-e14db",storageBucket:"netflix-e14db.appspot.com",messagingSenderId:"198587944759",appId:"1:198587944759:web:a372f64447f92499f454b2"},rL=Ol.initializeApp(R7),ac=i5(rL),iL=rL.firestore(),ei=P.createContext(),b7=({children:t,reducer:e,intialState:n})=>f.jsx(ei.Provider,{value:P.useReducer(e,n),children:t}),C7="/assets/amazon_PNG11-CQgVdVz3.png",k7="_lower__container_1e33f_5",x7="_canvas_header_1e33f_71",O7={lower__container:k7,canvas_header:x7};function N7(t){return Ni({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M27 193.6c-8.2-8.2-12.2-18.6-12.2-31.2s4-23 12.2-31.2S45.6 119 58.2 119h912.4c12.6 0 23 4 31.2 12.2s12.2 18.6 12.2 31.2-4 23-12.2 31.2-18.6 12.2-31.2 12.2H58.2c-12.6 0-23-4-31.2-12.2zm974.8 285.2c8.2 8.2 12.2 18.6 12.2 31.2s-4 23-12.2 31.2-18.6 12.2-31.2 12.2H58.2c-12.6 0-23-4-31.2-12.2S14.8 522.6 14.8 510s4-23 12.2-31.2 18.6-12.2 31.2-12.2h912.4c12.6 0 23 4 31.2 12.2zm0 347.4c8.2 8.2 12.2 18.6 12.2 31.2s-4 23-12.2 31.2-18.6 12.2-31.2 12.2H58.2c-12.6 0-23-4-31.2-12.2S14.8 870 14.8 857.4s4-23 12.2-31.2S45.6 814 58.2 814h912.4c12.6 0 23 4.2 31.2 12.2z"},child:[]}]})(t)}function D7(t){return Ni({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2a9 9 0 0 0-9 9c0 4.17 2.84 7.67 6.69 8.69L12 22l2.31-2.31C18.16 18.67 21 15.17 21 11a9 9 0 0 0-9-9zm0 2c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.3a7.2 7.2 0 0 1-6-3.22c.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08a7.2 7.2 0 0 1-6 3.22z"},child:[]}]})(t)}function L7(t){return Ni({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"},child:[]}]})(t)}const M7="_no_scroll_15f3v_1",V7="_backdrop_15f3v_11",F7="_offcanvas_15f3v_31",j7="_show_15f3v_57",$7="_menu_15f3v_67",U7="_canvas_header_15f3v_107",B7="_canvas_container_15f3v_175",z7="_canva_container_15f3v_223",q7="_c_all_15f3v_223",$n={no_scroll:M7,backdrop:V7,offcanvas:F7,show:j7,menu:$7,canvas_header:U7,canvas_container:B7,canva_container:z7,c_all:q7};function W7(){const[t,e]=P.useState(!1),n=()=>{e(!t),t?document.body.classList.remove(`${$n.no_scroll}`):document.body.classList.add(`${$n.no_scroll}`)},r=()=>{e(!1),document.body.classList.remove(`${$n.no_scroll}`)};return f.jsxs("div",{className:$n.offcanvas_container,children:[f.jsxs("button",{onClick:n,className:$n.menu,children:[f.jsx(N7,{size:22})," ",f.jsx("p",{children:"All"})]}),f.jsx("div",{className:`${$n.offcanvas}  ${t?`${$n.show}`:""}`,children:f.jsxs("div",{className:$n.canvas_container,children:[f.jsxs("div",{className:$n.canvas_header,style:{display:"flex",justifyContent:"space-between"},children:[f.jsxs("div",{children:[f.jsx(D7,{size:30}),f.jsx("span",{children:"Hello, Sign in"})]}),f.jsx("div",{onClick:r,style:{cursor:"pointer"},children:f.jsx(L7,{size:30})})]}),f.jsxs("div",{children:[f.jsx("h4",{children:"Digital Contents & Devices"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(j,{to:"/",children:"Amazon Music"})}),f.jsx("li",{children:f.jsx(j,{to:"/",children:"Kindle E-readers & Books"})}),f.jsx("li",{children:f.jsx(j,{to:"/",children:"Amazon Appstore"})})]})]}),f.jsxs("div",{children:[f.jsx("h4",{children:"Shop by Department"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(j,{to:"/",children:"Electronics"})}),f.jsx("li",{children:f.jsx(j,{to:"/",children:"Computers"})}),f.jsx("li",{children:f.jsx(j,{to:"/",children:"Smart Home"})}),f.jsx("li",{children:f.jsx(j,{to:"/",children:"Arts & Crafts"})}),f.jsx("li",{className:$n.c_all,children:f.jsx(j,{to:"/",children:"See all"})})]})]}),f.jsxs("div",{children:[f.jsx("h4",{children:"Programs & Feature"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(j,{to:"/",children:"Gift Cards"})}),f.jsx("li",{children:f.jsx(j,{to:"/",children:"Shop By Interest"})}),f.jsx("li",{children:f.jsx(j,{to:"/",children:"Amazon Live"})}),f.jsx("li",{children:f.jsx(j,{to:"/",children:"International Shopping"})}),f.jsx("li",{className:$n.c_all,children:f.jsx(j,{to:"/",children:"See all"})})]})]}),f.jsxs("div",{children:[f.jsx("h4",{children:"Help & Settings"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(j,{to:"/",children:"Your Account"})}),f.jsx("li",{children:f.jsx(j,{to:"/",children:"English"})}),f.jsx("li",{children:f.jsx(j,{to:"/",children:"United States"})}),f.jsx("li",{children:f.jsx(j,{to:"/",children:"Customer Service"})}),f.jsx("li",{children:f.jsx(j,{to:"/auth",children:"Sign In"})})]})]})]})}),t&&f.jsx("div",{className:$n.backdrop,onClick:r})]})}const H7=()=>f.jsx("div",{className:O7.lower__container,children:f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(W7,{})}),f.jsx("li",{children:"Today's Deall"}),f.jsx("li",{children:"Customer Sercvice"}),f.jsx("li",{children:"Registry"}),f.jsx("li",{children:"Gift Cards"}),f.jsx("li",{children:"Sell"})]})});function K7(t){return Ni({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function G7(t){return Ni({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(t)}function Q7(){var u;const[t,e]=P.useState(""),[{basket:n,user:r},i]=P.useContext(ei),s=n==null?void 0:n.reduce((c,d)=>d.amount+c,0),o=xl(),a=()=>{o("/auth")};P.useEffect(()=>{(async()=>{try{navigator.geolocation?navigator.geolocation.getCurrentPosition(async d=>{const{latitude:h,longitude:p}=d.coords,m=await l(h,p);e(m)},d=>{console.error("Error fetching geolocation data:",d),e(" ")}):(console.error("Geolocation is not supported by this browser."),e(" "))}catch(d){console.error("Error fetching location:",d),e(" ")}})()},[]);const l=async(c,d)=>{try{const p=await(await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${c}&longitude=${d}&localityLanguage=en`)).json();return p.city||p.locality||p.region||p.countryName}catch(h){return console.error("Error fetching location name:",h)," "}};return f.jsxs("div",{className:ct.sticky,children:[f.jsx("div",{className:ct.header_outer_container,children:f.jsxs("div",{className:ct.header_inner_container,children:[f.jsxs("div",{className:ct.header_left,children:[f.jsx("div",{children:f.jsx(j,{to:"/",children:f.jsx("img",{src:C7,alt:"amazon logo"})})}),f.jsxs("div",{className:ct.location_container,children:[f.jsx("span",{children:f.jsx(r$,{size:20})}),f.jsxs("div",{className:ct.location,children:[f.jsxs("p",{children:["Deliver to ",f.jsx("br",{})," ",f.jsx("span",{className:"  ethiopia",children:"Ethiopa"})," "]}),f.jsx("p",{children:t})]})]})]}),f.jsxs("div",{className:ct.header_middle,children:[f.jsx("select",{name:"",id:"",children:f.jsx("option",{value:"",children:"All"})}),f.jsx("input",{type:"search",name:"",id:"",placeholder:"Search Amazon"}),f.jsx(i$,{size:38})]}),f.jsxs("div",{className:ct.header_right,children:[f.jsxs(j,{to:"",className:ct.first_link,children:[f.jsx("img",{src:"https://image.shutterstock.com/image-vector/vector-image-american-flag-260nw-157626554.jpg",alt:""}),f.jsx("select",{name:"",id:"",children:f.jsx("option",{value:"",children:"EN"})})]}),f.jsx(f.Fragment,{}),f.jsx(j,{to:!r&&"/auth",className:ct.userLink,children:f.jsx("div",{children:r?f.jsxs(f.Fragment,{children:[f.jsxs("p",{children:["Hello,",(u=r==null?void 0:r.email)==null?void 0:u.split("@")[0]]}),f.jsx("span",{onClick:()=>ac.signOut(),children:" Sign Out"})]}):f.jsxs(f.Fragment,{children:[f.jsx("p",{children:"Hello,sign in"}),f.jsx("p",{children:"Accounts & Lists"})]})})}),f.jsx("div",{className:ct.accAndLists,children:f.jsxs("div",{className:ct.header_signIn_btn,children:[!r&&f.jsxs("div",{className:ct.text_center,children:[f.jsx("button",{onClick:a,children:" Sign In"}),f.jsxs("div",{className:ct.sign_here,children:["New Customer ? ",f.jsx("span",{children:"start here"})]})]}),f.jsxs("div",{className:ct.signAcc_lists,children:[f.jsxs("div",{children:[f.jsx("h4",{children:"Your Lists"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx("a",{href:"",children:"Create a List"})}),f.jsx("li",{children:f.jsx("a",{href:"",children:"Find a List or Registry"})})]})]}),f.jsxs("div",{className:ct.vertical,children:[f.jsx("h4",{children:"Your Accounts"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx("a",{href:"",children:"Account"})}),f.jsx("li",{children:f.jsx("a",{href:"",children:"Orders"})}),f.jsx("li",{children:f.jsx("a",{href:"",children:"Recommendations"})}),f.jsx("li",{children:f.jsx("a",{href:"",children:"Browsing Hsitory"})}),f.jsx("li",{children:f.jsx("a",{href:"",children:"Watch Lists"})}),f.jsx("li",{children:f.jsx("a",{href:"",children:"Video Purchases & Rentals"})}),f.jsx("li",{children:f.jsx("a",{href:"",children:"Kindle Unlimted"})}),f.jsx("li",{children:f.jsx("a",{href:"",children:"Content & Devices"})}),f.jsx("li",{children:f.jsx("a",{href:"",children:"subscribe & Save items"})}),f.jsx("li",{children:f.jsx("a",{href:"",children:"Memberships & Subscriptions"})}),f.jsx("li",{children:f.jsx("a",{href:"",children:"Music Library"})})]})]})]})]})}),f.jsxs(j,{to:"/orders",children:[f.jsx("p",{className:ct.returns,children:"Returns"}),f.jsx("p",{className:ct.orders,children:"& Orders"})]}),f.jsxs(j,{to:"/cart",className:ct.cart,children:[f.jsx(s$,{size:36})," ",f.jsx("span",{children:s})]})]})]})}),f.jsx(H7,{})]})}const Y7="_footer_signIn_btn_16s49_3",J7="_backT_top_16s49_71",X7="_footer_links_container_16s49_93",Z7="_footer_links_16s49_93",eK="_footer_16s49_3",tK="_img_container_16s49_179",nK="_select_16s49_211",rK="_select_no_arrow_16s49_221",iK="_amazon_16s49_235",sK="_amz_links_16s49_251",Un={footer_signIn_btn:Y7,backT_top:J7,footer_links_container:X7,footer_links:Z7,footer:eK,img_container:tK,select:nK,select_no_arrow:rK,amazon:iK,amz_links:sK};function oK(t){return Ni({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M3.6 9h16.8"},child:[]},{tag:"path",attr:{d:"M3.6 15h16.8"},child:[]},{tag:"path",attr:{d:"M11.5 3a17 17 0 0 0 0 18"},child:[]},{tag:"path",attr:{d:"M12.5 3a17 17 0 0 1 0 18"},child:[]}]})(t)}const aK=()=>{const[{user:t},e]=P.useContext(ei),n=xl(),[r,i]=P.useState(window.innerWidth<800),s=()=>{n("/auth")},o=()=>{window.scrollTo({top:0,behavior:"smooth"})};return P.useEffect(()=>{const a=()=>{i(window.innerWidth<800)};return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),f.jsxs("footer",{id:"footer",children:[!t&&f.jsxs("div",{className:Un.footer_signIn_btn,children:[f.jsx("div",{children:" See Personalised recommendations"}),f.jsx("button",{onClick:s,children:" Sign In"}),f.jsxs("div",{children:["New Customer ? ",f.jsx("span",{children:"start here"})]})]}),f.jsx("div",{className:Un.backT_top,onClick:o,children:"Back to Top "}),f.jsx("div",{className:Un.footer_links_container,children:f.jsxs("div",{className:Un.footer_links,children:[f.jsx("div",{children:r?f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Get to Know Us"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(j,{to:"https://www.amazon.com/",children:"Amazon.com"})}),f.jsx("li",{children:f.jsx(j,{to:"/orders",children:"Your Lists"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Find a Gift"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Browsing History"})}),f.jsx("li",{children:f.jsx(j,{to:"#header",children:"Returns"})})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Get to Know Us"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(j,{to:"",children:"Careers"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Blog"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"About Amazon"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Investor Relations"})}),f.jsx("li",{children:f.jsx(j,{to:"#cat",children:"Amazon Devices"})}),f.jsx("li",{children:f.jsx("a",{href:"#cat",children:"Amazon Science"})})]})]})}),f.jsx("div",{children:r?f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Make Money with Us"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(j,{to:"/orders",children:"Your Orders"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Gift Cards and Registry"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Your Account"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Sell products on Amazon"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Avertise Your Products"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:" Security Alerts"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Recalls and Products"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:" Customer Service"})})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:"Make Money with Us"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(j,{to:"",children:"Sell products on Amazon"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Sell on Amazon Business"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Sell apps on Amazon"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Become an Affilate"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Avertise Your Products"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Self Publish with Us"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Host an Amazon Hub"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:" See More Make Money with Us"})})]})]})}),f.jsxs("div",{children:[f.jsx("h3",{children:"Amazon Payement Products"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(j,{to:"",children:"Amazon Business Card"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Shop with Points"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"About Amazon"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Reload Your Balance"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Amazon Currency Converter"})})]})]}),f.jsxs("div",{children:[f.jsx("h3",{children:"Let Us Help You"}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(j,{to:"",children:"Amazon and COVID-19"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Your Account"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Your Orders"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Shipping Rates & Policies"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Returns & Replacements"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Manage Your Content and Devices"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:"Amazon Assitant"})}),f.jsx("li",{children:f.jsx(j,{to:"",children:" Help"})})]})]})]})}),f.jsxs("div",{className:Un.footer,children:[f.jsx("div",{className:Un.img_container,children:f.jsx(j,{to:"",children:f.jsx("img",{src:"https://pngimg.com/uploads/amazon/small/amazon_PNG11.png",alt:""})})}),f.jsxs("div",{className:Un.select,children:[f.jsxs("select",{name:"",id:"",className:Un.selecton,children:[f.jsx("option",{value:"",hidden:!0,children:"  English"}),f.jsx("option",{value:"",children:"  France"}),f.jsx("option",{value:"",children:"  Protugues"}),f.jsx("option",{value:"",children:" Spanish"})]}),f.jsx("select",{name:"",id:"",className:Un.select_no_arrow,children:f.jsx("option",{value:f.jsx(oK,{}),children:"$ USD- U.S Dollar"})}),f.jsx("select",{name:"",id:"us",className:Un.select_no_arrow,children:f.jsx("option",{value:"",children:"United States"})})]})]}),f.jsxs("div",{className:Un.amazon,children:[f.jsx("div",{className:Un.amz_links,children:f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(j,{to:"/",children:"Condition of Use"})}),f.jsx("li",{children:f.jsx(j,{to:"/",children:"Privacy Notice"})}),f.jsx("li",{children:f.jsx(j,{to:"/",children:"Cosumer Health Data Privacy Disclosure"})}),f.jsx("li",{children:f.jsx(j,{to:"/",children:"Yours Ads Privacy Choices"})})]})}),f.jsx("div",{children:" 1996-2024,Amazon ,Inc or . its affilates"})]})]})};function Gl({children:t}){return f.jsxs("div",{children:[f.jsx(Q7,{}),t,f.jsx(aK,{})]})}const lK="/assets/two-BPr44Ttk.jpeg",uK="/assets/three-Fp0oaH3y.jpeg",cK="/assets/four-Dfn5sYZL.jpeg",dK="/assets/bg1-bl35EseN.jpg",hK="/assets/six-CO6XiwvK.jpg",fK="/assets/seven-DwRbPhOz.jpg",pK=[dK,uK,cK,lK,hK,fK],mK="_fade_effect_qf68w_1",gK={fade_effect:mK};var sL={},_g={},BI={},o_={},oL={exports:{}},yK="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_K=yK,vK=_K;function aL(){}function lL(){}lL.resetWarningCache=aL;var wK=function(){function t(r,i,s,o,a,l){if(l!==vK){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:lL,resetWarningCache:aL};return n.PropTypes=n,n};oL.exports=wK();var uL=oL.exports;const Ve=jw(uL);var iP;function EK(){return iP||(iP=1,function(t){(function(e,n){n(t,P,uL)})(Fw,function(e,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=m;var i=o(n),s=o(r);function o(y){return y&&y.__esModule?y:{default:y}}var a=Object.assign||function(y){for(var _=1;_<arguments.length;_++){var I=arguments[_];for(var E in I)Object.prototype.hasOwnProperty.call(I,E)&&(y[E]=I[E])}return y};function l(y,_){var I={};for(var E in y)_.indexOf(E)>=0||Object.prototype.hasOwnProperty.call(y,E)&&(I[E]=y[E]);return I}function u(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}var c=function(){function y(_,I){for(var E=0;E<I.length;E++){var T=I[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,I,E){return I&&y(_.prototype,I),E&&y(_,E),_}}();function d(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function h(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var p=!1;function m(y){p=y}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){m(!0)}}))}catch{}function g(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return p?y:y.capture}function w(y){if("touches"in y){var _=y.touches[0],I=_.pageX,E=_.pageY;return{x:I,y:E}}var T=y.screenX,S=y.screenY;return{x:T,y:S}}var v=function(y){h(_,y);function _(){var I;u(this,_);for(var E=arguments.length,T=Array(E),S=0;S<E;S++)T[S]=arguments[S];var C=d(this,(I=_.__proto__||Object.getPrototypeOf(_)).call.apply(I,[this].concat(T)));return C._handleSwipeStart=C._handleSwipeStart.bind(C),C._handleSwipeMove=C._handleSwipeMove.bind(C),C._handleSwipeEnd=C._handleSwipeEnd.bind(C),C._onMouseDown=C._onMouseDown.bind(C),C._onMouseMove=C._onMouseMove.bind(C),C._onMouseUp=C._onMouseUp.bind(C),C._setSwiperRef=C._setSwiperRef.bind(C),C}return c(_,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,g({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,g({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(E){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(E))}},{key:"_onMouseMove",value:function(E){this.mouseDown&&this._handleSwipeMove(E)}},{key:"_onMouseUp",value:function(E){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(E)}},{key:"_handleSwipeStart",value:function(E){var T=w(E),S=T.x,C=T.y;this.moveStart={x:S,y:C},this.props.onSwipeStart(E)}},{key:"_handleSwipeMove",value:function(E){if(this.moveStart){var T=w(E),S=T.x,C=T.y,F=S-this.moveStart.x,D=C-this.moveStart.y;this.moving=!0;var ee=this.props.onSwipeMove({x:F,y:D},E);ee&&E.cancelable&&E.preventDefault(),this.movePosition={deltaX:F,deltaY:D}}}},{key:"_handleSwipeEnd",value:function(E){this.props.onSwipeEnd(E);var T=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-T?this.props.onSwipeLeft(1,E):this.movePosition.deltaX>T&&this.props.onSwipeRight(1,E),this.movePosition.deltaY<-T?this.props.onSwipeUp(1,E):this.movePosition.deltaY>T&&this.props.onSwipeDown(1,E)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(E){this.swiper=E,this.props.innerRef(E)}},{key:"render",value:function(){var E=this.props;E.tagName;var T=E.className,S=E.style,C=E.children;E.allowMouseEvents,E.onSwipeUp,E.onSwipeDown,E.onSwipeLeft,E.onSwipeRight,E.onSwipeStart,E.onSwipeMove,E.onSwipeEnd,E.innerRef,E.tolerance;var F=l(E,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,a({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:T,style:S},F),C)}}]),_}(n.Component);v.displayName="ReactSwipe",v.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},v.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=v})}(o_)),o_}(function(t){(function(e,n){n(t,EK())})(Fw,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})})(BI);var Yd={},cL={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(cL);var IK=cL.exports;Object.defineProperty(Yd,"__esModule",{value:!0});Yd.default=void 0;var Gi=TK(IK);function TK(t){return t&&t.__esModule?t:{default:t}}function SK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var AK={ROOT:function(e){return(0,Gi.default)(SK({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,Gi.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,n){return(0,Gi.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(e,n){return(0,Gi.default)({thumbs:!e,slider:e,animated:!n})},ITEM:function(e,n,r){return(0,Gi.default)({thumb:!e,slide:e,selected:n,previous:r})},ARROW_PREV:function(e){return(0,Gi.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,Gi.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,Gi.default)({dot:!0,selected:e})}};Yd.default=AK;var Jd={},vg={};Object.defineProperty(vg,"__esModule",{value:!0});vg.outerWidth=void 0;var PK=function(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseInt(r.marginLeft)+parseInt(r.marginRight),n};vg.outerWidth=PK;var Ql={};Object.defineProperty(Ql,"__esModule",{value:!0});Ql.default=void 0;var RK=function(e,n,r){var i=e===0?e:e+n,s=r==="horizontal"?[i,0,0]:[0,i,0],o="translate3d",a="("+s.join(",")+")";return o+a};Ql.default=RK;var Xd={};Object.defineProperty(Xd,"__esModule",{value:!0});Xd.default=void 0;var bK=function(){return window};Xd.default=bK;Object.defineProperty(Jd,"__esModule",{value:!0});Jd.default=void 0;var ar=xK(P),Ys=wg(Yd),CK=vg,sP=wg(Ql),kK=wg(BI),Fh=wg(Xd);function wg(t){return t&&t.__esModule?t:{default:t}}function dL(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return dL=function(){return t},t}function xK(t){if(t&&t.__esModule)return t;if(t===null||lc(t)!=="object"&&typeof t!="function")return{default:t};var e=dL();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function lc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lc=function(n){return typeof n}:lc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},lc(t)}function yw(){return yw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yw.apply(this,arguments)}function OK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function DK(t,e,n){return e&&NK(t.prototype,e),t}function LK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_w(t,e)}function _w(t,e){return _w=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},_w(t,e)}function MK(t){var e=FK();return function(){var r=$p(t),i;if(e){var s=$p(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return VK(this,i)}}function VK(t,e){return e&&(lc(e)==="object"||typeof e=="function")?e:Jt(t)}function Jt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},$p(t)}function Wt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var jK=function(e){return e.hasOwnProperty("key")},zI=function(t){LK(n,t);var e=MK(n);function n(r){var i;return OK(this,n),i=e.call(this,r),Wt(Jt(i),"itemsWrapperRef",void 0),Wt(Jt(i),"itemsListRef",void 0),Wt(Jt(i),"thumbsRef",void 0),Wt(Jt(i),"setItemsWrapperRef",function(s){i.itemsWrapperRef=s}),Wt(Jt(i),"setItemsListRef",function(s){i.itemsListRef=s}),Wt(Jt(i),"setThumbsRef",function(s,o){i.thumbsRef||(i.thumbsRef=[]),i.thumbsRef[o]=s}),Wt(Jt(i),"updateSizes",function(){if(!(!i.props.children||!i.itemsWrapperRef||!i.thumbsRef)){var s=ar.Children.count(i.props.children),o=i.itemsWrapperRef.clientWidth,a=i.props.thumbWidth?i.props.thumbWidth:(0,CK.outerWidth)(i.thumbsRef[0]),l=Math.floor(o/a),u=l<s,c=u?s-l:0;i.setState(function(d,h){return{itemSize:a,visibleItems:l,firstItem:u?i.getFirstItem(h.selectedItem):0,lastPosition:c,showArrows:u}})}}),Wt(Jt(i),"handleClickItem",function(s,o,a){if(!jK(a)||a.key==="Enter"){var l=i.props.onSelectItem;typeof l=="function"&&l(s,o)}}),Wt(Jt(i),"onSwipeStart",function(){i.setState({swiping:!0})}),Wt(Jt(i),"onSwipeEnd",function(){i.setState({swiping:!1})}),Wt(Jt(i),"onSwipeMove",function(s){var o=s.x;if(!i.state.itemSize||!i.itemsWrapperRef||!i.state.visibleItems)return!1;var a=0,l=ar.Children.count(i.props.children),u=-(i.state.firstItem*100)/i.state.visibleItems,c=Math.max(l-i.state.visibleItems,0),d=-c*100/i.state.visibleItems;u===a&&o>0&&(o=0),u===d&&o<0&&(o=0);var h=i.itemsWrapperRef.clientWidth,p=u+100/(h/o);return i.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(m){i.itemsListRef.style[m]=(0,sP.default)(p,"%",i.props.axis)}),!0}),Wt(Jt(i),"slideRight",function(s){i.moveTo(i.state.firstItem-(typeof s=="number"?s:1))}),Wt(Jt(i),"slideLeft",function(s){i.moveTo(i.state.firstItem+(typeof s=="number"?s:1))}),Wt(Jt(i),"moveTo",function(s){s=s<0?0:s,s=s>=i.state.lastPosition?i.state.lastPosition:s,i.setState({firstItem:s})}),i.state={selectedItem:r.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},i}return DK(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(i){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==i.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,Fh.default)().addEventListener("resize",this.updateSizes),(0,Fh.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,Fh.default)().removeEventListener("resize",this.updateSizes),(0,Fh.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(i){var s=i;return i>=this.state.lastPosition&&(s=this.state.lastPosition),i<this.state.firstItem+this.state.visibleItems&&(s=this.state.firstItem),i<this.state.firstItem&&(s=i),s}},{key:"renderItems",value:function(){var i=this;return this.props.children.map(function(s,o){var a=Ys.default.ITEM(!1,o===i.state.selectedItem),l={key:o,ref:function(c){return i.setThumbsRef(c,o)},className:a,onClick:i.handleClickItem.bind(i,o,i.props.children[o]),onKeyDown:i.handleClickItem.bind(i,o,i.props.children[o]),"aria-label":"".concat(i.props.labels.item," ").concat(o+1),style:{width:i.props.thumbWidth}};return ar.default.createElement("li",yw({},l,{role:"button",tabIndex:0}),s)})}},{key:"render",value:function(){var i=this;if(!this.props.children)return null;var s=ar.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,a=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,l={},u=-this.state.firstItem*(this.state.itemSize||0),c=(0,sP.default)(u,"px",this.props.axis),d=this.props.transitionTime+"ms";return l={WebkitTransform:c,MozTransform:c,MsTransform:c,OTransform:c,transform:c,msTransform:c,WebkitTransitionDuration:d,MozTransitionDuration:d,MsTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d},ar.default.createElement("div",{className:Ys.default.CAROUSEL(!1)},ar.default.createElement("div",{className:Ys.default.WRAPPER(!1),ref:this.setItemsWrapperRef},ar.default.createElement("button",{type:"button",className:Ys.default.ARROW_PREV(!o),onClick:function(){return i.slideRight()},"aria-label":this.props.labels.leftArrow}),s?ar.default.createElement(kK.default,{tagName:"ul",className:Ys.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:l,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):ar.default.createElement("ul",{className:Ys.default.SLIDER(!1,this.state.swiping),ref:function(p){return i.setItemsListRef(p)},style:l},this.renderItems()),ar.default.createElement("button",{type:"button",className:Ys.default.ARROW_NEXT(!a),onClick:function(){return i.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(ar.Component);Jd.default=zI;Wt(zI,"displayName","Thumbs");Wt(zI,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var Eg={};Object.defineProperty(Eg,"__esModule",{value:!0});Eg.default=void 0;var $K=function(){return document};Eg.default=$K;var An={};Object.defineProperty(An,"__esModule",{value:!0});An.setPosition=An.getPosition=An.isKeyboardEvent=An.defaultStatusFormatter=An.noop=void 0;var UK=P,BK=zK(Ql);function zK(t){return t&&t.__esModule?t:{default:t}}var qK=function(){};An.noop=qK;var WK=function(e,n){return"".concat(e," of ").concat(n)};An.defaultStatusFormatter=WK;var HK=function(e){return e?e.hasOwnProperty("key"):!1};An.isKeyboardEvent=HK;var KK=function(e,n){if(n.infiniteLoop&&++e,e===0)return 0;var r=UK.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var i=-e*n.centerSlidePercentage,s=r-1;return e&&(e!==s||n.infiniteLoop)?i+=(100-n.centerSlidePercentage)/2:e===s&&(i+=100-n.centerSlidePercentage),i}return-e*100};An.getPosition=KK;var GK=function(e,n){var r={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(i){r[i]=(0,BK.default)(e,"%",n)}),r};An.setPosition=GK;var jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.fadeAnimationHandler=jr.slideStopSwipingHandler=jr.slideSwipeAnimationHandler=jr.slideAnimationHandler=void 0;var hL=P,QK=YK(Ql),$r=An;function YK(t){return t&&t.__esModule?t:{default:t}}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){JK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var XK=function(e,n){var r={},i=n.selectedItem,s=i,o=hL.Children.count(e.children)-1,a=e.infiniteLoop&&(i<0||i>o);if(a)return s<0?e.centerMode&&e.centerSlidePercentage&&e.axis==="horizontal"?r.itemListStyle=(0,$r.setPosition)(-(o+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):r.itemListStyle=(0,$r.setPosition)(-(o+2)*100,e.axis):s>o&&(r.itemListStyle=(0,$r.setPosition)(0,e.axis)),r;var l=(0,$r.getPosition)(i,e),u=(0,QK.default)(l,"%",e.axis),c=e.transitionTime+"ms";return r.itemListStyle={WebkitTransform:u,msTransform:u,OTransform:u,transform:u},n.swiping||(r.itemListStyle=ao(ao({},r.itemListStyle),{},{WebkitTransitionDuration:c,MozTransitionDuration:c,OTransitionDuration:c,transitionDuration:c,msTransitionDuration:c})),r};jr.slideAnimationHandler=XK;var ZK=function(e,n,r,i){var s={},o=n.axis==="horizontal",a=hL.Children.count(n.children),l=0,u=(0,$r.getPosition)(r.selectedItem,n),c=n.infiniteLoop?(0,$r.getPosition)(a-1,n)-100:(0,$r.getPosition)(a-1,n),d=o?e.x:e.y,h=d;u===l&&d>0&&(h=0),u===c&&d<0&&(h=0);var p=u+100/(r.itemSize/h),m=Math.abs(d)>n.swipeScrollTolerance;return n.infiniteLoop&&m&&(r.selectedItem===0&&p>-100?p-=a*100:r.selectedItem===a-1&&p<-a*100&&(p+=a*100)),(!n.preventMovementUntilSwipeScrollTolerance||m||r.swipeMovementStarted)&&(r.swipeMovementStarted||i({swipeMovementStarted:!0}),s.itemListStyle=(0,$r.setPosition)(p,n.axis)),m&&!r.cancelClick&&i({cancelClick:!0}),s};jr.slideSwipeAnimationHandler=ZK;var eG=function(e,n){var r=(0,$r.getPosition)(n.selectedItem,e),i=(0,$r.setPosition)(r,e.axis);return{itemListStyle:i}};jr.slideStopSwipingHandler=eG;var tG=function(e,n){var r=e.transitionTime+"ms",i="ease-in-out",s={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:i,msTransitionTimingFunction:i,MozTransitionTimingFunction:i,WebkitTransitionTimingFunction:i,OTransitionTimingFunction:i};return n.swiping||(s=ao(ao({},s),{},{WebkitTransitionDuration:r,MozTransitionDuration:r,OTransitionDuration:r,transitionDuration:r,msTransitionDuration:r})),{slideStyle:s,selectedStyle:ao(ao({},s),{},{opacity:1,position:"relative"}),prevStyle:ao({},s)}};jr.fadeAnimationHandler=tG;Object.defineProperty(_g,"__esModule",{value:!0});_g.default=void 0;var ye=iG(P),nG=Zd(BI),li=Zd(Yd),rG=Zd(Jd),jh=Zd(Eg),$h=Zd(Xd),$u=An,Up=jr;function Zd(t){return t&&t.__esModule?t:{default:t}}function fL(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return fL=function(){return t},t}function iG(t){if(t&&t.__esModule)return t;if(t===null||uc(t)!=="object"&&typeof t!="function")return{default:t};var e=fL();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function uc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uc=function(n){return typeof n}:uc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},uc(t)}function vw(){return vw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vw.apply(this,arguments)}function aP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(n),!0).forEach(function(r){te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aG(t,e,n){return e&&oG(t.prototype,e),t}function lG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ww(t,e)}function ww(t,e){return ww=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},ww(t,e)}function uG(t){var e=dG();return function(){var r=Bp(t),i;if(e){var s=Bp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return cG(this,i)}}function cG(t,e){return e&&(uc(e)==="object"||typeof e=="function")?e:re(t)}function re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Bp(t)}function te(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qI=function(t){lG(n,t);var e=uG(n);function n(r){var i;sG(this,n),i=e.call(this,r),te(re(i),"thumbsRef",void 0),te(re(i),"carouselWrapperRef",void 0),te(re(i),"listRef",void 0),te(re(i),"itemsRef",void 0),te(re(i),"timer",void 0),te(re(i),"animationHandler",void 0),te(re(i),"setThumbsRef",function(o){i.thumbsRef=o}),te(re(i),"setCarouselWrapperRef",function(o){i.carouselWrapperRef=o}),te(re(i),"setListRef",function(o){i.listRef=o}),te(re(i),"setItemsRef",function(o,a){i.itemsRef||(i.itemsRef=[]),i.itemsRef[a]=o}),te(re(i),"autoPlay",function(){ye.Children.count(i.props.children)<=1||(i.clearAutoPlay(),i.props.autoPlay&&(i.timer=setTimeout(function(){i.increment()},i.props.interval)))}),te(re(i),"clearAutoPlay",function(){i.timer&&clearTimeout(i.timer)}),te(re(i),"resetAutoPlay",function(){i.clearAutoPlay(),i.autoPlay()}),te(re(i),"stopOnHover",function(){i.setState({isMouseEntered:!0},i.clearAutoPlay)}),te(re(i),"startOnLeave",function(){i.setState({isMouseEntered:!1},i.autoPlay)}),te(re(i),"isFocusWithinTheCarousel",function(){return i.carouselWrapperRef?!!((0,jh.default)().activeElement===i.carouselWrapperRef||i.carouselWrapperRef.contains((0,jh.default)().activeElement)):!1}),te(re(i),"navigateWithKeyboard",function(o){if(i.isFocusWithinTheCarousel()){var a=i.props.axis,l=a==="horizontal",u={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},c=l?u.ArrowRight:u.ArrowDown,d=l?u.ArrowLeft:u.ArrowUp;c===o.keyCode?i.increment():d===o.keyCode&&i.decrement()}}),te(re(i),"updateSizes",function(){if(!(!i.state.initialized||!i.itemsRef||i.itemsRef.length===0)){var o=i.props.axis==="horizontal",a=i.itemsRef[0];if(a){var l=o?a.clientWidth:a.clientHeight;i.setState({itemSize:l}),i.thumbsRef&&i.thumbsRef.updateSizes()}}}),te(re(i),"setMountState",function(){i.setState({hasMount:!0}),i.updateSizes()}),te(re(i),"handleClickItem",function(o,a){if(ye.Children.count(i.props.children)!==0){if(i.state.cancelClick){i.setState({cancelClick:!1});return}i.props.onClickItem(o,a),o!==i.state.selectedItem&&i.setState({selectedItem:o})}}),te(re(i),"handleOnChange",function(o,a){ye.Children.count(i.props.children)<=1||i.props.onChange(o,a)}),te(re(i),"handleClickThumb",function(o,a){i.props.onClickThumb(o,a),i.moveTo(o)}),te(re(i),"onSwipeStart",function(o){i.setState({swiping:!0}),i.props.onSwipeStart(o)}),te(re(i),"onSwipeEnd",function(o){i.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),i.props.onSwipeEnd(o),i.clearAutoPlay(),i.state.autoPlay&&i.autoPlay()}),te(re(i),"onSwipeMove",function(o,a){i.props.onSwipeMove(a);var l=i.props.swipeAnimationHandler(o,i.props,i.state,i.setState.bind(re(i)));return i.setState(lr({},l)),!!Object.keys(l).length}),te(re(i),"decrement",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem-(typeof o=="number"?o:1))}),te(re(i),"increment",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem+(typeof o=="number"?o:1))}),te(re(i),"moveTo",function(o){if(typeof o=="number"){var a=ye.Children.count(i.props.children)-1;o<0&&(o=i.props.infiniteLoop?a:0),o>a&&(o=i.props.infiniteLoop?0:a),i.selectItem({selectedItem:o}),i.state.autoPlay&&i.state.isMouseEntered===!1&&i.resetAutoPlay()}}),te(re(i),"onClickNext",function(){i.increment(1)}),te(re(i),"onClickPrev",function(){i.decrement(1)}),te(re(i),"onSwipeForward",function(){i.increment(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),te(re(i),"onSwipeBackwards",function(){i.decrement(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),te(re(i),"changeItem",function(o){return function(a){(!(0,$u.isKeyboardEvent)(a)||a.key==="Enter")&&i.moveTo(o)}}),te(re(i),"selectItem",function(o){i.setState(lr({previousItem:i.state.selectedItem},o),function(){i.setState(i.animationHandler(i.props,i.state))}),i.handleOnChange(o.selectedItem,ye.Children.toArray(i.props.children)[o.selectedItem])}),te(re(i),"getInitialImage",function(){var o=i.props.selectedItem,a=i.itemsRef&&i.itemsRef[o],l=a&&a.getElementsByTagName("img")||[];return l[0]}),te(re(i),"getVariableItemHeight",function(o){var a=i.itemsRef&&i.itemsRef[o];if(i.state.hasMount&&a&&a.children.length){var l=a.children[0].getElementsByTagName("img")||[];if(l.length>0){var u=l[0];if(!u.complete){var c=function p(){i.forceUpdate(),u.removeEventListener("load",p)};u.addEventListener("load",c)}}var d=l[0]||a.children[0],h=d.clientHeight;return h>0?h:null}return null});var s={initialized:!1,previousItem:r.selectedItem,selectedItem:r.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:r.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return i.animationHandler=typeof r.animationHandler=="function"&&r.animationHandler||r.animationHandler==="fade"&&Up.fadeAnimationHandler||Up.slideAnimationHandler,i.state=lr(lr({},s),i.animationHandler(r,s)),i}return aG(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(i,s){!i.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!i.autoFocus&&this.props.autoFocus&&this.forceFocus(),s.swiping&&!this.state.swiping&&this.setState(lr({},this.props.stopSwipingHandler(this.props,this.state))),(i.selectedItem!==this.props.selectedItem||i.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),i.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var i=this;this.bindEvents(),this.state.autoPlay&&ye.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var s=i.getInitialImage();s&&!s.complete?s.addEventListener("load",i.setMountState):i.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.addEventListener("mouseenter",this.stopOnHover),i.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.removeEventListener("mouseenter",this.stopOnHover),i.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,$h.default)().addEventListener("resize",this.updateSizes),(0,$h.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,jh.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,$h.default)().removeEventListener("resize",this.updateSizes),(0,$h.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var i=this.getInitialImage();i&&i.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,jh.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var i;(i=this.carouselWrapperRef)===null||i===void 0||i.focus()}},{key:"renderItems",value:function(i){var s=this;return this.props.children?ye.Children.map(this.props.children,function(o,a){var l=a===s.state.selectedItem,u=a===s.state.previousItem,c=l&&s.state.selectedStyle||u&&s.state.prevStyle||s.state.slideStyle||{};s.props.centerMode&&s.props.axis==="horizontal"&&(c=lr(lr({},c),{},{minWidth:s.props.centerSlidePercentage+"%"})),s.state.swiping&&s.state.swipeMovementStarted&&(c=lr(lr({},c),{},{pointerEvents:"none"}));var d={ref:function(p){return s.setItemsRef(p,a)},key:"itemKey"+a+(i?"clone":""),className:li.default.ITEM(!0,a===s.state.selectedItem,a===s.state.previousItem),onClick:s.handleClickItem.bind(s,a,o),style:c};return ye.default.createElement("li",d,s.props.renderItem(o,{isSelected:a===s.state.selectedItem,isPrevious:a===s.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var i=this,s=this.props,o=s.showIndicators,a=s.labels,l=s.renderIndicator,u=s.children;return o?ye.default.createElement("ul",{className:"control-dots"},ye.Children.map(u,function(c,d){return l&&l(i.changeItem(d),d===i.state.selectedItem,d,a.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?ye.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,ye.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||ye.Children.count(this.props.children)===0?null:ye.default.createElement(rG.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var i=this;if(!this.props.children||ye.Children.count(this.props.children)===0)return null;var s=this.props.swipeable&&ye.Children.count(this.props.children)>1,o=this.props.axis==="horizontal",a=this.props.showArrows&&ye.Children.count(this.props.children)>1,l=a&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,u=a&&(this.state.selectedItem<ye.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,c=this.renderItems(!0),d=c.shift(),h=c.pop(),p={className:li.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},m={};if(o){if(p.onSwipeLeft=this.onSwipeForward,p.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var g=this.getVariableItemHeight(this.state.selectedItem);m.height=g||"auto"}}else p.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,p.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,p.style=lr(lr({},p.style),{},{height:this.state.itemSize}),m.height=this.state.itemSize;return ye.default.createElement("div",{"aria-label":this.props.ariaLabel,className:li.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},ye.default.createElement("div",{className:li.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,l,this.props.labels.leftArrow),ye.default.createElement("div",{className:li.default.WRAPPER(!0,this.props.axis),style:m},s?ye.default.createElement(nG.default,vw({tagName:"ul",innerRef:this.setListRef},p,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&h,this.renderItems(),this.props.infiniteLoop&&d):ye.default.createElement("ul",{className:li.default.SLIDER(!0,this.state.swiping),ref:function(v){return i.setListRef(v)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&h,this.renderItems(),this.props.infiniteLoop&&d)),this.props.renderArrowNext(this.onClickNext,u,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(ye.default.Component);_g.default=qI;te(qI,"displayName","Carousel");te(qI,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:$u.noop,onClickThumb:$u.noop,onChange:$u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,n,r){return ye.default.createElement("button",{type:"button","aria-label":r,className:li.default.ARROW_PREV(!n),onClick:e})},renderArrowNext:function(e,n,r){return ye.default.createElement("button",{type:"button","aria-label":r,className:li.default.ARROW_NEXT(!n),onClick:e})},renderIndicator:function(e,n,r,i){return ye.default.createElement("li",{className:li.default.DOT(n),onClick:e,onKeyDown:e,value:r,key:r,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(r+1)})},renderItem:function(e){return e},renderThumbs:function(e){var n=ye.Children.map(e,function(r){var i=r;if(r.type!=="img"&&(i=ye.Children.toArray(r.props.children).find(function(s){return s.type==="img"})),!!i)return i});return n.filter(function(r){return r}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:$u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:Up.slideSwipeAnimationHandler,stopSwipingHandler:Up.slideStopSwipingHandler});var hG={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(_g),n=hG,r=i(Jd);function i(s){return s&&s.__esModule?s:{default:s}}})(sL);function fG(){return f.jsxs(f.Fragment,{children:[f.jsx(sL.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:pK.map((t,e)=>f.jsx("img",{src:t},e))}),f.jsx("div",{className:gK.fade_effect})]})}const pG=[{title:"Jewelery",name:"jewelery",imgLink:"https://img.freepik.com/free-photo/woman-accessories-black-side-view_155003-7880.jpg?t=st=1715184754~exp=1715188354~hmac=479391514c5999ea7de6291236f9998498f028a09b79fa9c203ab134e7a706be&w=900"},{title:"Electronics",name:"electronics",imgLink:"https://img.freepik.com/free-photo/workplace-business-modern-male-accessories-laptop-white_155003-1722.jpg?t=st=1715180447~exp=1715184047~hmac=904253e9b12e4e67e1d4e1b3b19cd60c55a3207ae794bed44f8e1bcdb44763dc&w=900"},{title:"Discover fashion trend's",name:"women's clothing",imgLink:"https://img.freepik.com/free-photo/woman-black-trousers-purple-blouse-laughs-leaning-stand-with-elegant-clothes-pink-background_197531-17614.jpg?t=st=1715180521~exp=1715184121~hmac=6aee79d8754f8e35e1addd59bb30a6fb095f65cac23ca02b67adb028e22d0fe3&w=900"},{title:"Men's fashion",name:"men's clothing",imgLink:"https://images.pexels.com/photos/297933/pexels-photo-297933.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"}],mG="_card_container_a15op_1",gG={card_container:mG};function yG({data:t}){return f.jsx("div",{className:gG.card_container,children:f.jsxs(j,{to:`/category/${t.name}`,children:[f.jsx("span",{children:f.jsx("h3",{children:t.title})}),f.jsx("img",{src:t.imgLink,alt:""}),f.jsx("p",{children:"shop"})]})})}const _G="_container_106ha_1",vG={container:_G};function wG(){return f.jsx("div",{className:vG.container,id:"cat",children:pG.map((t,e)=>f.jsx(yG,{data:t},e))})}function pL(t,e){return function(){return t.apply(e,arguments)}}const{toString:EG}=Object.prototype,{getPrototypeOf:WI}=Object,Ig=(t=>e=>{const n=EG.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ir=t=>(t=t.toLowerCase(),e=>Ig(e)===t),Tg=t=>e=>typeof e===t,{isArray:Yl}=Array,od=Tg("undefined");function IG(t){return t!==null&&!od(t)&&t.constructor!==null&&!od(t.constructor)&&xn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const mL=Ir("ArrayBuffer");function TG(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&mL(t.buffer),e}const SG=Tg("string"),xn=Tg("function"),gL=Tg("number"),Sg=t=>t!==null&&typeof t=="object",AG=t=>t===!0||t===!1,Tf=t=>{if(Ig(t)!=="object")return!1;const e=WI(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},PG=Ir("Date"),RG=Ir("File"),bG=Ir("Blob"),CG=Ir("FileList"),kG=t=>Sg(t)&&xn(t.pipe),xG=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||xn(t.append)&&((e=Ig(t))==="formdata"||e==="object"&&xn(t.toString)&&t.toString()==="[object FormData]"))},OG=Ir("URLSearchParams"),[NG,DG,LG,MG]=["ReadableStream","Request","Response","Headers"].map(Ir),VG=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Yl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function yL(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const yo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_L=t=>!od(t)&&t!==yo;function Ew(){const{caseless:t}=_L(this)&&this||{},e={},n=(r,i)=>{const s=t&&yL(e,i)||i;Tf(e[s])&&Tf(r)?e[s]=Ew(e[s],r):Tf(r)?e[s]=Ew({},r):Yl(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&eh(arguments[r],n);return e}const FG=(t,e,n,{allOwnKeys:r}={})=>(eh(e,(i,s)=>{n&&xn(i)?t[s]=pL(i,n):t[s]=i},{allOwnKeys:r}),t),jG=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$G=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},UG=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&WI(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},BG=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},zG=t=>{if(!t)return null;if(Yl(t))return t;let e=t.length;if(!gL(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},qG=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&WI(Uint8Array)),WG=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},HG=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},KG=Ir("HTMLFormElement"),GG=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),lP=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),QG=Ir("RegExp"),vL=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};eh(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},YG=t=>{vL(t,(e,n)=>{if(xn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(xn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},JG=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Yl(t)?r(t):r(String(t).split(e)),n},XG=()=>{},ZG=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,a_="abcdefghijklmnopqrstuvwxyz",uP="0123456789",wL={DIGIT:uP,ALPHA:a_,ALPHA_DIGIT:a_+a_.toUpperCase()+uP},eQ=(t=16,e=wL.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function tQ(t){return!!(t&&xn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const nQ=t=>{const e=new Array(10),n=(r,i)=>{if(Sg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Yl(r)?[]:{};return eh(r,(o,a)=>{const l=n(o,i+1);!od(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},rQ=Ir("AsyncFunction"),iQ=t=>t&&(Sg(t)||xn(t))&&xn(t.then)&&xn(t.catch),EL=((t,e)=>t?setImmediate:e?((n,r)=>(yo.addEventListener("message",({source:i,data:s})=>{i===yo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),yo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",xn(yo.postMessage)),sQ=typeof queueMicrotask<"u"?queueMicrotask.bind(yo):typeof process<"u"&&process.nextTick||EL,b={isArray:Yl,isArrayBuffer:mL,isBuffer:IG,isFormData:xG,isArrayBufferView:TG,isString:SG,isNumber:gL,isBoolean:AG,isObject:Sg,isPlainObject:Tf,isReadableStream:NG,isRequest:DG,isResponse:LG,isHeaders:MG,isUndefined:od,isDate:PG,isFile:RG,isBlob:bG,isRegExp:QG,isFunction:xn,isStream:kG,isURLSearchParams:OG,isTypedArray:qG,isFileList:CG,forEach:eh,merge:Ew,extend:FG,trim:VG,stripBOM:jG,inherits:$G,toFlatObject:UG,kindOf:Ig,kindOfTest:Ir,endsWith:BG,toArray:zG,forEachEntry:WG,matchAll:HG,isHTMLForm:KG,hasOwnProperty:lP,hasOwnProp:lP,reduceDescriptors:vL,freezeMethods:YG,toObjectSet:JG,toCamelCase:GG,noop:XG,toFiniteNumber:ZG,findKey:yL,global:yo,isContextDefined:_L,ALPHABET:wL,generateString:eQ,isSpecCompliantForm:tQ,toJSONObject:nQ,isAsyncFn:rQ,isThenable:iQ,setImmediate:EL,asap:sQ};function J(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}b.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const IL=J.prototype,TL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{TL[t]={value:t}});Object.defineProperties(J,TL);Object.defineProperty(IL,"isAxiosError",{value:!0});J.from=(t,e,n,r,i,s)=>{const o=Object.create(IL);return b.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),J.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const oQ=null;function Iw(t){return b.isPlainObject(t)||b.isArray(t)}function SL(t){return b.endsWith(t,"[]")?t.slice(0,-2):t}function cP(t,e,n){return t?t.concat(e).map(function(i,s){return i=SL(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function aQ(t){return b.isArray(t)&&!t.some(Iw)}const lQ=b.toFlatObject(b,{},null,function(e){return/^is[A-Z]/.test(e)});function Ag(t,e,n){if(!b.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=b.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!b.isUndefined(w[g])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(e);if(!b.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(b.isDate(m))return m.toISOString();if(!l&&b.isBlob(m))throw new J("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(m)||b.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,g,w){let v=m;if(m&&!w&&typeof m=="object"){if(b.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(b.isArray(m)&&aQ(m)||(b.isFileList(m)||b.endsWith(g,"[]"))&&(v=b.toArray(m)))return g=SL(g),v.forEach(function(_,I){!(b.isUndefined(_)||_===null)&&e.append(o===!0?cP([g],I,s):o===null?g:g+"[]",u(_))}),!1}return Iw(m)?!0:(e.append(cP(w,g,s),u(m)),!1)}const d=[],h=Object.assign(lQ,{defaultVisitor:c,convertValue:u,isVisitable:Iw});function p(m,g){if(!b.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(m),b.forEach(m,function(v,y){(!(b.isUndefined(v)||v===null)&&i.call(e,v,b.isString(y)?y.trim():y,g,h))===!0&&p(v,g?g.concat(y):[y])}),d.pop()}}if(!b.isObject(t))throw new TypeError("data must be an object");return p(t),e}function dP(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function HI(t,e){this._pairs=[],t&&Ag(t,this,e)}const AL=HI.prototype;AL.append=function(e,n){this._pairs.push([e,n])};AL.toString=function(e){const n=e?function(r){return e.call(this,r,dP)}:dP;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function uQ(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function PL(t,e,n){if(!e)return t;const r=n&&n.encode||uQ,i=n&&n.serialize;let s;if(i?s=i(e,n):s=b.isURLSearchParams(e)?e.toString():new HI(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class hP{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){b.forEach(this.handlers,function(r){r!==null&&e(r)})}}const RL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cQ=typeof URLSearchParams<"u"?URLSearchParams:HI,dQ=typeof FormData<"u"?FormData:null,hQ=typeof Blob<"u"?Blob:null,fQ={isBrowser:!0,classes:{URLSearchParams:cQ,FormData:dQ,Blob:hQ},protocols:["http","https","file","blob","url","data"]},KI=typeof window<"u"&&typeof document<"u",pQ=(t=>KI&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),mQ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gQ=KI&&window.location.href||"http://localhost",yQ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:KI,hasStandardBrowserEnv:pQ,hasStandardBrowserWebWorkerEnv:mQ,origin:gQ},Symbol.toStringTag,{value:"Module"})),mr={...yQ,...fQ};function _Q(t,e){return Ag(t,new mr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return mr.isNode&&b.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function vQ(t){return b.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function wQ(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function bL(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&b.isArray(i)?i.length:o,l?(b.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!b.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&b.isArray(i[o])&&(i[o]=wQ(i[o])),!a)}if(b.isFormData(t)&&b.isFunction(t.entries)){const n={};return b.forEachEntry(t,(r,i)=>{e(vQ(r),i,n,0)}),n}return null}function EQ(t,e,n){if(b.isString(t))try{return(e||JSON.parse)(t),b.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const th={transitional:RL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=b.isObject(e);if(s&&b.isHTMLForm(e)&&(e=new FormData(e)),b.isFormData(e))return i?JSON.stringify(bL(e)):e;if(b.isArrayBuffer(e)||b.isBuffer(e)||b.isStream(e)||b.isFile(e)||b.isBlob(e)||b.isReadableStream(e))return e;if(b.isArrayBufferView(e))return e.buffer;if(b.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return _Q(e,this.formSerializer).toString();if((a=b.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ag(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),EQ(e)):e}],transformResponse:[function(e){const n=this.transitional||th.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(b.isResponse(e)||b.isReadableStream(e))return e;if(e&&b.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?J.from(a,J.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mr.classes.FormData,Blob:mr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],t=>{th.headers[t]={}});const IQ=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TQ=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&IQ[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},fP=Symbol("internals");function Iu(t){return t&&String(t).trim().toLowerCase()}function Sf(t){return t===!1||t==null?t:b.isArray(t)?t.map(Sf):String(t)}function SQ(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const AQ=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function l_(t,e,n,r,i){if(b.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!b.isString(e)){if(b.isString(r))return e.indexOf(r)!==-1;if(b.isRegExp(r))return r.test(e)}}function PQ(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function RQ(t,e){const n=b.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class wn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=Iu(l);if(!c)throw new Error("header name must be a non-empty string");const d=b.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Sf(a))}const o=(a,l)=>b.forEach(a,(u,c)=>s(u,c,l));if(b.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(b.isString(e)&&(e=e.trim())&&!AQ(e))o(TQ(e),n);else if(b.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Iu(e),e){const r=b.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return SQ(i);if(b.isFunction(n))return n.call(this,i,r);if(b.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Iu(e),e){const r=b.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||l_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Iu(o),o){const a=b.findKey(r,o);a&&(!n||l_(r,r[a],a,n))&&(delete r[a],i=!0)}}return b.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||l_(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return b.forEach(this,(i,s)=>{const o=b.findKey(r,s);if(o){n[o]=Sf(i),delete n[s];return}const a=e?PQ(s):String(s).trim();a!==s&&delete n[s],n[a]=Sf(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return b.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&b.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[fP]=this[fP]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Iu(o);r[a]||(RQ(i,o),r[a]=!0)}return b.isArray(e)?e.forEach(s):s(e),this}}wn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors(wn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});b.freezeMethods(wn);function u_(t,e){const n=this||th,r=e||n,i=wn.from(r.headers);let s=r.data;return b.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function CL(t){return!!(t&&t.__CANCEL__)}function Jl(t,e,n){J.call(this,t??"canceled",J.ERR_CANCELED,e,n),this.name="CanceledError"}b.inherits(Jl,J,{__CANCEL__:!0});function kL(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new J("Request failed with status code "+n.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function bQ(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function CQ(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,h=0;for(;d!==i;)h+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(h*1e3/p):void 0}}function kQ(t,e){let n=0,r=1e3/e,i,s;const o=(u,c=Date.now())=>{n=c,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const c=Date.now(),d=c-n;d>=r?o(u,c):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-d)))},()=>i&&o(i)]}const zp=(t,e,n=3)=>{let r=0;const i=CQ(50,250);return kQ(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),c=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},pP=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},mP=t=>(...e)=>b.asap(()=>t(...e)),xQ=mr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=b.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),OQ=mr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];b.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),b.isString(r)&&o.push("path="+r),b.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function NQ(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function DQ(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function xL(t,e){return t&&!NQ(e)?DQ(t,e):e}const gP=t=>t instanceof wn?{...t}:t;function Bo(t,e){e=e||{};const n={};function r(u,c,d){return b.isPlainObject(u)&&b.isPlainObject(c)?b.merge.call({caseless:d},u,c):b.isPlainObject(c)?b.merge({},c):b.isArray(c)?c.slice():c}function i(u,c,d){if(b.isUndefined(c)){if(!b.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function s(u,c){if(!b.isUndefined(c))return r(void 0,c)}function o(u,c){if(b.isUndefined(c)){if(!b.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(gP(u),gP(c),!0)};return b.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=l[c]||i,h=d(t[c],e[c],c);b.isUndefined(h)&&d!==a||(n[c]=h)}),n}const OL=t=>{const e=Bo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=wn.from(o),e.url=PL(xL(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(b.isFormData(n)){if(mr.hasStandardBrowserEnv||mr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(mr.hasStandardBrowserEnv&&(r&&b.isFunction(r)&&(r=r(e)),r||r!==!1&&xQ(e.url))){const u=i&&s&&OQ.read(s);u&&o.set(i,u)}return e},LQ=typeof XMLHttpRequest<"u",MQ=LQ&&function(t){return new Promise(function(n,r){const i=OL(t);let s=i.data;const o=wn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,d,h,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function v(){if(!w)return;const _=wn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),E={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:_,config:t,request:w};kL(function(S){n(S),g()},function(S){r(S),g()},E),w=null}"onloadend"in w?w.onloadend=v:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(v)},w.onabort=function(){w&&(r(new J("Request aborted",J.ECONNABORTED,t,w)),w=null)},w.onerror=function(){r(new J("Network Error",J.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let I=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const E=i.transitional||RL;i.timeoutErrorMessage&&(I=i.timeoutErrorMessage),r(new J(I,E.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,t,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&b.forEach(o.toJSON(),function(I,E){w.setRequestHeader(E,I)}),b.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),u&&([h,m]=zp(u,!0),w.addEventListener("progress",h)),l&&w.upload&&([d,p]=zp(l),w.upload.addEventListener("progress",d),w.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=_=>{w&&(r(!_||_.type?new Jl(null,t,w):_),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const y=bQ(i.url);if(y&&mr.protocols.indexOf(y)===-1){r(new J("Unsupported protocol "+y+":",J.ERR_BAD_REQUEST,t));return}w.send(s||null)})},VQ=(t,e)=>{let n=new AbortController,r;const i=function(l){if(!r){r=!0,o();const u=l instanceof Error?l:this.reason;n.abort(u instanceof J?u:new Jl(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{i(new J(`timeout ${e} of ms exceeded`,J.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),t=null)};t.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},FQ=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},jQ=async function*(t,e,n){for await(const r of t)yield*FQ(ArrayBuffer.isView(r)?r:await n(String(r)),e)},yP=(t,e,n,r,i)=>{const s=jQ(t,e,i);let o=0,a,l=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await s.next();if(c){l(),u.close();return}let h=d.byteLength;if(n){let p=o+=h;n(p)}u.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},Pg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",NL=Pg&&typeof ReadableStream=="function",Tw=Pg&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),DL=(t,...e)=>{try{return!!t(...e)}catch{return!1}},$Q=NL&&DL(()=>{let t=!1;const e=new Request(mr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),_P=64*1024,Sw=NL&&DL(()=>b.isReadableStream(new Response("").body)),qp={stream:Sw&&(t=>t.body)};Pg&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!qp[e]&&(qp[e]=b.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new J(`Response type '${e}' is not supported`,J.ERR_NOT_SUPPORT,r)})})})(new Response);const UQ=async t=>{if(t==null)return 0;if(b.isBlob(t))return t.size;if(b.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(b.isArrayBufferView(t)||b.isArrayBuffer(t))return t.byteLength;if(b.isURLSearchParams(t)&&(t=t+""),b.isString(t))return(await Tw(t)).byteLength},BQ=async(t,e)=>{const n=b.toFiniteNumber(t.getContentLength());return n??UQ(e)},zQ=Pg&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:h}=OL(t);u=u?(u+"").toLowerCase():"text";let[p,m]=i||s||o?VQ([i,s],o):[],g,w;const v=()=>{!g&&setTimeout(()=>{p&&p.unsubscribe()}),g=!0};let y;try{if(l&&$Q&&n!=="get"&&n!=="head"&&(y=await BQ(c,r))!==0){let T=new Request(e,{method:"POST",body:r,duplex:"half"}),S;if(b.isFormData(r)&&(S=T.headers.get("content-type"))&&c.setContentType(S),T.body){const[C,F]=pP(y,zp(mP(l)));r=yP(T.body,_P,C,F,Tw)}}b.isString(d)||(d=d?"include":"omit"),w=new Request(e,{...h,signal:p,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:d});let _=await fetch(w);const I=Sw&&(u==="stream"||u==="response");if(Sw&&(a||I)){const T={};["status","statusText","headers"].forEach(D=>{T[D]=_[D]});const S=b.toFiniteNumber(_.headers.get("content-length")),[C,F]=a&&pP(S,zp(mP(a),!0))||[];_=new Response(yP(_.body,_P,C,()=>{F&&F(),I&&v()},Tw),T)}u=u||"text";let E=await qp[b.findKey(qp,u)||"text"](_,t);return!I&&v(),m&&m(),await new Promise((T,S)=>{kL(T,S,{data:E,headers:wn.from(_.headers),status:_.status,statusText:_.statusText,config:t,request:w})})}catch(_){throw v(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,t,w),{cause:_.cause||_}):J.from(_,_&&_.code,t,w)}}),Aw={http:oQ,xhr:MQ,fetch:zQ};b.forEach(Aw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const vP=t=>`- ${t}`,qQ=t=>b.isFunction(t)||t===null||t===!1,LL={getAdapter:t=>{t=b.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!qQ(n)&&(r=Aw[(o=String(n)).toLowerCase()],r===void 0))throw new J(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(vP).join(`
`):" "+vP(s[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Aw};function c_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Jl(null,t)}function wP(t){return c_(t),t.headers=wn.from(t.headers),t.data=u_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),LL.getAdapter(t.adapter||th.adapter)(t).then(function(r){return c_(t),r.data=u_.call(t,t.transformResponse,r),r.headers=wn.from(r.headers),r},function(r){return CL(r)||(c_(t),r&&r.response&&(r.response.data=u_.call(t,t.transformResponse,r.response),r.response.headers=wn.from(r.response.headers))),Promise.reject(r)})}const ML="1.7.3",GI={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{GI[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const EP={};GI.transitional=function(e,n,r){function i(s,o){return"[Axios v"+ML+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new J(i(o," has been removed"+(n?" in "+n:"")),J.ERR_DEPRECATED);return n&&!EP[o]&&(EP[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function WQ(t,e,n){if(typeof t!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new J("option "+s+" must be "+l,J.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new J("Unknown option "+s,J.ERR_BAD_OPTION)}}const Pw={assertOptions:WQ,validators:GI},Qi=Pw.validators;class To{constructor(e){this.defaults=e,this.interceptors={request:new hP,response:new hP}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Bo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Pw.assertOptions(r,{silentJSONParsing:Qi.transitional(Qi.boolean),forcedJSONParsing:Qi.transitional(Qi.boolean),clarifyTimeoutError:Qi.transitional(Qi.boolean)},!1),i!=null&&(b.isFunction(i)?n.paramsSerializer={serialize:i}:Pw.assertOptions(i,{encode:Qi.function,serialize:Qi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&b.merge(s.common,s[n.method]);s&&b.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=wn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,d=0,h;if(!l){const m=[wP.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),h=m.length,c=Promise.resolve(n);d<h;)c=c.then(m[d++],m[d++]);return c}h=a.length;let p=n;for(d=0;d<h;){const m=a[d++],g=a[d++];try{p=m(p)}catch(w){g.call(this,w);break}}try{c=wP.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=Bo(this.defaults,e);const n=xL(e.baseURL,e.url);return PL(n,e.params,e.paramsSerializer)}}b.forEach(["delete","get","head","options"],function(e){To.prototype[e]=function(n,r){return this.request(Bo(r||{},{method:e,url:n,data:(r||{}).data}))}});b.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Bo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}To.prototype[e]=n(),To.prototype[e+"Form"]=n(!0)});class QI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Jl(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new QI(function(i){e=i}),cancel:e}}}function HQ(t){return function(n){return t.apply(null,n)}}function KQ(t){return b.isObject(t)&&t.isAxiosError===!0}const Rw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rw).forEach(([t,e])=>{Rw[e]=t});function VL(t){const e=new To(t),n=pL(To.prototype.request,e);return b.extend(n,To.prototype,e,{allOwnKeys:!0}),b.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return VL(Bo(t,i))},n}const Be=VL(th);Be.Axios=To;Be.CanceledError=Jl;Be.CancelToken=QI;Be.isCancel=CL;Be.VERSION=ML;Be.toFormData=Ag;Be.AxiosError=J;Be.Cancel=Be.CanceledError;Be.all=function(e){return Promise.all(e)};Be.spread=HQ;Be.isAxiosError=KQ;Be.mergeConfig=Bo;Be.AxiosHeaders=wn;Be.formToJSON=t=>bL(b.isHTMLForm(t)?new FormData(t):t);Be.getAdapter=LL.getAdapter;Be.HttpStatusCode=Rw;Be.default=Be;function ti(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Z(){return Z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z.apply(this,arguments)}function FL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function cc(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FL(t))&&(r&&(r+=" "),r+=e);return r}function jL(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const GQ=Object.freeze(Object.defineProperty({__proto__:null,default:jL},Symbol.toStringTag,{value:"Module"})),QQ={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function $L(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const YQ=P.createContext(),JQ=()=>{const t=P.useContext(YQ);return t??!1};function is(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function UL(t){if(!is(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=UL(t[n])}),e}function Kr(t,e,n={clone:!0}){const r=n.clone?Z({},t):t;return is(t)&&is(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(is(e[i])&&i in t&&is(t[i])?r[i]=Kr(t[i],e[i],n):n.clone?r[i]=is(e[i])?UL(e[i]):e[i]:r[i]=e[i])}),r}const XQ=Object.freeze(Object.defineProperty({__proto__:null,default:Kr,isPlainObject:is},Symbol.toStringTag,{value:"Module"}));function ad(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const ZQ=Object.freeze(Object.defineProperty({__proto__:null,default:ad},Symbol.toStringTag,{value:"Module"}));var BL={exports:{}},Ee={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YI=Symbol.for("react.element"),JI=Symbol.for("react.portal"),Rg=Symbol.for("react.fragment"),bg=Symbol.for("react.strict_mode"),Cg=Symbol.for("react.profiler"),kg=Symbol.for("react.provider"),xg=Symbol.for("react.context"),eY=Symbol.for("react.server_context"),Og=Symbol.for("react.forward_ref"),Ng=Symbol.for("react.suspense"),Dg=Symbol.for("react.suspense_list"),Lg=Symbol.for("react.memo"),Mg=Symbol.for("react.lazy"),tY=Symbol.for("react.offscreen"),zL;zL=Symbol.for("react.module.reference");function rr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case YI:switch(t=t.type,t){case Rg:case Cg:case bg:case Ng:case Dg:return t;default:switch(t=t&&t.$$typeof,t){case eY:case xg:case Og:case Mg:case Lg:case kg:return t;default:return e}}case JI:return e}}}Ee.ContextConsumer=xg;Ee.ContextProvider=kg;Ee.Element=YI;Ee.ForwardRef=Og;Ee.Fragment=Rg;Ee.Lazy=Mg;Ee.Memo=Lg;Ee.Portal=JI;Ee.Profiler=Cg;Ee.StrictMode=bg;Ee.Suspense=Ng;Ee.SuspenseList=Dg;Ee.isAsyncMode=function(){return!1};Ee.isConcurrentMode=function(){return!1};Ee.isContextConsumer=function(t){return rr(t)===xg};Ee.isContextProvider=function(t){return rr(t)===kg};Ee.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===YI};Ee.isForwardRef=function(t){return rr(t)===Og};Ee.isFragment=function(t){return rr(t)===Rg};Ee.isLazy=function(t){return rr(t)===Mg};Ee.isMemo=function(t){return rr(t)===Lg};Ee.isPortal=function(t){return rr(t)===JI};Ee.isProfiler=function(t){return rr(t)===Cg};Ee.isStrictMode=function(t){return rr(t)===bg};Ee.isSuspense=function(t){return rr(t)===Ng};Ee.isSuspenseList=function(t){return rr(t)===Dg};Ee.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Rg||t===Cg||t===bg||t===Ng||t===Dg||t===tY||typeof t=="object"&&t!==null&&(t.$$typeof===Mg||t.$$typeof===Lg||t.$$typeof===kg||t.$$typeof===xg||t.$$typeof===Og||t.$$typeof===zL||t.getModuleId!==void 0)};Ee.typeOf=rr;BL.exports=Ee;var IP=BL.exports;const nY=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function qL(t){const e=`${t}`.match(nY);return e&&e[1]||""}function WL(t,e=""){return t.displayName||t.name||qL(t)||e}function TP(t,e,n){const r=WL(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function rY(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return WL(t,"Component");if(typeof t=="object")switch(t.$$typeof){case IP.ForwardRef:return TP(t,t.render,"ForwardRef");case IP.Memo:return TP(t,t.type,"memo");default:return}}}const iY=Object.freeze(Object.defineProperty({__proto__:null,default:rY,getFunctionName:qL},Symbol.toStringTag,{value:"Module"}));function ki(t){if(typeof t!="string")throw new Error(ad(7));return t.charAt(0).toUpperCase()+t.slice(1)}const sY=Object.freeze(Object.defineProperty({__proto__:null,default:ki},Symbol.toStringTag,{value:"Module"}));function oY(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let SP=0;function aY(t){const[e,n]=P.useState(t),r=t||e;return P.useEffect(()=>{e==null&&(SP+=1,n(`mui-${SP}`))},[e]),r}const AP=Of.useId;function HL(t){if(AP!==void 0){const e=AP();return t??e}return aY(t)}function lY({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=P.useRef(t!==void 0),[s,o]=P.useState(e),a=i?t:s,l=P.useCallback(u=>{i||o(u)},[]);return[a,l]}function uY(...t){return P.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{oY(n,e)})},t)}class XI{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new XI}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}let Vg=!0,bw=!1;const cY=new XI,dY={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function hY(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&dY[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function fY(t){t.metaKey||t.altKey||t.ctrlKey||(Vg=!0)}function d_(){Vg=!1}function pY(){this.visibilityState==="hidden"&&bw&&(Vg=!0)}function mY(t){t.addEventListener("keydown",fY,!0),t.addEventListener("mousedown",d_,!0),t.addEventListener("pointerdown",d_,!0),t.addEventListener("touchstart",d_,!0),t.addEventListener("visibilitychange",pY,!0)}function gY(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Vg||hY(e)}function yY(){const t=P.useCallback(i=>{i!=null&&mY(i.ownerDocument)},[]),e=P.useRef(!1);function n(){return e.current?(bw=!0,cY.start(100,()=>{bw=!1}),e.current=!1,!0):!1}function r(i){return gY(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function KL(t,e){const n=Z({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=Z({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=Z({},s),Object.keys(i).forEach(o=>{n[r][o]=KL(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}const PP=t=>t,_Y=()=>{let t=PP;return{configure(e){t=e},generate(e){return t(e)},reset(){t=PP}}},vY=_Y(),wY={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ZI(t,e,n="Mui"){const r=wY[e];return r?`${n}-${r}`:`${vY.generate(t)}-${e}`}function GL(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=ZI(t,i,n)}),r}function EY(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:KL(e.components[n].defaultProps,r)}const IY=["values","unit","step"],TY=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>Z({},n,{[r.key]:r.val}),{})};function QL(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=ti(t,IY),s=TY(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,p){const m=o.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:p)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return Z({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const SY={borderRadius:4};function dc(t,e){return e?Kr(t,e,{clone:!1}):t}const eT={xs:0,sm:600,md:900,lg:1200,xl:1536},RP={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${eT[t]}px)`};function xi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||RP;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||RP;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||eT).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function AY(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function PY(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Fg(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Wp(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Fg(t,n)||r,e&&(i=e(i,r,t)),i}function rt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Fg(l,r)||{};return xi(o,a,d=>{let h=Wp(u,i,d);return d===h&&typeof d=="string"&&(h=Wp(u,i,`${e}${d==="default"?"":ki(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function RY(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const bY={m:"margin",p:"padding"},CY={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},bP={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},kY=RY(t=>{if(t.length>2)if(bP[t])t=bP[t];else return[t];const[e,n]=t.split(""),r=bY[e],i=CY[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),tT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],nT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...tT,...nT];function nh(t,e,n,r){var i;const s=(i=Fg(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function YL(t){return nh(t,"spacing",8)}function rh(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function xY(t,e){return n=>t.reduce((r,i)=>(r[i]=rh(e,n),r),{})}function OY(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=kY(n),s=xY(i,r),o=t[n];return xi(t,o,s)}function JL(t,e){const n=YL(t.theme);return Object.keys(t).map(r=>OY(t,e,r,n)).reduce(dc,{})}function We(t){return JL(t,tT)}We.propTypes={};We.filterProps=tT;function He(t){return JL(t,nT)}He.propTypes={};He.filterProps=nT;function NY(t=8){if(t.mui)return t;const e=YL({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function jg(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?dc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Wn(t){return typeof t!="number"?t:`${t}px solid`}function ir(t,e){return rt({prop:t,themeKey:"borders",transform:e})}const DY=ir("border",Wn),LY=ir("borderTop",Wn),MY=ir("borderRight",Wn),VY=ir("borderBottom",Wn),FY=ir("borderLeft",Wn),jY=ir("borderColor"),$Y=ir("borderTopColor"),UY=ir("borderRightColor"),BY=ir("borderBottomColor"),zY=ir("borderLeftColor"),qY=ir("outline",Wn),WY=ir("outlineColor"),$g=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=nh(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:rh(e,r)});return xi(t,t.borderRadius,n)}return null};$g.propTypes={};$g.filterProps=["borderRadius"];jg(DY,LY,MY,VY,FY,jY,$Y,UY,BY,zY,$g,qY,WY);const Ug=t=>{if(t.gap!==void 0&&t.gap!==null){const e=nh(t.theme,"spacing",8),n=r=>({gap:rh(e,r)});return xi(t,t.gap,n)}return null};Ug.propTypes={};Ug.filterProps=["gap"];const Bg=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=nh(t.theme,"spacing",8),n=r=>({columnGap:rh(e,r)});return xi(t,t.columnGap,n)}return null};Bg.propTypes={};Bg.filterProps=["columnGap"];const zg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=nh(t.theme,"spacing",8),n=r=>({rowGap:rh(e,r)});return xi(t,t.rowGap,n)}return null};zg.propTypes={};zg.filterProps=["rowGap"];const HY=rt({prop:"gridColumn"}),KY=rt({prop:"gridRow"}),GY=rt({prop:"gridAutoFlow"}),QY=rt({prop:"gridAutoColumns"}),YY=rt({prop:"gridAutoRows"}),JY=rt({prop:"gridTemplateColumns"}),XY=rt({prop:"gridTemplateRows"}),ZY=rt({prop:"gridTemplateAreas"}),eJ=rt({prop:"gridArea"});jg(Ug,Bg,zg,HY,KY,GY,QY,YY,JY,XY,ZY,eJ);function Ja(t,e){return e==="grey"?e:t}const tJ=rt({prop:"color",themeKey:"palette",transform:Ja}),nJ=rt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ja}),rJ=rt({prop:"backgroundColor",themeKey:"palette",transform:Ja});jg(tJ,nJ,rJ);function Pn(t){return t<=1&&t!==0?`${t*100}%`:t}const iJ=rt({prop:"width",transform:Pn}),rT=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||eT[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Pn(n)}};return xi(t,t.maxWidth,e)}return null};rT.filterProps=["maxWidth"];const sJ=rt({prop:"minWidth",transform:Pn}),oJ=rt({prop:"height",transform:Pn}),aJ=rt({prop:"maxHeight",transform:Pn}),lJ=rt({prop:"minHeight",transform:Pn});rt({prop:"size",cssProperty:"width",transform:Pn});rt({prop:"size",cssProperty:"height",transform:Pn});const uJ=rt({prop:"boxSizing"});jg(iJ,rT,sJ,oJ,aJ,lJ,uJ);const ih={border:{themeKey:"borders",transform:Wn},borderTop:{themeKey:"borders",transform:Wn},borderRight:{themeKey:"borders",transform:Wn},borderBottom:{themeKey:"borders",transform:Wn},borderLeft:{themeKey:"borders",transform:Wn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Wn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:$g},color:{themeKey:"palette",transform:Ja},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ja},backgroundColor:{themeKey:"palette",transform:Ja},p:{style:He},pt:{style:He},pr:{style:He},pb:{style:He},pl:{style:He},px:{style:He},py:{style:He},padding:{style:He},paddingTop:{style:He},paddingRight:{style:He},paddingBottom:{style:He},paddingLeft:{style:He},paddingX:{style:He},paddingY:{style:He},paddingInline:{style:He},paddingInlineStart:{style:He},paddingInlineEnd:{style:He},paddingBlock:{style:He},paddingBlockStart:{style:He},paddingBlockEnd:{style:He},m:{style:We},mt:{style:We},mr:{style:We},mb:{style:We},ml:{style:We},mx:{style:We},my:{style:We},margin:{style:We},marginTop:{style:We},marginRight:{style:We},marginBottom:{style:We},marginLeft:{style:We},marginX:{style:We},marginY:{style:We},marginInline:{style:We},marginInlineStart:{style:We},marginInlineEnd:{style:We},marginBlock:{style:We},marginBlockStart:{style:We},marginBlockEnd:{style:We},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ug},rowGap:{style:zg},columnGap:{style:Bg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Pn},maxWidth:{style:rT},minWidth:{transform:Pn},height:{transform:Pn},maxHeight:{transform:Pn},minHeight:{transform:Pn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function cJ(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function dJ(t,e){return typeof t=="function"?t(e):t}function XL(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=Fg(i,u)||{};return d?d(o):xi(o,r,m=>{let g=Wp(h,c,m);return m===g&&typeof m=="string"&&(g=Wp(h,c,`${n}${m==="default"?"":ki(m)}`,m)),l===!1?g:{[l]:g}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:ih;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=AY(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(p=>{const m=dJ(u[p],s);if(m!=null)if(typeof m=="object")if(o[p])h=dc(h,t(p,m,s,o));else{const g=xi({theme:s},m,w=>({[p]:w}));cJ(g,m)?h[p]=e({sx:m,theme:s}):h=dc(h,g)}else h=dc(h,t(p,m,s,o))}),PY(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const qg=XL();qg.filterProps=["sx"];function ZL(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const hJ=["breakpoints","palette","spacing","shape"];function iT(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=ti(t,hJ),a=QL(n),l=NY(i);let u=Kr({breakpoints:a,direction:"ltr",components:{},palette:Z({mode:"light"},r),spacing:l,shape:Z({},SY,s)},o);return u.applyStyles=ZL,u=e.reduce((c,d)=>Kr(c,d),u),u.unstable_sxConfig=Z({},ih,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return qg({sx:d,theme:this})},u}const fJ=Object.freeze(Object.defineProperty({__proto__:null,default:iT,private_createBreakpoints:QL,unstable_applyStyles:ZL},Symbol.toStringTag,{value:"Module"}));function e2(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var pJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mJ=e2(function(t){return pJ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function gJ(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function yJ(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var _J=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(yJ(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=gJ(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),qt="-ms-",Hp="-moz-",me="-webkit-",t2="comm",sT="rule",oT="decl",vJ="@import",n2="@keyframes",wJ="@layer",EJ=Math.abs,Wg=String.fromCharCode,IJ=Object.assign;function TJ(t,e){return Ot(t,0)^45?(((e<<2^Ot(t,0))<<2^Ot(t,1))<<2^Ot(t,2))<<2^Ot(t,3):0}function r2(t){return t.trim()}function SJ(t,e){return(t=e.exec(t))?t[0]:t}function ge(t,e,n){return t.replace(e,n)}function Cw(t,e){return t.indexOf(e)}function Ot(t,e){return t.charCodeAt(e)|0}function ld(t,e,n){return t.slice(e,n)}function Ar(t){return t.length}function aT(t){return t.length}function Uh(t,e){return e.push(t),t}function AJ(t,e){return t.map(e).join("")}var Hg=1,Al=1,i2=0,En=0,at=0,Xl="";function Kg(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Hg,column:Al,length:o,return:""}}function Tu(t,e){return IJ(Kg("",null,null,"",null,null,0),t,{length:-t.length},e)}function PJ(){return at}function RJ(){return at=En>0?Ot(Xl,--En):0,Al--,at===10&&(Al=1,Hg--),at}function On(){return at=En<i2?Ot(Xl,En++):0,Al++,at===10&&(Al=1,Hg++),at}function Gr(){return Ot(Xl,En)}function Af(){return En}function sh(t,e){return ld(Xl,t,e)}function ud(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function s2(t){return Hg=Al=1,i2=Ar(Xl=t),En=0,[]}function o2(t){return Xl="",t}function Pf(t){return r2(sh(En-1,kw(t===91?t+2:t===40?t+1:t)))}function bJ(t){for(;(at=Gr())&&at<33;)On();return ud(t)>2||ud(at)>3?"":" "}function CJ(t,e){for(;--e&&On()&&!(at<48||at>102||at>57&&at<65||at>70&&at<97););return sh(t,Af()+(e<6&&Gr()==32&&On()==32))}function kw(t){for(;On();)switch(at){case t:return En;case 34:case 39:t!==34&&t!==39&&kw(at);break;case 40:t===41&&kw(t);break;case 92:On();break}return En}function kJ(t,e){for(;On()&&t+at!==57;)if(t+at===84&&Gr()===47)break;return"/*"+sh(e,En-1)+"*"+Wg(t===47?t:On())}function xJ(t){for(;!ud(Gr());)On();return sh(t,En)}function OJ(t){return o2(Rf("",null,null,null,[""],t=s2(t),0,[0],t))}function Rf(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,p=0,m=0,g=1,w=1,v=1,y=0,_="",I=i,E=s,T=r,S=_;w;)switch(m=y,y=On()){case 40:if(m!=108&&Ot(S,d-1)==58){Cw(S+=ge(Pf(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:S+=Pf(y);break;case 9:case 10:case 13:case 32:S+=bJ(m);break;case 92:S+=CJ(Af()-1,7);continue;case 47:switch(Gr()){case 42:case 47:Uh(NJ(kJ(On(),Af()),e,n),l);break;default:S+="/"}break;case 123*g:a[u++]=Ar(S)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:w=0;case 59+c:v==-1&&(S=ge(S,/\f/g,"")),p>0&&Ar(S)-d&&Uh(p>32?kP(S+";",r,n,d-1):kP(ge(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(Uh(T=CP(S,e,n,u,c,i,a,_,I=[],E=[],d),s),y===123)if(c===0)Rf(S,e,T,T,I,s,d,a,E);else switch(h===99&&Ot(S,3)===110?100:h){case 100:case 108:case 109:case 115:Rf(t,T,T,r&&Uh(CP(t,T,T,0,0,i,a,_,i,I=[],d),E),i,E,d,a,r?I:E);break;default:Rf(S,T,T,T,[""],E,0,a,E)}}u=c=p=0,g=v=1,_=S="",d=o;break;case 58:d=1+Ar(S),p=m;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&RJ()==125)continue}switch(S+=Wg(y),y*g){case 38:v=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(Ar(S)-1)*v,v=1;break;case 64:Gr()===45&&(S+=Pf(On())),h=Gr(),c=d=Ar(_=S+=xJ(Af())),y++;break;case 45:m===45&&Ar(S)==2&&(g=0)}}return s}function CP(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],p=aT(h),m=0,g=0,w=0;m<r;++m)for(var v=0,y=ld(t,d+1,d=EJ(g=o[m])),_=t;v<p;++v)(_=r2(g>0?h[v]+" "+y:ge(y,/&\f/g,h[v])))&&(l[w++]=_);return Kg(t,e,n,i===0?sT:a,l,u,c)}function NJ(t,e,n){return Kg(t,e,n,t2,Wg(PJ()),ld(t,2,-2),0)}function kP(t,e,n,r){return Kg(t,e,n,oT,ld(t,0,r),ld(t,r+1,-1),r)}function Xa(t,e){for(var n="",r=aT(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function DJ(t,e,n,r){switch(t.type){case wJ:if(t.children.length)break;case vJ:case oT:return t.return=t.return||t.value;case t2:return"";case n2:return t.return=t.value+"{"+Xa(t.children,r)+"}";case sT:t.value=t.props.join(",")}return Ar(n=Xa(t.children,r))?t.return=t.value+"{"+n+"}":""}function LJ(t){var e=aT(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function MJ(t){return function(e){e.root||(e=e.return)&&t(e)}}var VJ=function(e,n,r){for(var i=0,s=0;i=s,s=Gr(),i===38&&s===12&&(n[r]=1),!ud(s);)On();return sh(e,En)},FJ=function(e,n){var r=-1,i=44;do switch(ud(i)){case 0:i===38&&Gr()===12&&(n[r]=1),e[r]+=VJ(En-1,n,r);break;case 2:e[r]+=Pf(i);break;case 4:if(i===44){e[++r]=Gr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Wg(i)}while(i=On());return e},jJ=function(e,n){return o2(FJ(s2(e),n))},xP=new WeakMap,$J=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!xP.get(r))&&!i){xP.set(e,!0);for(var s=[],o=jJ(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},UJ=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function a2(t,e){switch(TJ(t,e)){case 5103:return me+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return me+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return me+t+Hp+t+qt+t+t;case 6828:case 4268:return me+t+qt+t+t;case 6165:return me+t+qt+"flex-"+t+t;case 5187:return me+t+ge(t,/(\w+).+(:[^]+)/,me+"box-$1$2"+qt+"flex-$1$2")+t;case 5443:return me+t+qt+"flex-item-"+ge(t,/flex-|-self/,"")+t;case 4675:return me+t+qt+"flex-line-pack"+ge(t,/align-content|flex-|-self/,"")+t;case 5548:return me+t+qt+ge(t,"shrink","negative")+t;case 5292:return me+t+qt+ge(t,"basis","preferred-size")+t;case 6060:return me+"box-"+ge(t,"-grow","")+me+t+qt+ge(t,"grow","positive")+t;case 4554:return me+ge(t,/([^-])(transform)/g,"$1"+me+"$2")+t;case 6187:return ge(ge(ge(t,/(zoom-|grab)/,me+"$1"),/(image-set)/,me+"$1"),t,"")+t;case 5495:case 3959:return ge(t,/(image-set\([^]*)/,me+"$1$`$1");case 4968:return ge(ge(t,/(.+:)(flex-)?(.*)/,me+"box-pack:$3"+qt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+me+t+t;case 4095:case 3583:case 4068:case 2532:return ge(t,/(.+)-inline(.+)/,me+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ar(t)-1-e>6)switch(Ot(t,e+1)){case 109:if(Ot(t,e+4)!==45)break;case 102:return ge(t,/(.+:)(.+)-([^]+)/,"$1"+me+"$2-$3$1"+Hp+(Ot(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Cw(t,"stretch")?a2(ge(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ot(t,e+1)!==115)break;case 6444:switch(Ot(t,Ar(t)-3-(~Cw(t,"!important")&&10))){case 107:return ge(t,":",":"+me)+t;case 101:return ge(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+me+(Ot(t,14)===45?"inline-":"")+"box$3$1"+me+"$2$3$1"+qt+"$2box$3")+t}break;case 5936:switch(Ot(t,e+11)){case 114:return me+t+qt+ge(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return me+t+qt+ge(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return me+t+qt+ge(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return me+t+qt+t+t}return t}var BJ=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case oT:e.return=a2(e.value,e.length);break;case n2:return Xa([Tu(e,{value:ge(e.value,"@","@"+me)})],i);case sT:if(e.length)return AJ(e.props,function(s){switch(SJ(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Xa([Tu(e,{props:[ge(s,/:(read-\w+)/,":"+Hp+"$1")]})],i);case"::placeholder":return Xa([Tu(e,{props:[ge(s,/:(plac\w+)/,":"+me+"input-$1")]}),Tu(e,{props:[ge(s,/:(plac\w+)/,":"+Hp+"$1")]}),Tu(e,{props:[ge(s,/:(plac\w+)/,qt+"input-$1")]})],i)}return""})}},zJ=[BJ],l2=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var w=g.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||zJ,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var w=g.getAttribute("data-emotion").split(" "),v=1;v<w.length;v++)s[w[v]]=!0;a.push(g)});var l,u=[$J,UJ];{var c,d=[DJ,MJ(function(g){c.insert(g)})],h=LJ(u.concat(i,d)),p=function(w){return Xa(OJ(w),h)};l=function(w,v,y,_){c=y,p(w?w+"{"+v.styles+"}":v.styles),_&&(m.inserted[v.name]=!0)}}var m={key:n,sheet:new _J({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(a),m},u2={exports:{}},Ie={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ct=typeof Symbol=="function"&&Symbol.for,lT=Ct?Symbol.for("react.element"):60103,uT=Ct?Symbol.for("react.portal"):60106,Gg=Ct?Symbol.for("react.fragment"):60107,Qg=Ct?Symbol.for("react.strict_mode"):60108,Yg=Ct?Symbol.for("react.profiler"):60114,Jg=Ct?Symbol.for("react.provider"):60109,Xg=Ct?Symbol.for("react.context"):60110,cT=Ct?Symbol.for("react.async_mode"):60111,Zg=Ct?Symbol.for("react.concurrent_mode"):60111,ey=Ct?Symbol.for("react.forward_ref"):60112,ty=Ct?Symbol.for("react.suspense"):60113,qJ=Ct?Symbol.for("react.suspense_list"):60120,ny=Ct?Symbol.for("react.memo"):60115,ry=Ct?Symbol.for("react.lazy"):60116,WJ=Ct?Symbol.for("react.block"):60121,HJ=Ct?Symbol.for("react.fundamental"):60117,KJ=Ct?Symbol.for("react.responder"):60118,GJ=Ct?Symbol.for("react.scope"):60119;function jn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case lT:switch(t=t.type,t){case cT:case Zg:case Gg:case Yg:case Qg:case ty:return t;default:switch(t=t&&t.$$typeof,t){case Xg:case ey:case ry:case ny:case Jg:return t;default:return e}}case uT:return e}}}function c2(t){return jn(t)===Zg}Ie.AsyncMode=cT;Ie.ConcurrentMode=Zg;Ie.ContextConsumer=Xg;Ie.ContextProvider=Jg;Ie.Element=lT;Ie.ForwardRef=ey;Ie.Fragment=Gg;Ie.Lazy=ry;Ie.Memo=ny;Ie.Portal=uT;Ie.Profiler=Yg;Ie.StrictMode=Qg;Ie.Suspense=ty;Ie.isAsyncMode=function(t){return c2(t)||jn(t)===cT};Ie.isConcurrentMode=c2;Ie.isContextConsumer=function(t){return jn(t)===Xg};Ie.isContextProvider=function(t){return jn(t)===Jg};Ie.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===lT};Ie.isForwardRef=function(t){return jn(t)===ey};Ie.isFragment=function(t){return jn(t)===Gg};Ie.isLazy=function(t){return jn(t)===ry};Ie.isMemo=function(t){return jn(t)===ny};Ie.isPortal=function(t){return jn(t)===uT};Ie.isProfiler=function(t){return jn(t)===Yg};Ie.isStrictMode=function(t){return jn(t)===Qg};Ie.isSuspense=function(t){return jn(t)===ty};Ie.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Gg||t===Zg||t===Yg||t===Qg||t===ty||t===qJ||typeof t=="object"&&t!==null&&(t.$$typeof===ry||t.$$typeof===ny||t.$$typeof===Jg||t.$$typeof===Xg||t.$$typeof===ey||t.$$typeof===HJ||t.$$typeof===KJ||t.$$typeof===GJ||t.$$typeof===WJ)};Ie.typeOf=jn;u2.exports=Ie;var QJ=u2.exports,d2=QJ,YJ={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},JJ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},h2={};h2[d2.ForwardRef]=YJ;h2[d2.Memo]=JJ;var XJ=!0;function ZJ(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var f2=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||XJ===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},p2=function(e,n,r){f2(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function eX(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var tX={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nX=/[A-Z]|^ms/g,rX=/_EMO_([^_]+?)_([^]*?)_EMO_/g,m2=function(e){return e.charCodeAt(1)===45},OP=function(e){return e!=null&&typeof e!="boolean"},h_=e2(function(t){return m2(t)?t:t.replace(nX,"-$&").toLowerCase()}),NP=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(rX,function(r,i,s){return Pr={name:i,styles:s,next:Pr},i})}return tX[e]!==1&&!m2(e)&&typeof n=="number"&&n!==0?n+"px":n};function cd(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Pr={name:n.name,styles:n.styles,next:Pr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Pr={name:r.name,styles:r.styles,next:Pr},r=r.next;var i=n.styles+";";return i}return iX(t,e,n)}case"function":{if(t!==void 0){var s=Pr,o=n(t);return Pr=s,cd(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function iX(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=cd(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":OP(o)&&(r+=h_(s)+":"+NP(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)OP(o[a])&&(r+=h_(s)+":"+NP(s,o[a])+";");else{var l=cd(t,e,o);switch(s){case"animation":case"animationName":{r+=h_(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var DP=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Pr,dT=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Pr=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=cd(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=cd(r,n,e[a]),i&&(s+=o[a]);DP.lastIndex=0;for(var l="",u;(u=DP.exec(s))!==null;)l+="-"+u[1];var c=eX(s)+l;return{name:c,styles:s,next:Pr}},sX=function(e){return e()},g2=Of.useInsertionEffect?Of.useInsertionEffect:!1,oX=g2||sX,LP=g2||P.useLayoutEffect,y2=P.createContext(typeof HTMLElement<"u"?l2({key:"css"}):null),aX=y2.Provider,_2=function(e){return P.forwardRef(function(n,r){var i=P.useContext(y2);return e(n,i,r)})},iy=P.createContext({}),f_={exports:{}},MP;function v2(){return MP||(MP=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(f_)),f_.exports}v2();var lX=_2(function(t,e){var n=t.styles,r=dT([n],void 0,P.useContext(iy)),i=P.useRef();return LP(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),LP(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&p2(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function w2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return dT(e)}var uX=function(){var e=w2.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},cX=mJ,dX=function(e){return e!=="theme"},VP=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?cX:dX},FP=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},hX=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return f2(n,r,i),oX(function(){return p2(n,r,i)}),null},fX=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=FP(e,n,r),l=a||VP(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,p=1;p<h;p++)d.push(c[p],c[0][p])}var m=_2(function(g,w,v){var y=u&&g.as||i,_="",I=[],E=g;if(g.theme==null){E={};for(var T in g)E[T]=g[T];E.theme=P.useContext(iy)}typeof g.className=="string"?_=ZJ(w.registered,I,g.className):g.className!=null&&(_=g.className+" ");var S=dT(d.concat(I),w.registered,E);_+=w.key+"-"+S.name,o!==void 0&&(_+=" "+o);var C=u&&a===void 0?VP(y):l,F={};for(var D in g)u&&D==="as"||C(D)&&(F[D]=g[D]);return F.className=_,F.ref=v,P.createElement(P.Fragment,null,P.createElement(hX,{cache:w,serialized:S,isStringTag:typeof y=="string"}),P.createElement(y,F))});return m.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(g,w){return t(g,Z({},n,w,{shouldForwardProp:FP(m,w,!0)})).apply(void 0,d)},m}},pX=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],xw=fX.bind();pX.forEach(function(t){xw[t]=xw(t)});let Ow;typeof document=="object"&&(Ow=l2({key:"css",prepend:!0}));function mX(t){const{injectFirst:e,children:n}=t;return e&&Ow?f.jsx(aX,{value:Ow,children:n}):n}function gX(t){return t==null||Object.keys(t).length===0}function yX(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(gX(i)?n:i):e;return f.jsx(lX,{styles:r})}function _X(t,e){return xw(t,e)}const vX=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},wX=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:yX,StyledEngineProvider:mX,ThemeContext:iy,css:w2,default:_X,internal_processStyles:vX,keyframes:uX},Symbol.toStringTag,{value:"Module"}));function EX(t){return Object.keys(t).length===0}function IX(t=null){const e=P.useContext(iy);return!e||EX(e)?t:e}const TX=iT();function SX(t=TX){return IX(t)}function AX({props:t,name:e,defaultTheme:n,themeId:r}){let i=SX(n);return r&&(i=i[r]||i),EY({theme:i,name:e,props:t})}const PX=["sx"],RX=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:ih;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function bX(t){const{sx:e}=t,n=ti(t,PX),{systemProps:r,otherProps:i}=RX(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return is(a)?Z({},r,a):r}:s=Z({},r,e),Z({},i,{sx:s})}const CX=Object.freeze(Object.defineProperty({__proto__:null,default:qg,extendSxProp:bX,unstable_createStyleFunctionSx:XL,unstable_defaultSxConfig:ih},Symbol.toStringTag,{value:"Module"}));function kX(t,e){return Z({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var it={},E2={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(E2);var I2=E2.exports;const xX=Ns(ZQ),OX=Ns(GQ);var T2=I2;Object.defineProperty(it,"__esModule",{value:!0});it.alpha=R2;it.blend=WX;it.colorChannel=void 0;var NX=it.darken=fT;it.decomposeColor=nr;it.emphasize=b2;var DX=it.getContrastRatio=$X;it.getLuminance=Kp;it.hexToRgb=S2;it.hslToRgb=P2;var LX=it.lighten=pT;it.private_safeAlpha=UX;it.private_safeColorChannel=void 0;it.private_safeDarken=BX;it.private_safeEmphasize=qX;it.private_safeLighten=zX;it.recomposeColor=Zl;it.rgbToHex=jX;var jP=T2(xX),MX=T2(OX);function hT(t,e=0,n=1){return(0,MX.default)(t,e,n)}function S2(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function VX(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function nr(t){if(t.type)return t;if(t.charAt(0)==="#")return nr(S2(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,jP.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,jP.default)(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const A2=t=>{const e=nr(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};it.colorChannel=A2;const FX=(t,e)=>{try{return A2(t)}catch{return t}};it.private_safeColorChannel=FX;function Zl(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function jX(t){if(t.indexOf("#")===0)return t;const{values:e}=nr(t);return`#${e.map((n,r)=>VX(r===3?Math.round(255*n):n)).join("")}`}function P2(t){t=nr(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Zl({type:a,values:l})}function Kp(t){t=nr(t);let e=t.type==="hsl"||t.type==="hsla"?nr(P2(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function $X(t,e){const n=Kp(t),r=Kp(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function R2(t,e){return t=nr(t),e=hT(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Zl(t)}function UX(t,e,n){try{return R2(t,e)}catch{return t}}function fT(t,e){if(t=nr(t),e=hT(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Zl(t)}function BX(t,e,n){try{return fT(t,e)}catch{return t}}function pT(t,e){if(t=nr(t),e=hT(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Zl(t)}function zX(t,e,n){try{return pT(t,e)}catch{return t}}function b2(t,e=.15){return Kp(t)>.5?fT(t,e):pT(t,e)}function qX(t,e,n){try{return b2(t,e)}catch{return t}}function WX(t,e,n,r=1){const i=(l,u)=>Math.round((l**(1/r)*(1-n)+u**(1/r)*n)**r),s=nr(t),o=nr(e),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return Zl({type:"rgb",values:a})}const dd={black:"#000",white:"#fff"},HX={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},la={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ua={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Su={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ca={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},da={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},ha={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},KX=["mode","contrastThreshold","tonalOffset"],$P={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:dd.white,default:dd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},p_={text:{primary:dd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:dd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function UP(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=LX(t.main,i):e==="dark"&&(t.dark=NX(t.main,s)))}function GX(t="light"){return t==="dark"?{main:ca[200],light:ca[50],dark:ca[400]}:{main:ca[700],light:ca[400],dark:ca[800]}}function QX(t="light"){return t==="dark"?{main:la[200],light:la[50],dark:la[400]}:{main:la[500],light:la[300],dark:la[700]}}function YX(t="light"){return t==="dark"?{main:ua[500],light:ua[300],dark:ua[700]}:{main:ua[700],light:ua[400],dark:ua[800]}}function JX(t="light"){return t==="dark"?{main:da[400],light:da[300],dark:da[700]}:{main:da[700],light:da[500],dark:da[900]}}function XX(t="light"){return t==="dark"?{main:ha[400],light:ha[300],dark:ha[700]}:{main:ha[800],light:ha[500],dark:ha[900]}}function ZX(t="light"){return t==="dark"?{main:Su[400],light:Su[300],dark:Su[700]}:{main:"#ed6c02",light:Su[500],dark:Su[900]}}function eZ(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=ti(t,KX),s=t.primary||GX(e),o=t.secondary||QX(e),a=t.error||YX(e),l=t.info||JX(e),u=t.success||XX(e),c=t.warning||ZX(e);function d(g){return DX(g,p_.text.primary)>=n?p_.text.primary:$P.text.primary}const h=({color:g,name:w,mainShade:v=500,lightShade:y=300,darkShade:_=700})=>{if(g=Z({},g),!g.main&&g[v]&&(g.main=g[v]),!g.hasOwnProperty("main"))throw new Error(ad(11,w?` (${w})`:"",v));if(typeof g.main!="string")throw new Error(ad(12,w?` (${w})`:"",JSON.stringify(g.main)));return UP(g,"light",y,r),UP(g,"dark",_,r),g.contrastText||(g.contrastText=d(g.main)),g},p={dark:p_,light:$P};return Kr(Z({common:Z({},dd),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:HX,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[e]),i)}const tZ=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function nZ(t){return Math.round(t*1e5)/1e5}const BP={textTransform:"uppercase"},zP='"Roboto", "Helvetica", "Arial", sans-serif';function rZ(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=zP,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=ti(n,tZ),p=i/14,m=d||(v=>`${v/u*p}rem`),g=(v,y,_,I,E)=>Z({fontFamily:r,fontWeight:v,fontSize:m(y),lineHeight:_},r===zP?{letterSpacing:`${nZ(I/y)}em`}:{},E,c),w={h1:g(s,96,1.167,-1.5),h2:g(s,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(a,14,1.75,.4,BP),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,BP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Kr(Z({htmlFontSize:u,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},w),h,{clone:!1})}const iZ=.2,sZ=.14,oZ=.12;function Oe(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${iZ})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${sZ})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${oZ})`].join(",")}const aZ=["none",Oe(0,2,1,-1,0,1,1,0,0,1,3,0),Oe(0,3,1,-2,0,2,2,0,0,1,5,0),Oe(0,3,3,-2,0,3,4,0,0,1,8,0),Oe(0,2,4,-1,0,4,5,0,0,1,10,0),Oe(0,3,5,-1,0,5,8,0,0,1,14,0),Oe(0,3,5,-1,0,6,10,0,0,1,18,0),Oe(0,4,5,-2,0,7,10,1,0,2,16,1),Oe(0,5,5,-3,0,8,10,1,0,3,14,2),Oe(0,5,6,-3,0,9,12,1,0,3,16,2),Oe(0,6,6,-3,0,10,14,1,0,4,18,3),Oe(0,6,7,-4,0,11,15,1,0,4,20,3),Oe(0,7,8,-4,0,12,17,2,0,5,22,4),Oe(0,7,8,-4,0,13,19,2,0,5,24,4),Oe(0,7,9,-4,0,14,21,2,0,5,26,4),Oe(0,8,9,-5,0,15,22,2,0,6,28,5),Oe(0,8,10,-5,0,16,24,2,0,6,30,5),Oe(0,8,11,-5,0,17,26,2,0,6,32,5),Oe(0,9,11,-5,0,18,28,2,0,7,34,6),Oe(0,9,12,-6,0,19,29,2,0,7,36,6),Oe(0,10,13,-6,0,20,31,3,0,8,38,7),Oe(0,10,13,-6,0,21,33,3,0,8,40,7),Oe(0,10,14,-6,0,22,35,3,0,8,42,7),Oe(0,11,14,-7,0,23,36,3,0,9,44,8),Oe(0,11,15,-7,0,24,38,3,0,9,46,8)],lZ=["duration","easing","delay"],uZ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},cZ={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function qP(t){return`${Math.round(t)}ms`}function dZ(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function hZ(t){const e=Z({},uZ,t.easing),n=Z({},cZ,t.duration);return Z({getAutoHeightDuration:dZ,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return ti(s,lZ),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:qP(o)} ${a} ${typeof l=="string"?l:qP(l)}`).join(",")}},t,{easing:e,duration:n})}const fZ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},pZ=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function mZ(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=ti(t,pZ);if(t.vars)throw new Error(ad(18));const a=eZ(r),l=iT(t);let u=Kr(l,{mixins:kX(l.breakpoints,n),palette:a,shadows:aZ.slice(),typography:rZ(a,s),transitions:hZ(i),zIndex:Z({},fZ)});return u=Kr(u,o),u=e.reduce((c,d)=>Kr(c,d),u),u.unstable_sxConfig=Z({},ih,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return qg({sx:d,theme:this})},u}const C2=mZ(),k2="$$material";function x2({props:t,name:e}){return AX({props:t,name:e,defaultTheme:C2,themeId:k2})}var oh={},m_={exports:{}},WP;function gZ(){return WP||(WP=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){if(r.indexOf(s)>=0)continue;i[s]=n[s]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(m_)),m_.exports}const yZ=Ns(wX),_Z=Ns(XQ),vZ=Ns(sY),wZ=Ns(iY),EZ=Ns(fJ),IZ=Ns(CX);var eu=I2;Object.defineProperty(oh,"__esModule",{value:!0});var TZ=oh.default=MZ;oh.shouldForwardProp=bf;oh.systemDefaultTheme=void 0;var Bn=eu(v2()),Nw=eu(gZ()),HP=kZ(yZ),SZ=_Z;eu(vZ);eu(wZ);var AZ=eu(EZ),PZ=eu(IZ);const RZ=["ownerState"],bZ=["variants"],CZ=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function O2(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(O2=function(r){return r?n:e})(t)}function kZ(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=O2(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}function xZ(t){return Object.keys(t).length===0}function OZ(t){return typeof t=="string"&&t.charCodeAt(0)>96}function bf(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const NZ=oh.systemDefaultTheme=(0,AZ.default)(),DZ=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Bh({defaultTheme:t,theme:e,themeId:n}){return xZ(e)?t:e[n]||e}function LZ(t){return t?(e,n)=>n[t]:null}function Cf(t,e){let{ownerState:n}=e,r=(0,Nw.default)(e,RZ);const i=typeof t=="function"?t((0,Bn.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>Cf(s,(0,Bn.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=(0,Nw.default)(i,bZ);return s.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props((0,Bn.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(c=>{(n==null?void 0:n[c])!==l.props[c]&&r[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,Bn.default)({ownerState:n},r,n)):l.style))}),a}return i}function MZ(t={}){const{themeId:e,defaultTheme:n=NZ,rootShouldForwardProp:r=bf,slotShouldForwardProp:i=bf}=t,s=o=>(0,PZ.default)((0,Bn.default)({},o,{theme:Bh((0,Bn.default)({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{(0,HP.internal_processStyles)(o,E=>E.filter(T=>!(T!=null&&T.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=LZ(DZ(u))}=a,p=(0,Nw.default)(a,CZ),m=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,g=d||!1;let w,v=bf;u==="Root"||u==="root"?v=r:u?v=i:OZ(o)&&(v=void 0);const y=(0,HP.default)(o,(0,Bn.default)({shouldForwardProp:v,label:w},p)),_=E=>typeof E=="function"&&E.__emotion_real!==E||(0,SZ.isPlainObject)(E)?T=>Cf(E,(0,Bn.default)({},T,{theme:Bh({theme:T.theme,defaultTheme:n,themeId:e})})):E,I=(E,...T)=>{let S=_(E);const C=T?T.map(_):[];l&&h&&C.push(ee=>{const Se=Bh((0,Bn.default)({},ee,{defaultTheme:n,themeId:e}));if(!Se.components||!Se.components[l]||!Se.components[l].styleOverrides)return null;const de=Se.components[l].styleOverrides,yt={};return Object.entries(de).forEach(([xe,un])=>{yt[xe]=Cf(un,(0,Bn.default)({},ee,{theme:Se}))}),h(ee,yt)}),l&&!m&&C.push(ee=>{var Se;const de=Bh((0,Bn.default)({},ee,{defaultTheme:n,themeId:e})),yt=de==null||(Se=de.components)==null||(Se=Se[l])==null?void 0:Se.variants;return Cf({variants:yt},(0,Bn.default)({},ee,{theme:de}))}),g||C.push(s);const F=C.length-T.length;if(Array.isArray(E)&&F>0){const ee=new Array(F).fill("");S=[...E,...ee],S.raw=[...E.raw,...ee]}const D=y(S,...C);return o.muiName&&(D.muiName=o.muiName),D};return y.withConfig&&(I.withConfig=y.withConfig),I}}function N2(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const VZ=t=>N2(t)&&t!=="classes",ah=TZ({themeId:k2,defaultTheme:C2,rootShouldForwardProp:VZ});function FZ(t){return ZI("MuiSvgIcon",t)}GL("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const jZ=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],$Z=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${ki(e)}`,`fontSize${ki(n)}`]};return $L(i,FZ,r)},UZ=ah("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${ki(n.color)}`],e[`fontSize${ki(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),Dw=P.forwardRef(function(e,n){const r=x2({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=ti(r,jZ),m=P.isValidElement(i)&&i.type==="svg",g=Z({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:m}),w={};c||(w.viewBox=h);const v=$Z(g);return f.jsxs(UZ,Z({as:a,className:cc(v.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},w,p,m&&i.props,{ownerState:g,children:[m?i.props.children:i,d?f.jsx("title",{children:d}):null]}))});Dw.muiName="SvgIcon";function D2(t,e){function n(r,i){return f.jsx(Dw,Z({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=Dw.muiName,P.memo(P.forwardRef(n))}const BZ=D2(f.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),zZ=D2(f.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function qZ(t){return ZI("MuiRating",t)}const Au=GL("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),WZ=["value"],HZ=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function KZ(t){const e=t.toString().split(".")[1];return e?e.length:0}function g_(t,e){if(t==null)return t;const n=Math.round(t/e)*e;return Number(n.toFixed(KZ(e)))}const GZ=t=>{const{classes:e,size:n,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:o}=t,a={root:["root",`size${ki(n)}`,i&&"disabled",o&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return $L(a,qZ,e)},QZ=ah("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Au.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${ki(n.size)}`],n.readOnly&&e.readOnly]}})(({theme:t,ownerState:e})=>Z({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Au.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Au.focusVisible} .${Au.iconActive}`]:{outline:"1px solid #999"},[`& .${Au.visuallyHidden}`]:QQ},e.size==="small"&&{fontSize:t.typography.pxToRem(18)},e.size==="large"&&{fontSize:t.typography.pxToRem(30)},e.readOnly&&{pointerEvents:"none"})),L2=ah("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})(({ownerState:t})=>Z({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),YZ=ah("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.iconEmpty&&e.iconEmpty,n.iconFilled&&e.iconFilled,n.iconHover&&e.iconHover,n.iconFocus&&e.iconFocus,n.iconActive&&e.iconActive]}})(({theme:t,ownerState:e})=>Z({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},e.iconActive&&{transform:"scale(1.2)"},e.iconEmpty&&{color:(t.vars||t).palette.action.disabled})),JZ=ah("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>N2(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:n}=t;return[e.decimal,n&&e.iconActive]}})(({iconActive:t})=>Z({position:"relative"},t&&{transform:"scale(1.2)"}));function XZ(t){const e=ti(t,WZ);return f.jsx("span",Z({},e))}function KP(t){const{classes:e,disabled:n,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:o,hover:a,icon:l,IconContainerComponent:u,isActive:c,itemValue:d,labelProps:h,name:p,onBlur:m,onChange:g,onClick:w,onFocus:v,readOnly:y,ownerState:_,ratingValue:I,ratingValueRounded:E}=t,T=o?d===I:d<=I,S=d<=a,C=d<=i,F=d===E,D=HL(),ee=f.jsx(YZ,{as:u,value:d,className:cc(e.icon,T?e.iconFilled:e.iconEmpty,S&&e.iconHover,C&&e.iconFocus,c&&e.iconActive),ownerState:Z({},_,{iconEmpty:!T,iconFilled:T,iconHover:S,iconFocus:C,iconActive:c}),children:r&&!T?r:l});return y?f.jsx("span",Z({},h,{children:ee})):f.jsxs(P.Fragment,{children:[f.jsxs(L2,Z({ownerState:Z({},_,{emptyValueFocused:void 0}),htmlFor:D},h,{children:[ee,f.jsx("span",{className:e.visuallyHidden,children:s(d)})]})),f.jsx("input",{className:e.visuallyHidden,onFocus:v,onBlur:m,onChange:g,onClick:w,disabled:n,value:d,id:D,type:"radio",name:p,checked:F})]})}const ZZ=f.jsx(BZ,{fontSize:"inherit"}),eee=f.jsx(zZ,{fontSize:"inherit"});function tee(t){return`${t} Star${t!==1?"s":""}`}const nee=P.forwardRef(function(e,n){const r=x2({name:"MuiRating",props:e}),{className:i,defaultValue:s=null,disabled:o=!1,emptyIcon:a=eee,emptyLabelText:l="Empty",getLabelText:u=tee,highlightSelectedOnly:c=!1,icon:d=ZZ,IconContainerComponent:h=XZ,max:p=5,name:m,onChange:g,onChangeActive:w,onMouseLeave:v,onMouseMove:y,precision:_=1,readOnly:I=!1,size:E="medium",value:T}=r,S=ti(r,HZ),C=HL(m),[F,D]=lY({controlled:T,default:s,name:"Rating"}),ee=g_(F,_),Se=JQ(),[{hover:de,focus:yt},xe]=P.useState({hover:-1,focus:-1});let un=ee;de!==-1&&(un=de),yt!==-1&&(un=yt);const{isFocusVisibleRef:Yt,onBlur:$,onFocus:K,ref:Q}=yY(),[ue,ze]=P.useState(!1),Hs=P.useRef(),ni=uY(Q,Hs,n),nu=qe=>{y&&y(qe);const jt=Hs.current,{right:sr,left:lh,width:Zo}=jt.getBoundingClientRect();let ea;Se?ea=(sr-qe.clientX)/Zo:ea=(qe.clientX-lh)/Zo;let ii=g_(p*ea+_/2,_);ii=jL(ii,_,p),xe(Gs=>Gs.hover===ii&&Gs.focus===ii?Gs:{hover:ii,focus:ii}),ze(!1),w&&de!==ii&&w(qe,ii)},ri=qe=>{v&&v(qe);const jt=-1;xe({hover:jt,focus:jt}),w&&de!==jt&&w(qe,jt)},Ks=qe=>{let jt=qe.target.value===""?null:parseFloat(qe.target.value);de!==-1&&(jt=de),D(jt),g&&g(qe,jt)},G2=qe=>{qe.clientX===0&&qe.clientY===0||(xe({hover:-1,focus:-1}),D(null),g&&parseFloat(qe.target.value)===ee&&g(qe,null))},Q2=qe=>{K(qe),Yt.current===!0&&ze(!0);const jt=parseFloat(qe.target.value);xe(sr=>({hover:sr.hover,focus:jt}))},Y2=qe=>{if(de!==-1)return;$(qe),Yt.current===!1&&ze(!1);const jt=-1;xe(sr=>({hover:sr.hover,focus:jt}))},[J2,yT]=P.useState(!1),ru=Z({},r,{defaultValue:s,disabled:o,emptyIcon:a,emptyLabelText:l,emptyValueFocused:J2,focusVisible:ue,getLabelText:u,icon:d,IconContainerComponent:h,max:p,precision:_,readOnly:I,size:E}),Ui=GZ(ru);return f.jsxs(QZ,Z({ref:ni,onMouseMove:nu,onMouseLeave:ri,className:cc(Ui.root,i,I&&"MuiRating-readOnly"),ownerState:ru,role:I?"img":null,"aria-label":I?u(un):null},S,{children:[Array.from(new Array(p)).map((qe,jt)=>{const sr=jt+1,lh={classes:Ui,disabled:o,emptyIcon:a,focus:yt,getLabelText:u,highlightSelectedOnly:c,hover:de,icon:d,IconContainerComponent:h,name:C,onBlur:Y2,onChange:Ks,onClick:G2,onFocus:Q2,ratingValue:un,ratingValueRounded:ee,readOnly:I,ownerState:ru},Zo=sr===Math.ceil(un)&&(de!==-1||yt!==-1);if(_<1){const ea=Array.from(new Array(1/_));return f.jsx(JZ,{className:cc(Ui.decimal,Zo&&Ui.iconActive),ownerState:ru,iconActive:Zo,children:ea.map((ii,Gs)=>{const oy=g_(sr-1+(Gs+1)*_,_);return f.jsx(KP,Z({},lh,{isActive:!1,itemValue:oy,labelProps:{style:ea.length-1===Gs?{}:{width:oy===un?`${(Gs+1)*_*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),oy)})},sr)}return f.jsx(KP,Z({},lh,{isActive:Zo,itemValue:sr}),sr)}),!I&&!o&&f.jsxs(L2,{className:cc(Ui.label,Ui.labelEmptyValue),ownerState:ru,children:[f.jsx("input",{className:Ui.visuallyHidden,value:"",id:`${C}-empty`,type:"radio",name:C,checked:ee==null,onFocus:()=>yT(!0),onBlur:()=>yT(!1),onChange:Ks}),f.jsx("span",{className:Ui.visuallyHidden,children:l})]})]}))});var M2={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(t){(function(e,n){t.exports?t.exports=n():e.numeral=n()})(Fw,function(){var e,n,r="2.0.6",i={},s={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function l(u,c){this._input=u,this._value=c}return e=function(u){var c,d,h,p;if(e.isNumeral(u))c=u.value();else if(u===0||typeof u>"u")c=0;else if(u===null||n.isNaN(u))c=null;else if(typeof u=="string")if(a.zeroFormat&&u===a.zeroFormat)c=0;else if(a.nullFormat&&u===a.nullFormat||!u.replace(/[^0-9]+/g,"").length)c=null;else{for(d in i)if(p=typeof i[d].regexps.unformat=="function"?i[d].regexps.unformat():i[d].regexps.unformat,p&&u.match(p)){h=i[d].unformat;break}h=h||e._.stringToNumber,c=h(u)}else c=Number(u)||null;return new l(u,c)},e.version=r,e.isNumeral=function(u){return u instanceof l},e._=n={numberToFormat:function(u,c,d){var h=s[e.options.currentLocale],p=!1,m=!1,g=0,w="",v=1e12,y=1e9,_=1e6,I=1e3,E="",T=!1,S,C,F,D,ee,Se,de;if(u=u||0,C=Math.abs(u),e._.includes(c,"(")?(p=!0,c=c.replace(/[\(|\)]/g,"")):(e._.includes(c,"+")||e._.includes(c,"-"))&&(ee=e._.includes(c,"+")?c.indexOf("+"):u<0?c.indexOf("-"):-1,c=c.replace(/[\+|\-]/g,"")),e._.includes(c,"a")&&(S=c.match(/a(k|m|b|t)?/),S=S?S[1]:!1,e._.includes(c," a")&&(w=" "),c=c.replace(new RegExp(w+"a[kmbt]?"),""),C>=v&&!S||S==="t"?(w+=h.abbreviations.trillion,u=u/v):C<v&&C>=y&&!S||S==="b"?(w+=h.abbreviations.billion,u=u/y):C<y&&C>=_&&!S||S==="m"?(w+=h.abbreviations.million,u=u/_):(C<_&&C>=I&&!S||S==="k")&&(w+=h.abbreviations.thousand,u=u/I)),e._.includes(c,"[.]")&&(m=!0,c=c.replace("[.]",".")),F=u.toString().split(".")[0],D=c.split(".")[1],Se=c.indexOf(","),g=(c.split(".")[0].split(",")[0].match(/0/g)||[]).length,D?(e._.includes(D,"[")?(D=D.replace("]",""),D=D.split("["),E=e._.toFixed(u,D[0].length+D[1].length,d,D[1].length)):E=e._.toFixed(u,D.length,d),F=E.split(".")[0],e._.includes(E,".")?E=h.delimiters.decimal+E.split(".")[1]:E="",m&&Number(E.slice(1))===0&&(E="")):F=e._.toFixed(u,0,d),w&&!S&&Number(F)>=1e3&&w!==h.abbreviations.trillion)switch(F=String(Number(F)/1e3),w){case h.abbreviations.thousand:w=h.abbreviations.million;break;case h.abbreviations.million:w=h.abbreviations.billion;break;case h.abbreviations.billion:w=h.abbreviations.trillion;break}if(e._.includes(F,"-")&&(F=F.slice(1),T=!0),F.length<g)for(var yt=g-F.length;yt>0;yt--)F="0"+F;return Se>-1&&(F=F.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),c.indexOf(".")===0&&(F=""),de=F+E+(w||""),p?de=(p&&T?"(":"")+de+(p&&T?")":""):ee>=0?de=ee===0?(T?"-":"+")+de:de+(T?"-":"+"):T&&(de="-"+de),de},stringToNumber:function(u){var c=s[a.currentLocale],d=u,h={thousand:3,million:6,billion:9,trillion:12},p,m,g;if(a.zeroFormat&&u===a.zeroFormat)m=0;else if(a.nullFormat&&u===a.nullFormat||!u.replace(/[^0-9]+/g,"").length)m=null;else{m=1,c.delimiters.decimal!=="."&&(u=u.replace(/\./g,"").replace(c.delimiters.decimal,"."));for(p in h)if(g=new RegExp("[^a-zA-Z]"+c.abbreviations[p]+"(?:\\)|(\\"+c.currency.symbol+")?(?:\\))?)?$"),d.match(g)){m*=Math.pow(10,h[p]);break}m*=(u.split("-").length+Math.min(u.split("(").length-1,u.split(")").length-1))%2?1:-1,u=u.replace(/[^0-9\.]+/g,""),m*=Number(u)}return m},isNaN:function(u){return typeof u=="number"&&isNaN(u)},includes:function(u,c){return u.indexOf(c)!==-1},insert:function(u,c,d){return u.slice(0,d)+c+u.slice(d)},reduce:function(u,c){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof c!="function")throw new TypeError(c+" is not a function");var d=Object(u),h=d.length>>>0,p=0,m;if(arguments.length===3)m=arguments[2];else{for(;p<h&&!(p in d);)p++;if(p>=h)throw new TypeError("Reduce of empty array with no initial value");m=d[p++]}for(;p<h;p++)p in d&&(m=c(m,d[p],p,d));return m},multiplier:function(u){var c=u.toString().split(".");return c.length<2?1:Math.pow(10,c[1].length)},correctionFactor:function(){var u=Array.prototype.slice.call(arguments);return u.reduce(function(c,d){var h=n.multiplier(d);return c>h?c:h},1)},toFixed:function(u,c,d,h){var p=u.toString().split("."),m=c-(h||0),g,w,v,y;return p.length===2?g=Math.min(Math.max(p[1].length,m),c):g=m,v=Math.pow(10,g),y=(d(u+"e+"+g)/v).toFixed(g),h>c-g&&(w=new RegExp("\\.?0{1,"+(h-(c-g))+"}$"),y=y.replace(w,"")),y}},e.options=a,e.formats=i,e.locales=s,e.locale=function(u){return u&&(a.currentLocale=u.toLowerCase()),a.currentLocale},e.localeData=function(u){if(!u)return s[a.currentLocale];if(u=u.toLowerCase(),!s[u])throw new Error("Unknown locale : "+u);return s[u]},e.reset=function(){for(var u in o)a[u]=o[u]},e.zeroFormat=function(u){a.zeroFormat=typeof u=="string"?u:null},e.nullFormat=function(u){a.nullFormat=typeof u=="string"?u:null},e.defaultFormat=function(u){a.defaultFormat=typeof u=="string"?u:"0.0"},e.register=function(u,c,d){if(c=c.toLowerCase(),this[u+"s"][c])throw new TypeError(c+" "+u+" already registered.");return this[u+"s"][c]=d,d},e.validate=function(u,c){var d,h,p,m,g,w,v,y;if(typeof u!="string"&&(u+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",u)),u=u.trim(),u.match(/^\d+$/))return!0;if(u==="")return!1;try{v=e.localeData(c)}catch{v=e.localeData(e.locale())}return p=v.currency.symbol,g=v.abbreviations,d=v.delimiters.decimal,v.delimiters.thousands==="."?h="\\.":h=v.delimiters.thousands,y=u.match(/^[^\d]+/),y!==null&&(u=u.substr(1),y[0]!==p)||(y=u.match(/[^\d]+$/),y!==null&&(u=u.slice(0,-1),y[0]!==g.thousand&&y[0]!==g.million&&y[0]!==g.billion&&y[0]!==g.trillion))?!1:(w=new RegExp(h+"{2}"),u.match(/[^\d.,]/g)?!1:(m=u.split(d),m.length>2?!1:m.length<2?!!m[0].match(/^\d+.*\d$/)&&!m[0].match(w):m[0].length===1?!!m[0].match(/^\d+$/)&&!m[0].match(w)&&!!m[1].match(/^\d+$/):!!m[0].match(/^\d+.*\d$/)&&!m[0].match(w)&&!!m[1].match(/^\d+$/)))},e.fn=l.prototype={clone:function(){return e(this)},format:function(u,c){var d=this._value,h=u||a.defaultFormat,p,m,g;if(c=c||Math.round,d===0&&a.zeroFormat!==null)m=a.zeroFormat;else if(d===null&&a.nullFormat!==null)m=a.nullFormat;else{for(p in i)if(h.match(i[p].regexps.format)){g=i[p].format;break}g=g||e._.numberToFormat,m=g(d,h,c)}return m},value:function(){return this._value},input:function(){return this._input},set:function(u){return this._value=Number(u),this},add:function(u){var c=n.correctionFactor.call(null,this._value,u);function d(h,p,m,g){return h+Math.round(c*p)}return this._value=n.reduce([this._value,u],d,0)/c,this},subtract:function(u){var c=n.correctionFactor.call(null,this._value,u);function d(h,p,m,g){return h-Math.round(c*p)}return this._value=n.reduce([u],d,Math.round(this._value*c))/c,this},multiply:function(u){function c(d,h,p,m){var g=n.correctionFactor(d,h);return Math.round(d*g)*Math.round(h*g)/Math.round(g*g)}return this._value=n.reduce([this._value,u],c,1),this},divide:function(u){function c(d,h,p,m){var g=n.correctionFactor(d,h);return Math.round(d*g)/Math.round(h*g)}return this._value=n.reduce([this._value,u],c),this},difference:function(u){return Math.abs(e(this._value).subtract(u).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(u){var c=u%10;return~~(u%100/10)===1?"th":c===1?"st":c===2?"nd":c===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(u,c,d){var h=e._.includes(c," BPS")?" ":"",p;return u=u*1e4,c=c.replace(/\s?BPS/,""),p=e._.numberToFormat(u,c,d),e._.includes(p,")")?(p=p.split(""),p.splice(-1,0,h+"BPS"),p=p.join("")):p=p+h+"BPS",p},unformat:function(u){return+(e._.stringToNumber(u)*1e-4).toFixed(15)}})}(),function(){var u={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},c={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},d=u.suffixes.concat(c.suffixes.filter(function(p){return u.suffixes.indexOf(p)<0})),h=d.join("|");h="("+h.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(h)},format:function(p,m,g){var w,v=e._.includes(m,"ib")?c:u,y=e._.includes(m," b")||e._.includes(m," ib")?" ":"",_,I,E;for(m=m.replace(/\s?i?b/,""),_=0;_<=v.suffixes.length;_++)if(I=Math.pow(v.base,_),E=Math.pow(v.base,_+1),p===null||p===0||p>=I&&p<E){y+=v.suffixes[_],I>0&&(p=p/I);break}return w=e._.numberToFormat(p,m,g),w+y},unformat:function(p){var m=e._.stringToNumber(p),g,w;if(m){for(g=u.suffixes.length-1;g>=0;g--){if(e._.includes(p,u.suffixes[g])){w=Math.pow(u.base,g);break}if(e._.includes(p,c.suffixes[g])){w=Math.pow(c.base,g);break}}m*=w||1}return m}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(u,c,d){var h=e.locales[e.options.currentLocale],p={before:c.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:c.match(/([\+|\-|\)|\s|\$]*)$/)[0]},m,g,w;for(c=c.replace(/\s?\$\s?/,""),m=e._.numberToFormat(u,c,d),u>=0?(p.before=p.before.replace(/[\-\(]/,""),p.after=p.after.replace(/[\-\)]/,"")):u<0&&!e._.includes(p.before,"-")&&!e._.includes(p.before,"(")&&(p.before="-"+p.before),w=0;w<p.before.length;w++)switch(g=p.before[w],g){case"$":m=e._.insert(m,h.currency.symbol,w);break;case" ":m=e._.insert(m," ",w+h.currency.symbol.length-1);break}for(w=p.after.length-1;w>=0;w--)switch(g=p.after[w],g){case"$":m=w===p.after.length-1?m+h.currency.symbol:e._.insert(m,h.currency.symbol,-(p.after.length-(1+w)));break;case" ":m=w===p.after.length-1?m+" ":e._.insert(m," ",-(p.after.length-(1+w)+h.currency.symbol.length-1));break}return m}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(u,c,d){var h,p=typeof u=="number"&&!e._.isNaN(u)?u.toExponential():"0e+0",m=p.split("e");return c=c.replace(/e[\+|\-]{1}0/,""),h=e._.numberToFormat(Number(m[0]),c,d),h+"e"+m[1]},unformat:function(u){var c=e._.includes(u,"e+")?u.split("e+"):u.split("e-"),d=Number(c[0]),h=Number(c[1]);h=e._.includes(u,"e-")?h*=-1:h;function p(m,g,w,v){var y=e._.correctionFactor(m,g),_=m*y*(g*y)/(y*y);return _}return e._.reduce([d,Math.pow(10,h)],p,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(u,c,d){var h=e.locales[e.options.currentLocale],p,m=e._.includes(c," o")?" ":"";return c=c.replace(/\s?o/,""),m+=h.ordinal(u),p=e._.numberToFormat(u,c,d),p+m}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(u,c,d){var h=e._.includes(c," %")?" ":"",p;return e.options.scalePercentBy100&&(u=u*100),c=c.replace(/\s?\%/,""),p=e._.numberToFormat(u,c,d),e._.includes(p,")")?(p=p.split(""),p.splice(-1,0,h+"%"),p=p.join("")):p=p+h+"%",p},unformat:function(u){var c=e._.stringToNumber(u);return e.options.scalePercentBy100?c*.01:c}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(u,c,d){var h=Math.floor(u/60/60),p=Math.floor((u-h*60*60)/60),m=Math.round(u-h*60*60-p*60);return h+":"+(p<10?"0"+p:p)+":"+(m<10?"0"+m:m)},unformat:function(u){var c=u.split(":"),d=0;return c.length===3?(d=d+Number(c[0])*60*60,d=d+Number(c[1])*60,d=d+Number(c[2])):c.length===2&&(d=d+Number(c[0])*60,d=d+Number(c[1])),Number(d)}})}(),e})})(M2);var ree=M2.exports;const iee=jw(ree);function mT({amount:t}){const e=iee(t).format("$0,0.00");return f.jsx("div",{children:e})}const see="_card__container_topqg_1",oee="_card__rating_topqg_21",aee="_button_topqg_33",lee="_product__flexed_topqg_95",zh={card__container:see,card__rating:oee,button:aee,product__flexed:lee},Qn={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function tu({product:t,flex:e,rendDescr:n,renderADD:r}){const{image:i,title:s,id:o,rating:a,price:l,description:u}=t,[c,d]=P.useContext(ei),h=()=>{d({type:Qn.ADD_TO_BASKET,item:{image:i,title:s,id:o,rating:a,price:l,description:u}})};return f.jsxs("div",{className:`${zh.card__container} ${e?zh.product__flexed:""}`,children:[f.jsx(j,{to:`/products/${o}`,children:f.jsx("img",{src:i,alt:""})}),f.jsxs("div",{children:[f.jsx("h3",{children:s}),n&&f.jsx("div",{style:{maxWidth:"750px"},children:u}),f.jsxs("div",{className:zh.card__rating,children:[f.jsx(nee,{value:a==null?void 0:a.rate,precision:.1}),f.jsx("small",{children:a==null?void 0:a.count})]}),f.jsx("div",{children:f.jsx(mT,{amount:l})}),r&&f.jsx("button",{className:zh.button,onClick:h,children:"add to cart"})]})]})}const uee="_product__container_1591e_1",cee={product__container:uee};var dee={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function V2(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return dee[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function kf(t){var e=V2(t);return"".concat(e.value).concat(e.unit)}var Zi=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r},Gp=function(){return Gp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Gp.apply(this,arguments)},hee=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},fee=Zi("ClimbingBoxLoader",`0% {transform:translate(0, -1em) rotate(-45deg)}
  5% {transform:translate(0, -1em) rotate(-50deg)}
  20% {transform:translate(1em, -2em) rotate(47deg)}
  25% {transform:translate(1em, -2em) rotate(45deg)}
  30% {transform:translate(1em, -2em) rotate(40deg)}
  45% {transform:translate(2em, -3em) rotate(137deg)}
  50% {transform:translate(2em, -3em) rotate(135deg)}
  55% {transform:translate(2em, -3em) rotate(130deg)}
  70% {transform:translate(3em, -4em) rotate(217deg)}
  75% {transform:translate(3em, -4em) rotate(220deg)}
  100% {transform:translate(0, -1em) rotate(-225deg)}`,"climbingBox");function pee(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,c=u===void 0?15:u,d=hee(t,["loading","color","speedMultiplier","cssOverride","size"]),h=Gp({display:"inherit",position:"relative",width:"7.1em",height:"7.1em"},l),p={position:"absolute",top:"50%",left:"50%",marginTop:"-2.7em",marginLeft:"-2.7em",width:"5.4em",height:"5.4em",fontSize:kf(c)},m={position:"absolute",left:"0",bottom:"-0.1em",height:"1em",width:"1em",backgroundColor:"transparent",borderRadius:"15%",border:"0.25em solid ".concat(i),transform:"translate(0, -1em) rotate(-45deg)",animationFillMode:"both",animation:"".concat(fee," ").concat(2.5/o,"s infinite cubic-bezier(0.79, 0, 0.47, 0.97)")},g={position:"absolute",width:"7.1em",height:"7.1em",top:"1.7em",left:"1.7em",borderLeft:"0.25em solid ".concat(i),transform:"rotate(45deg)"};return n?P.createElement("span",Gp({style:h},d),P.createElement("span",{style:p},P.createElement("span",{style:m}),P.createElement("span",{style:g}))):null}var Qp=function(){return Qp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Qp.apply(this,arguments)},mee=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},zt=[1,3,5],gee=[Zi("PropagateLoader","25% {transform: translateX(-".concat(zt[0],`rem) scale(0.75)}
    50% {transform: translateX(-`).concat(zt[1],`rem) scale(0.6)}
    75% {transform: translateX(-`).concat(zt[2],`rem) scale(0.5)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-0"),Zi("PropagateLoader","25% {transform: translateX(-".concat(zt[0],`rem) scale(0.75)}
    50% {transform: translateX(-`).concat(zt[1],`rem) scale(0.6)}
    75% {transform: translateX(-`).concat(zt[1],`rem) scale(0.6)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-1"),Zi("PropagateLoader","25% {transform: translateX(-".concat(zt[0],`rem) scale(0.75)}
    75% {transform: translateX(-`).concat(zt[0],`rem) scale(0.75)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-2"),Zi("PropagateLoader","25% {transform: translateX(".concat(zt[0],`rem) scale(0.75)}
    75% {transform: translateX(`).concat(zt[0],`rem) scale(0.75)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-3"),Zi("PropagateLoader","25% {transform: translateX(".concat(zt[0],`rem) scale(0.75)}
    50% {transform: translateX(`).concat(zt[1],`rem) scale(0.6)}
    75% {transform: translateX(`).concat(zt[1],`rem) scale(0.6)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-4"),Zi("PropagateLoader","25% {transform: translateX(".concat(zt[0],`rem) scale(0.75)}
    50% {transform: translateX(`).concat(zt[1],`rem) scale(0.6)}
    75% {transform: translateX(`).concat(zt[2],`rem) scale(0.5)}
    95% {transform: translateX(0rem) scale(1)}`),"propogate-5")];function yee(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,c=u===void 0?15:u,d=mee(t,["loading","color","speedMultiplier","cssOverride","size"]),h=V2(c),p=h.value,m=h.unit,g=Qp({display:"inherit",position:"relative"},l),w=function(v){return{position:"absolute",fontSize:"".concat(p/3).concat(m),width:"".concat(p).concat(m),height:"".concat(p).concat(m),background:i,borderRadius:"50%",animation:"".concat(gee[v]," ").concat(1.5/o,"s infinite"),animationFillMode:"forwards"}};return n?P.createElement("span",Qp({style:g},d),P.createElement("span",{style:w(0)}),P.createElement("span",{style:w(1)}),P.createElement("span",{style:w(2)}),P.createElement("span",{style:w(3)}),P.createElement("span",{style:w(4)}),P.createElement("span",{style:w(5)})):null}var Yp=function(){return Yp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yp.apply(this,arguments)},_ee=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},vee=Zi("PulseLoader","0% {transform: scale(1); opacity: 1} 45% {transform: scale(0.1); opacity: 0.7} 80% {transform: scale(1); opacity: 1}","pulse");function wee(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,c=u===void 0?15:u,d=t.margin,h=d===void 0?2:d,p=_ee(t,["loading","color","speedMultiplier","cssOverride","size","margin"]),m=Yp({display:"inherit"},l),g=function(w){return{backgroundColor:i,width:kf(c),height:kf(c),margin:kf(h),borderRadius:"100%",display:"inline-block",animation:"".concat(vee," ").concat(.75/o,"s ").concat(w*.12/o,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return n?P.createElement("span",Yp({style:m},p),P.createElement("span",{style:g(1)}),P.createElement("span",{style:g(2)}),P.createElement("span",{style:g(3)})):null}function gT(){const t={display:"flex",justifyContent:"center",alignContent:"center",height:"50vh"};return f.jsx("div",{style:t,children:f.jsx(pee,{color:"#36d7b7"})})}function Eee(){const[t,e]=P.useState([]),[n,r]=P.useState(!1);return P.useEffect(()=>{r(!0),Be.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{r(!1)})},[]),f.jsx(f.Fragment,{children:n?f.jsx(gT,{}):f.jsx("div",{className:cee.product__container,children:t.map(i=>f.jsx(tu,{product:i,renderADD:!0},i.id))})})}const Iee="/assets/img1-BqvNqlv9.jpeg",Tee="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAsICAgICAsICAsQCwkLEBMOCwsOExYSEhMSEhYVERMSEhMRFRUZGhsaGRUhISQkISEwLy8vMDY2NjY2NjY2NjYBDAsLDA0MDw0NDxMODg4TFA4PDw4UGhISFBISGiIYFRUVFRgiHiAbGxsgHiUlIiIlJS8vLC8vNjY2NjY2NjY2Nv/CABEIAHQAugMBIgACEQEDEQH/xAAxAAEAAgIDAQAAAAAAAAAAAAAAAQMEBgIFBwgBAQEBAQAAAAAAAAAAAAAAAAABAgP/2gAMAwEAAhADEAAAAPWpSQkAAAAAAAIkQkRVdQXTEgAAAB1+gHp7wnrT6IfPew3PsbTdymgAFF9BdMSAADVjYPMtQ68qoovIvqkyMy2d86N18zzMdPpdp+4ACi+gumJABrp1PkXPCO/1y7icZms57JqVh3nRFlxlS+47KACi+gumJAHl3qOuHz7lbR0ZhcsaDM6jljlvPH301C/ssco7fa/TDPAAovoLpiQDo9Y3fMNM3DmOo1ffx5hjesDVdqAAAABRfQXTEgAAAAAAAAACi+g5AA5SIAAAAABHEAVUJ//EAD4QAAIBAgQDBgMFBgQHAAAAAAECAwQRAAUSIQYxQRMiMlFhcQcgoRQjQoGRFTAzQFJyFkNi8BckRYKxwdH/2gAIAQEAAT8AVVsNhy8saV8hjSvkMaV8hgADl+/0r5DGlfIY0r5DGlfIYa1zsOfkML4R7fy7eI++F8I9v5dvEffC+Ee37rNc9yjI4u2zWrjpwRdVY3dv7EF2b8hjMfjLQ63iyajd9N/v6ruKbc9KISx/MjFX8SOJa8kLX9gp5JToI7elyGb64biHN6o6pcyqZD1Pbv8A+mxDnmbQsGizGpQ38XbybepuxxT8Y8WZXIqfbFr49AnOtRMpjvuRIoRrdCbm2Mn+JGUV860tepoJJLdlK7AwsTtpL7aDfbvCx6HHPcfM3iPvhfCPb9xmGY0OVUr1mYzpT06eKSQ2F+gA5knoBuccRfFCsqddNkCGkg3BrJQDMw844zdUHq1z6DD1bVtQ880zSzyHvTysWkc/3Nc2/wBjC1KxymCFBM43eYd1if8AU2+w9LYdWckysSxFu73QB5ADpikkhgjELQq0fUjuvv8A6hz/ADGHX8dPqdB/lNYSj+0juv7bHEWZykCRI4RJIpAqVj0sVPdbYWW/Q7YmSBKYSlvvEIVV/qD7Mp9Lb44F40fLpYslzWUtl8hCUs7m5gY7LGzH/LJ2BPhPpy+VvEffC+Ee3z8V8cUHDoNJAoq81K3FMDZYweTzsL6R1A5nptvjM82zTP6tquvmaoljBblaOFCbWjjFwo6eZ6nE6U8VneQOB3kvujekkex/K+G7apm7RnOxA7WwUFRyAW3P6YRUjXQgsv1PqTg74iQySCNfEfpjK6VXZZ9tG4pdRADHk0xJ281T8z5Yr2p6KlljqW0Kz9pCAAWMvhYrbqRs+9mFj4gbq1RVaZ3BSnRrIPM9d+pt+mFkBuDuDsRj4d8QtnGUmhqn1V2X2Qsx7zwn+FIfMixUnzHr8reI++F8I9vm4543OUasmydwc1ZQZ57BlpkYbGx2MjDwqeXM7WBqJwgeWV2a5LyyMSzu7blmY7szHqcU1RTUOUGedAJSgliIuHEr7RhGHNQNj08xhZGqHeomGokkqDyYncuR5eQ5Y3O559cDCBpnEce2r8R5AefthTTQZcclpkDGptJWTMoZgoOzXN7SORpT+kXOK/PoaRDS0aiSYgK6A3iXTsoNvIbWGLtLUyT5prkkUKUQ7Br7gE/hUDoBjtGcC/JRZFGwA52UdBgvoVn56Rf9McF8MUOQZZDOkerMaqFGq6h93JYBzGv9KKTsB7nf5W8R98L4R7fLxpxL/hvKu0gs2Y1RMVEjbgNa7SOP6YxufM2HXE8zXkllkLyyM0k0zm7O7bs7nqScU6/bZTPKP+Wh2VDyZj0P/k/pipLSKtMWP2aM6hFfu6rWH5AYA88HoOp5DFQNMWoMBID4G8J9j54iqWgJkdbW5L6+WBmNVVIKSntE0pLTyFrM7Hnc7WUKLADphewpD91aWQfiI2v6emLyTOZZTqdtyThVxQUv2yvpKMbmoqIYrejyKD9MAACw2A5D5W8R98L4R7fL8WVda7K5TfszFOqnpq1Rk/TFbUaiVv3FPePmfL8sURmNGnaII0H8K19TAndiD5+fXDLviKGSUnQO6PE58Ivy9yegG5xURx0i3lbQT/Vsx/IcvYYnnRz3VLep2+mFWVlBWMuelhcC/kBiKkm0mUqAfwKdmPnpGI4wd/8Af54C2woxwgktZxXlMNHG07RVMc0xUd1I4zqZ2PQAfX5m8R98L4R7fLxpwseKsuhpYplp6mCYSRzsC1lIKSCw81Nx6gYzzgbhvhcWzvPJZawqZKajp6dSSoNlZ9blbE87kX6Yy3KuJOInl/Y1M1XFHe82hY4+7+HW5CavJQcVX7Qo6h6SsR6apjNpIZE0OvuCL4gq6uEnspmUte5HPfmVvex9RviWndiZAxdjz1G7fr1xbz54DNGwZGKsNwwNj+oxlnw44yzCgjzExU6NKuqKOpdlmKncMyhSBfyY388ZpwxxNkxZ67LKgn8dQq9rFty78OoAeXLGX5VnuZuI6HL5Z5DyCKfa7E2VR/cRjI/hFW1BWfiWrEEfP7FSkM/s8pGkf9oPvjKMjynIqb7JlNKlNFtq0DvMR1dzdmPqSfmbxH3wvhHt8nEXF+RcLov7VqCszrqip41LyOLkXAGwFxzJAwM64+4v7uR0QyDK3/6hWC87KesaEdRystv9WKD4Y8OQlajNhLm+YFxJNV1budbWtYxhtJXrZr++IYYaeJYYI1iiQaUjQBVUDoFFgBjPeF8i4kjRM4pFnaP+FKCUkX0DoQ1vS9sVPwe4ZkBNNPWUzdLSK6/pIhP1xJ8GKe/3OcyqOgeBG+oZcf8ABMvMplzn7r8WmnsxHkLykDGSfDnhTIyskVGKupWxFRV2la45EKQEUjoQt/3beI++F8I9vkmynLKiujzKopYpa2FdEM8ihmRblu5qvpNzzG/8m3iPvhfCPb+XbxH3wvhHt/Lt4j74WVrDYY7VvTHat6Y7VvTAcnGs41nGs41nGs41nGs41nGs41nGs41nGs4LkDHat6Y7VvTHat6Y7VvTBlNzsPr/APcf/8QAHxEBAAICAAcAAAAAAAAAAAAAAQIRMDEhQEFQYYHR/9oACAECAQE/AOTIqKFhv3kjKcS42Gr8/cirV9OB3X//xAAfEQEAAgEDBQAAAAAAAAAAAAABAhExAzBBEkBQYYH/2gAIAQMBAT8A7NnGKRUGVpfNZ3Jw05vTMFC6c05+PO4RC6Mtryvt8r//2Q==",See="/assets/2-D1fzEnXU.jpeg",Aee="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAsICAgICAsICAsQCwkLEBMOCwsOExYSEhMSEhYVERMSEhMRFRUZGhsaGRUhISQkISEwLy8vMDY2NjY2NjY2NjYBDAsLDA0MDw0NDxMODg4TFA4PDw4UGhISFBISGiIYFRUVFRgiHiAbGxsgHiUlIiIlJS8vLC8vNjY2NjY2NjY2Nv/CABEIAHQAugMBIgACEQEDEQH/xAAuAAEAAgMBAQAAAAAAAAAAAAAAAwcBBQYEAgEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAALayyYZAAA8p6nz8kgAAAMMjEU0BNnGQAABWFlUKWtruN8pdnqqS2wAAABBPATZxkAAA0lR3rTZy0HWcYdPe1d9Kb9wfaHoAAAgngJs4yAAAc3ydkVqc3yXQ84W15dNvyx5tbtAAABBPATZxkAAAVZaetOa5OyOVKzg6rsCvb3126AAAEE8BNnGQAAA+amLVqv2cudV6+V9JZ204PvAAABBPATZxkAAAx5/SMVbZunN8CvbCAAABBPAfQAPv6AAAAAAB8h8ARCf/xAA3EAACAQIFAQcDAgUDBQAAAAABAgMEEQAFBhIhMRMwMkFRYXEHFCKBkRUjQlKhEBYkM4KisdH/2gAIAQEAAT8AVVsOB09MbV9BjavoMbV9BgADoO/sD1GNq+gxtX0GNq+gw1rngdfQYXwj47n+I0v8ROVbv+WIBU7LcdmXMdwfZhzjevrhp40ALNYEhb+5Nh/nvG8R+cL4R8dznGaNQ/VelcPaOSGKglHladXdf2YqcZjqChy541raqKnMhsglcLfy4uenv0xq/NJYNMVdVTN/OvD2JXm7dqjLa3rtxleYQZrl1LmVMQYaqJZUtzbcLlT7g8Hu28R+cL4R8dxU1MNHTy1dQwSCFGklc9AqgsT+wxXVtXnOf/fQRF6qSc15S+3ZFBaWzOeFCRoASfPFbqmojq5anK46eWnnIFbPWQdoawNa8e2Sxipk4VEFieWPJxPWTV9MciyqAwQVckbxUc8gKQVCvcQU8xP5RynwhgNrcdDj6carOV1Y09mW5KWqlK028WaCpJIeFweQHb9m+eO6bxH5wvhHx3GsqSau0tm1LT/9V6ZygHUlRvt+trY0ahr6zMaOPipzHK5oaRj/AH3STb/3AWxLK8kJRgUaxVkPVWHBUj1DCxxVzs1NvU2YruBHUMOhHvcY1QEp9XPP0K1NFNUAcfzCsDynj1a57tvEfnC+EfHcSMiozSEBADuv0t74p8jNLmq5hpevp8ykopmn/hqMY6kREt2kao9hJZSRwRjX+VxUtfDnNKNtPmgLTLa1qhQCWt5dohBI/uBwWUKm42VXF7+ShgT/AIxNomDNtQV+bZtJuy2eVZKaliNmlXYn5SuOVS44C8n1Axm2qctyWgeeWVd8MqUzoATskdO0QMo55QX+MUmvKurmX7KbLKyJ/wChpZKOW3t24dG/Q4oata6kiq1AAkW5CsHAPQgOvDAEdR17hvEfnC+EfHca9zGbK9M1VVTXE+6JI3H9DNIv5H2xp2oqM6SLOkoaCOUzHt611b7gPFYFkAWxZh0O4W874+oGdTVuctltttNQH8Be5aSQBmc/AIUYLXuPI40DmlRU6ciiqXMjU0skETNyRGtiik+e0Gw9sNpWfVusqqaaYDJ6CSBayEsbu4iSTs1UC1mvZiTwLgYmoKGohWnnpoZYFFlieNWQD0CkEDEUUUEawwoscSAKiIAqqB0AA4A7hvEfnC+EfHcV9FT5jRzUVVGssEylXjcblPpcH0PONAOzZO1AQTNTzShwOtyx626G4IxrXLcziz+sneinEMpRkm7NjGRsANnAI6jCQTNyoBHlzjSOoKbJKA0lbBKzGR5N8ZW1mtxtYg3FsZJqrTmSVuYV0c9dUPmcglnieFAqMtwNm1r8A264yjUOVZ3E0tBOJOzsJUIKyIT03o3Iv5Hp3LeI/OF8I+O51horOYMyqcz05DJN944l2wuEMbtbtAyllBBI3A+XIxovUNbVmsyTON0eZZbtuz3VpYX4DMD1KtwT5i2PqN9pQZ/G9PEoNVTLJIFAADKzLew4uwHODmRtwgGHrZW6cfGNGV9XTary2VCT2ztTyjn8o5Fa4462IBHuMZeJRSr2q7WJYhT1CkmwP6dw3iPzhfCPjucyoMyrZ4Ptsyaiok5qYYolMsvPhEzk9mPXat/QjE2lsvNdBmVJup6uFXjkkBLmaKTqkpcljYgFTe4ONY6AzTPK6GtpqqBIoKco/ah9xIZn/EID5H1xkP03zrNapkrkagy8JvStsj9pcjZ2ce8GzDm56YpPpJkMXNZVVVSfQMsQ/ZFv/nGVaQ05ksy1WXUKR1Kgqs7FncA9bM5a1/buW8R+cL4R8d1WVMdFST1k1+yp43lksLnailjYD2GJfqPW5jkFXFmdMIVr6edKSpp2KlXsV2spYn8SQLg39jjRmuchyXSlLDm9azViPKGhCySyWMjMt7A24PFziT6wZExP2VDW1Kjq4RFUW8yS5sPnGnc9ptR5VDm1KjxRyllMcltysjFWFxcEXHBHct4j84Xwj47iR1ijaVzZEBZj6AC5OMrr/qBr4VNVlmaw5dQRSmPZGdjL0YD8UaRvxI5LDm+D9JswrfzzbUdRPITcgK7j95ZW/wDWNWaPodN11FluX1M2YZrXcCBkQWUnYhG0A7ma4UHjgnGW/SjUFdly1r1EdBUuWtRTo24AEgF2RiBe17bTxiuf6g5Fls+V55ly5pkksZilaAAER+olplV1I9XjPvjQesdJzUlNkGXLJl8qlhBSVLFwWZmkKxzXIbk8A2Pt3LeI/OF8I+O4IDAqwuCLEHzGKLLqDLY+yy+mipoyACsKKgO0bVvtAuQBbnDusatI7BUUFmZjYADkkk9AMaEP+6NbZtqisBb7UbaNeqoHLxJY9LrEn/kT/rqLRWaZjrOgzehgp0yyBqeSoKkROzJKXkJ2LdmAAIJ8uL9y3iPzhfCPjuqumiraSejmv2VRG8UluDtdSrW/Q40tpHLtJwSw0EkshqOzMzSsDdo1KgqoAC3v07xvEfnCytYcDHat7Y7VvbHat7YRi3Xv3YqLjHat7Y7VvbHat7YMpueB/n/7j//EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQIBAT8AQf/EABQRAQAAAAAAAAAAAAAAAAAAAGD/2gAIAQMBAT8AQf/Z",Pee="/assets/4-DGxu4zD0.jpeg",Ree="/assets/5-Bd6H-rF8.jpeg",bee="/assets/6-6e_YTvUZ.jpeg",Cee="/assets/7-BhSM7dmV.jpeg",kee="/assets/8-DRdTfQPO.jpeg",xee="/assets/9-VAJmETmD.jpeg",Oee="/assets/10-BcvJ8qaI.jpeg",Nee="/assets/11-S7k7Lyux.jpeg",Dee="/assets/13-CPkGvku1.jpg",y_=[{title:"Gaming accessories",set:[{subTitle:"HeadSet",pic:Iee},{subTitle:"Keyboards",pic:See},{subTitle:"Computer mice",pic:Tee},{subTitle:"Chairs",pic:Aee}]},{title:"Refresh your space",set:[{subTitle:"Dinning",pic:Pee},{subTitle:"Home",pic:Ree},{subTitle:"Kitchen",pic:Dee},{subTitle:"Health and Beauty",pic:bee}]},{title:"Deal in PCs ",set:[{pic:Nee}]},{title:"Shop deals in Fashion",set:[{subTitle:"Jeans under $50",pic:Cee},{subTitle:"Tops Under $25",pic:kee},{subTitle:"Dresses under $30",pic:xee},{subTitle:"Shoes under $50",pic:Oee}]}],Lee="_pro_flex_container_xkv25_5",Mee="_pro_flex_child_xkv25_25",Vee="_seeMore_xkv25_47",Fee="_title_xkv25_63",jee="_singlePro_xkv25_95",fa={pro_flex_container:Lee,pro_flex_child:Mee,seeMore:Vee,title:Fee,singlePro:jee};function $ee(){return f.jsx("div",{className:fa.pro_flex_container,children:y_==null?void 0:y_.map((t,e)=>f.jsxs("div",{className:fa.pro_flex_child,children:[f.jsx("div",{className:fa.title,children:t.title}),f.jsx("div",{className:fa.pro_container,style:{display:"grid",gridTemplateColumns:`repeat(${t.set.length/2},1fr)`,gap:"40px 20px"},children:t.set.map((n,r)=>f.jsxs("div",{className:fa.singlePro,children:[f.jsx("div",{children:f.jsx("img",{src:n.pic,alt:""})}),f.jsx("div",{children:f.jsx("p",{children:n.subTitle})})]},r))}),f.jsx("div",{className:fa.seeMore,children:"see more"})]},e))})}function Uee(){return f.jsxs(Gl,{children:[f.jsx(fG,{}),f.jsx(wG,{}),f.jsx($ee,{}),f.jsx(Eee,{})]})}const Bee="_payment_header_ssuna_1",zee="_payment_ssuna_1",qee="_flex_ssuna_23",Wee="_paymentCard_container_ssuna_55",Hee="_payment_price_ssuna_73",Kee="_payment_detail_ssuna_65",Gee="_loading_ssuna_117",si={payment_header:Bee,payment:zee,flex:qee,paymentCard_container:Wee,payment_price:Hee,payment_detail:Kee,loading:Gee};function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){F2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xf(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xf=function(e){return typeof e}:xf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function F2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j2(t,e){return Qee(t)||Yee(t,e)||Jee(t,e)||Xee()}function Qee(t){if(Array.isArray(t))return t}function Yee(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Jee(t,e){if(t){if(typeof t=="string")return YP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YP(t,e)}}function YP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var In=function(e,n,r){var i=!!r,s=oe.useRef(r);oe.useEffect(function(){s.current=r},[r]),oe.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[i,n,e,s])},Lw=function(e){var n=oe.useRef(e);return oe.useEffect(function(){n.current=e},[e]),n.current},Pl=function(e){return e!==null&&xf(e)==="object"},Zee=function(e){return Pl(e)&&typeof e.then=="function"},ete=function(e){return Pl(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},JP="[object Object]",tte=function t(e,n){if(!Pl(e)||!Pl(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===JP,o=Object.prototype.toString.call(n)===JP;if(s!==o)return!1;if(!s&&!r)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var u={},c=0;c<a.length;c+=1)u[a[c]]=!0;for(var d=0;d<l.length;d+=1)u[l[d]]=!0;var h=Object.keys(u);if(h.length!==a.length)return!1;var p=e,m=n,g=function(v){return t(p[v],m[v])};return h.every(g)},$2=function(e,n,r){return Pl(e)?Object.keys(e).reduce(function(i,s){var o=!Pl(n)||!tte(e[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?QP(QP({},i||{}),{},F2({},s,e[s])):i},null):null},U2="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",XP=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U2;if(e===null||ete(e))return e;throw new Error(n)},nte=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U2;if(Zee(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return XP(i,n)})};var r=XP(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},rte=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},sy=oe.createContext(null);sy.displayName="ElementsContext";var B2=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},Mw=function(e){var n=e.stripe,r=e.options,i=e.children,s=oe.useMemo(function(){return nte(n)},[n]),o=oe.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=j2(o,2),l=a[0],u=a[1];oe.useEffect(function(){var h=!0,p=function(g){u(function(w){return w.stripe?w:{stripe:g,elements:g.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(m){m&&h&&p(m)}):s.tag==="sync"&&!l.stripe&&p(s.stripe),function(){h=!1}},[s,l,r]);var c=Lw(n);oe.useEffect(function(){c!==null&&c!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[c,n]);var d=Lw(r);return oe.useEffect(function(){if(l.elements){var h=$2(r,d,["clientSecret","fonts"]);h&&l.elements.update(h)}},[r,d,l.elements]),oe.useEffect(function(){rte(l.stripe)},[l.stripe]),oe.createElement(sy.Provider,{value:l},i)};Mw.propTypes={stripe:Ve.any,options:Ve.object};var ite=function(e){var n=oe.useContext(sy);return B2(n,e)},ste=function(){var e=ite("calls useElements()"),n=e.elements;return n};Ve.func.isRequired;var z2=oe.createContext(null);z2.displayName="CustomCheckoutSdkContext";var ote=function(e,n){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CustomCheckoutProvider> provider."));return e},ate=oe.createContext(null);ate.displayName="CustomCheckoutContext";Ve.any,Ve.shape({clientSecret:Ve.string.isRequired,elementsOptions:Ve.object}).isRequired;var Vw=function(e){var n=oe.useContext(z2),r=oe.useContext(sy);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?ote(n,e):B2(r,e)},lte=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},mt=function(e,n){var r="".concat(lte(e),"Element"),i=function(l){var u=l.id,c=l.className,d=l.options,h=d===void 0?{}:d,p=l.onBlur,m=l.onFocus,g=l.onReady,w=l.onChange,v=l.onEscape,y=l.onClick,_=l.onLoadError,I=l.onLoaderStart,E=l.onNetworksChange,T=l.onConfirm,S=l.onCancel,C=l.onShippingAddressChange,F=l.onShippingRateChange,D=Vw("mounts <".concat(r,">")),ee="elements"in D?D.elements:null,Se="customCheckoutSdk"in D?D.customCheckoutSdk:null,de=oe.useState(null),yt=j2(de,2),xe=yt[0],un=yt[1],Yt=oe.useRef(null),$=oe.useRef(null);In(xe,"blur",p),In(xe,"focus",m),In(xe,"escape",v),In(xe,"click",y),In(xe,"loaderror",_),In(xe,"loaderstart",I),In(xe,"networkschange",E),In(xe,"confirm",T),In(xe,"cancel",S),In(xe,"shippingaddresschange",C),In(xe,"shippingratechange",F),In(xe,"change",w);var K;g&&(e==="expressCheckout"?K=g:K=function(){g(xe)}),In(xe,"ready",K),oe.useLayoutEffect(function(){if(Yt.current===null&&$.current!==null&&(ee||Se)){var ue=null;Se?ue=Se.createElement(e,h):ee&&(ue=ee.create(e,h)),Yt.current=ue,un(ue),ue&&ue.mount($.current)}},[ee,Se,h]);var Q=Lw(h);return oe.useEffect(function(){if(Yt.current){var ue=$2(h,Q,["paymentRequest"]);ue&&Yt.current.update(ue)}},[h,Q]),oe.useLayoutEffect(function(){return function(){if(Yt.current&&typeof Yt.current.destroy=="function")try{Yt.current.destroy(),Yt.current=null}catch{}}},[]),oe.createElement("div",{id:u,className:c,ref:$})},s=function(l){Vw("mounts <".concat(r,">"));var u=l.id,c=l.className;return oe.createElement("div",{id:u,className:c})},o=n?s:i;return o.propTypes={id:Ve.string,className:Ve.string,onChange:Ve.func,onBlur:Ve.func,onFocus:Ve.func,onReady:Ve.func,onEscape:Ve.func,onClick:Ve.func,onLoadError:Ve.func,onLoaderStart:Ve.func,onNetworksChange:Ve.func,onConfirm:Ve.func,onCancel:Ve.func,onShippingAddressChange:Ve.func,onShippingRateChange:Ve.func,options:Ve.object},o.displayName=r,o.__elementType=e,o},gt=typeof window>"u",ute=oe.createContext(null);ute.displayName="EmbeddedCheckoutProviderContext";var cte=function(){var e=Vw("calls useStripe()"),n=e.stripe;return n};mt("auBankAccount",gt);var ZP=mt("card",gt);mt("cardNumber",gt);mt("cardExpiry",gt);mt("cardCvc",gt);mt("fpxBank",gt);mt("iban",gt);mt("idealBank",gt);mt("p24Bank",gt);mt("epsBank",gt);mt("payment",gt);mt("expressCheckout",gt);mt("paymentRequestButton",gt);mt("linkAuthentication",gt);mt("address",gt);mt("shippingAddress",gt);mt("paymentMethodMessaging",gt);mt("affirmMessage",gt);mt("afterpayClearpayMessage",gt);const dte=Be.create({baseURL:"https://amazon-backend-3hgv.onrender.com/"});function hte(){const[{basket:t,user:e},n]=P.useContext(ei),[r,i]=P.useState(!1),s=xl(),o=t==null?void 0:t.reduce((m,g)=>g.amount+m,0),a=t.reduce((m,g)=>g.price*g.amount+m,0),l=cte(),u=ste(),[c,d]=P.useState(null),h=m=>{var g,w;(g=m==null?void 0:m.error)!=null&&g.message?d((w=m==null?void 0:m.error)==null?void 0:w.message):d("")},p=async m=>{var g;m.preventDefault();try{i(!0);const v=(g=(await dte({method:"post",url:`/payment/create?total=${a*100}`})).data)==null?void 0:g.clientSecret,{paymentIntent:y}=await l.confirmCardPayment(v,{payment_method:{card:u.getElement(ZP)}});await iL.collection("users").doc(e.uid).collection("orders").doc(y.id).set({basket:t,amount:y.amount,created:y.created}),n({type:Qn.EMPTY_BASKET}),s("/orders",{state:{msg:"you have placed new orders"}}),i(!1)}catch(w){console.log(w),i(!1)}};return f.jsxs(Gl,{children:[f.jsxs("div",{className:si.payment_header,children:["Checkout ",o,"-items"]}),f.jsxs("div",{className:si.payment,children:[f.jsxs("div",{className:si.flex,children:[f.jsx("h3",{children:"Delivery Address"}),f.jsxs("div",{children:[f.jsx("div",{children:e==null?void 0:e.email}),f.jsx("div",{children:"321"})]})]}),f.jsx("hr",{}),f.jsxs("div",{className:si.flex,children:[f.jsx("h3",{children:"Review items and delivery"}),f.jsx("div",{children:t==null?void 0:t.map((m,g)=>f.jsx(tu,{product:m,flex:!0},g))})]}),f.jsx("hr",{}),f.jsxs("div",{className:si.flex,children:[f.jsx("h3",{children:"Payment methods"}),f.jsx("div",{className:si.paymentCard_container,children:f.jsx("div",{className:si.payment_detail,children:f.jsxs("form",{action:"",onSubmit:p,children:[c&&f.jsx("small",{style:{color:"red"},children:c}),f.jsx(ZP,{onChange:h}),f.jsxs("div",{className:si.payment_price,children:[f.jsx("div",{children:f.jsxs("span",{style:{display:"flex",gap:"10px"},children:[f.jsx("p",{children:"Total Order"})," | ",f.jsx(mT,{amount:a})]})}),f.jsx("button",{type:"submit",children:r?f.jsxs("div",{className:si.loading,children:[" ",f.jsx(wee,{size:15,color:"gray"})," ",f.jsx("p",{children:" wait ..."})]}):"Buy  Now"})]})]})})})]})]})]})}const fte="_orders_container_1kyne_1",pte="_order_container_1kyne_11",eR={orders_container:fte,order_container:pte};function mte(){const[{user:t},e]=P.useContext(ei),[n,r]=P.useState([]);return P.useEffect(()=>{t?iL.collection("users").doc(t.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{r(i.docs.map(s=>({id:s.id,data:s.data()})))}):r([])},[]),f.jsx(Gl,{children:f.jsx("div",{className:eR.orders_container,children:f.jsxs("div",{className:eR.order_container,children:[f.jsx("h2",{children:"Your Orders"}),(n==null?void 0:n.length)===0&&f.jsx("div",{children:"you dont have order yet"}),f.jsx("div",{children:n==null?void 0:n.map((i,s)=>{var o;return f.jsxs("div",{children:[f.jsx("hr",{}),f.jsxs("p",{children:["Order ID : ",i==null?void 0:i.id]}),(o=i==null?void 0:i.data)==null?void 0:o.basket.map(a=>f.jsx(tu,{flex:!0,product:a},a.id))]},s)})})]})})})}const gte="_cart__outer__container_1b6gs_1",yte="_cart__inner__container_1b6gs_19",_te="_cart_product_1b6gs_41",vte="_cartbtn_container_1b6gs_51",wte="_cartbtn_1b6gs_51",Ete="_subtotal_1b6gs_83",Js={cart__outer__container:gte,cart__inner__container:yte,cart_product:_te,cartbtn_container:vte,cartbtn:wte,subtotal:Ete};function Ite(){const[{basket:t,user:e},n]=P.useContext(ei),r=t.reduce((o,a)=>a.price*a.amount+o,0),i=o=>{n({type:Qn.ADD_TO_BASKET,item:o})},s=o=>{n({type:Qn.REMOVE_FROM_BASKET,id:o})};return f.jsx(Gl,{children:f.jsxs("div",{className:Js.cart__outer__container,children:[f.jsxs("div",{className:Js.cart__inner__container,children:[f.jsx("h2",{children:" Your Shopping Bakset "}),f.jsx("hr",{}),(t==null?void 0:t.length)===0?f.jsx("p",{children:"No items found in your cart"}):t==null?void 0:t.map((o,a)=>f.jsxs("div",{className:Js.cart_product,children:[f.jsx(tu,{product:o,rendDescr:!0,flex:!0,renderADD:!1},a),f.jsxs("div",{className:Js.cartbtn_container,children:[f.jsx("button",{className:Js.cartbtn,onClick:()=>i(o),children:f.jsx(G7,{size:20})}),f.jsx("span",{children:o.amount}),f.jsx("button",{className:Js.cartbtn,onClick:()=>s(o.id),children:f.jsx(K7,{size:20})})]})]},a))]}),(t==null?void 0:t.length)!==0&&f.jsxs("div",{className:Js.subtotal,children:[f.jsxs("div",{children:[f.jsxs("p",{children:["Subtotal (",t==null?void 0:t.length," items)"]}),f.jsx(mT,{amount:r})]}),f.jsxs("span",{children:[f.jsx("input",{type:"checkbox"}),f.jsx("small",{children:"This order contains a gift "})]}),f.jsx(j,{to:"/payment",children:"Continue to checkout"})]})]})})}const Tte="_products_container_t7788_1",Ste={products_container:Tte},q2="https://fakestoreapi.com";function Ate(){const{categoryType:t}=AC(),[e,n]=P.useState([]),[r,i]=P.useState(!1);return P.useEffect(()=>{i(!0),Be.get(`${q2}/products/category/${t}`).then(s=>{n(s.data),i(!1)}).catch(s=>{i(!1)})},[]),f.jsx(Gl,{children:f.jsxs("div",{children:[f.jsx("h1",{style:{padding:"30px"},children:"Results"}),f.jsx("p",{style:{padding:"30px"},children:`Category/ ${t}`}),f.jsx("hr",{}),r?f.jsx(gT,{}):f.jsx("div",{className:Ste.products_container,children:e==null?void 0:e.map(s=>f.jsx(tu,{product:s,renderADD:!0},s.id))})]})})}function Pte(){const[t,e]=P.useState([]),[n,r]=P.useState(!1),{singleProductId:i}=AC();return P.useEffect(()=>{r(!0),Be.get(`${q2}/products/${i}`).then(s=>{e(s.data),r(!1)}).catch(s=>{console.log(s),r(!1)})},[]),f.jsx(Gl,{children:n?f.jsx(gT,{}):f.jsx(tu,{product:t,flex:!0,renderADD:!0,rendDescr:!0})})}const Rte="_cont_cuo27_1",bte="_form_container_cuo27_27",Cte="_sign_in_btn_cuo27_109",kte="_createAccount_btn_cuo27_147",qh={cont:Rte,form_container:bte,sign_in_btn:Cte,createAccount_btn:kte};function xte(){var m;const[t,e]=P.useState(""),[n,r]=P.useState(""),[i,s]=P.useState(""),o=_d(),[a,l]=P.useState({signUP:!1,signIn:!1}),[{user:u},c]=P.useContext(ei),d=xl(),h=()=>{U4(ac,t).then(()=>{Swal.fire({title:"Password Reset",text:`A reset password link has been sent to your email ${t}. Please check your email to proceed.`,icon:"info",confirmButtonText:"OK"})}).catch(g=>{console.log(g)})},p=g=>{g.preventDefault(),g.target.name=="signin"?(l({...a,signIn:!0}),z4(ac,t,n).then(w=>{var v;c({type:Qn.SET_USER,user:w.user}),l({...a,signIn:!1}),d(((v=o==null?void 0:o.state)==null?void 0:v.redirect)||"/")}).catch(w=>{s(w.message),l(!1)})):(l({...a,signUP:!0}),B4(ac,t,n).then(w=>{var v;c({type:Qn.SET_USER,user:w.user}),l({...a,signUP:!1}),d(((v=o==null?void 0:o.state)==null?void 0:v.redirect)||"/")}).catch(w=>{s(w.message),l(!1)}))};return f.jsxs("div",{className:qh.cont,children:[f.jsx(j,{to:"/",children:f.jsx("img",{src:"https://pngimg.com/uploads/amazon/small/amazon_PNG6.png",alt:"amazon-logo"})}),f.jsxs("div",{className:qh.form_container,children:[f.jsx("h1",{children:"Sign in"}),((m=o.state)==null?void 0:m.msg)&&f.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:o.state.msg}),f.jsxs("form",{action:"",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",children:"Email"}),f.jsx("input",{type:"email",name:"",id:"email",value:t,onChange:g=>e(g.target.value)})]}),f.jsxs("div",{children:[f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:[f.jsx("label",{htmlFor:"Password",children:"Password"}),f.jsx("span",{onClick:h,style:{fontSize:"14px",color:"lightcoral",paddingLeft:"20px",cursor:"pointer"},children:"Forgot Password ?"})]}),f.jsx("input",{type:"password",name:"",id:"password",value:n,onChange:g=>r(g.target.value)})]}),f.jsx("button",{className:qh.sign_in_btn,name:"signin",onClick:p,children:a.signIn?f.jsx(yee,{color:"white",size:10}):"SignIn"}),f.jsxs("p",{children:["By continuing, you agree to ",f.jsx("em",{children:"Amazon's FAKE CLONE"})," Conditions of Use and Privacy Notice."]}),f.jsx("button",{className:qh.createAccount_btn,name:"signup",onClick:p,children:"Create your Amazon account"}),i&&f.jsx("small",{style:{paddingTop:"5px",color:"red"},children:i})]})]})]})}var W2="https://js.stripe.com/v3",Ote=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,tR="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Nte=function(){for(var e=document.querySelectorAll('script[src^="'.concat(W2,'"]')),n=0;n<e.length;n++){var r=e[n];if(Ote.test(r.src))return r}return null},nR=function(e){var n="",r=document.createElement("script");r.src="".concat(W2).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},Dte=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"3.3.0",startTime:n})},Pu=null,Wh=null,Hh=null,Lte=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},Mte=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},Vte=function(e){return Pu!==null?Pu:(Pu=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(tR),window.Stripe){n(window.Stripe);return}try{var i=Nte();if(i&&e)console.warn(tR);else if(!i)i=nR(e);else if(i&&Hh!==null&&Wh!==null){var s;i.removeEventListener("load",Hh),i.removeEventListener("error",Wh),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=nR(e)}Hh=Mte(n,r),Wh=Lte(r),i.addEventListener("load",Hh),i.addEventListener("error",Wh)}catch(o){r(o);return}}),Pu.catch(function(n){return Pu=null,Promise.reject(n)}))},Fte=function(e,n,r){if(e===null)return null;var i=e.apply(void 0,n);return Dte(i,r),i},Ru,H2=!1,K2=function(){return Ru||(Ru=Vte(null).catch(function(e){return Ru=null,Promise.reject(e)}),Ru)};Promise.resolve().then(function(){return K2()}).catch(function(t){H2||console.warn(t)});var jte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];H2=!0;var i=Date.now();return K2().then(function(s){return Fte(s,n,i)})};const rR=({children:t,msg:e,redirect:n})=>{const r=xl(),[{user:i},s]=P.useContext(ei);return P.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:n}})},[i]),t},iR=jte("pk_test_51PFbglP2gIPwTiJTqU7IfhuVyovGee5wgPKvkFMeW8ABSGMlmJneaH2w2FA4JkWR61o0VYimbV8GKi19PA0ctyZF00Mhw9t62a");function $te(){return f.jsx(vj,{children:f.jsxs(hj,{children:[f.jsx(Yi,{path:"/",element:f.jsx(Uee,{})}),f.jsx(Yi,{path:"/auth",element:f.jsx(xte,{})}),f.jsx(Yi,{path:"payment",element:f.jsx(rR,{msg:"you must log in to pay",redirect:"/payment",children:f.jsx(Mw,{stripe:iR,children:f.jsx(hte,{})})})}),f.jsx(Yi,{path:"orders",element:f.jsx(rR,{msg:"you must log in to access your orders",redirect:"/orders",children:f.jsx(Mw,{stripe:iR,children:f.jsx(mte,{})})})}),f.jsx(Yi,{path:"cart",element:f.jsx(Ite,{})}),f.jsx(Yi,{path:"category/:categoryType",element:f.jsx(Ate,{})}),f.jsx(Yi,{path:"products/:singleProductId",element:f.jsx(Pte,{})})]})})}function Ute(){const[{user:t},e]=P.useContext(ei);return P.useEffect(()=>{ac.onAuthStateChanged(n=>{e(n?{type:Qn.SET_USER,user:n}:{type:Qn.SET_USER,user:null})})},[]),f.jsx(f.Fragment,{children:f.jsx($te,{})})}const Bte={basket:[],user:null},zte=(t,e)=>{switch(e.type){case Qn.ADD_TO_BASKET:if(t.basket.find(s=>s.id===e.item.id)){const s=t.basket.map(o=>o.id===e.item.id?{...o,amount:o.amount+1}:o);return{...t,basket:s}}else return{...t,basket:[...t.basket,{...e.item,amount:1}]};case Qn.REMOVE_FROM_BASKET:const r=t.basket.findIndex(s=>s.id===e.id);let i=[...t.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...t,basket:i};case Qn.EMPTY_BASKET:return{...t,basket:[]};case Qn.SET_USER:return{...t,user:e.user};default:return t}};__.createRoot(document.getElementById("root")).render(f.jsx(oe.StrictMode,{children:f.jsx(b7,{reducer:zte,intialState:Bte,children:f.jsx(Ute,{})})}));
